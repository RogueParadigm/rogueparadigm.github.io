"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[607],{1616(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"API-Reference","title":"API Reference","description":"Complete reference for public classes, interfaces, and events in ElysAwareness.","source":"@site/../Documentation/API-Reference.md","sourceDirName":".","slug":"/API-Reference","permalink":"/ElysAwareness/API-Reference","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysAwareness/tree/main/Documentation/../Documentation/API-Reference.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"id":"API-Reference","title":"API Reference","sidebar_position":10},"sidebar":"docsSidebar","previous":{"title":"Customization Guide","permalink":"/ElysAwareness/Customization"},"next":{"title":"Quick Reference","permalink":"/ElysAwareness/Quick-Reference"}}');var s=r(4848),i=r(8453);const o={id:"API-Reference",title:"API Reference",sidebar_position:10},a=void 0,l={},c=[{value:"Core Components",id:"core-components",level:2},{value:"UERPAwarenessComponent",id:"uerpawarenesscomponent",level:3},{value:"Properties",id:"properties",level:4},{value:"Methods",id:"methods",level:4},{value:"Events",id:"events",level:4},{value:"Overridable Functions",id:"overridable-functions",level:4},{value:"UERPDomainComponent (Abstract)",id:"uerpdomaincomponent-abstract",level:3},{value:"Properties",id:"properties-1",level:4},{value:"Methods",id:"methods-1",level:4},{value:"Events",id:"events-1",level:4},{value:"Virtual Hooks (BlueprintNativeEvent)",id:"virtual-hooks-blueprintnativeevent",level:4},{value:"UERPInteractionComponent",id:"uerpinteractioncomponent",level:3},{value:"Properties",id:"properties-2",level:4},{value:"Methods",id:"methods-2",level:4},{value:"Events",id:"events-2",level:4},{value:"ForceRefreshDescriptor",id:"forcerefreshdescriptor",level:4},{value:"RPCs (internal)",id:"rpcs-internal",level:4},{value:"UERPTargetingComponent",id:"uerptargetingcomponent",level:3},{value:"Properties",id:"properties-3",level:4},{value:"Methods",id:"methods-3",level:4},{value:"Events",id:"events-3",level:4},{value:"UERPChannelListenerComponent",id:"uerpchannellistenercomponent",level:3},{value:"Methods",id:"methods-4",level:4},{value:"Events",id:"events-4",level:4},{value:"UERPBaseInteractionFeedbackComponent (Optional)",id:"uerpbaseinteractionfeedbackcomponent-optional",level:3},{value:"Properties",id:"properties-4",level:4},{value:"Methods",id:"methods-5",level:4},{value:"Blueprint Hooks (BlueprintImplementableEvent)",id:"blueprint-hooks-blueprintimplementableevent",level:4},{value:"UERPCandidateRegistrySubsystem",id:"uerpcandidateregistrysubsystem",level:3},{value:"Methods",id:"methods-6",level:4},{value:"Events",id:"events-5",level:4},{value:"UERPRegistrationComponent",id:"uerpregistrationcomponent",level:3},{value:"Properties",id:"properties-5",level:4},{value:"Methods",id:"methods-7",level:4},{value:"Widget Base Classes",id:"widget-base-classes",level:2},{value:"UERPInteractionWidgetBase (Abstract)",id:"uerpinteractionwidgetbase-abstract",level:3},{value:"Methods",id:"methods-8",level:4},{value:"Virtual Hooks (BlueprintNativeEvent)",id:"virtual-hooks-blueprintnativeevent-1",level:4},{value:"UERPHoldInteractionWidgetBase (Abstract)",id:"uerpholdinteractionwidgetbase-abstract",level:3},{value:"Methods",id:"methods-9",level:4},{value:"Virtual Hooks (BlueprintNativeEvent)",id:"virtual-hooks-blueprintnativeevent-2",level:4},{value:"UERPTargetingWidgetBase (Abstract)",id:"uerptargetingwidgetbase-abstract",level:3},{value:"Methods",id:"methods-10",level:4},{value:"Virtual Hooks (BlueprintNativeEvent)",id:"virtual-hooks-blueprintnativeevent-3",level:4},{value:"Interfaces",id:"interfaces",level:2},{value:"IERPInteractable",id:"ierpinteractable",level:3},{value:"IERPTargetable",id:"ierptargetable",level:3},{value:"Pipeline Base Classes",id:"pipeline-base-classes",level:2},{value:"UERPSamplerBase",id:"uerpsamplerbase",level:3},{value:"UERPFilterBase",id:"uerpfilterbase",level:3},{value:"UERPScorerBase",id:"uerpscorerbase",level:3},{value:"UERPAggregatorBase",id:"uerpaggregatorbase",level:3},{value:"UERPResolverBase",id:"uerpresolverbase",level:3},{value:"Data Structures",id:"data-structures",level:2},{value:"FERPAwarenessContext",id:"ferpawarenesscontext",level:3},{value:"FERPInteractionDescriptor",id:"ferpinteractiondescriptor",level:3},{value:"FERPScorerEntry",id:"ferpscorerentry",level:3},{value:"FERPChannelPipeline",id:"ferpchannelpipeline",level:3},{value:"Default Implementations",id:"default-implementations",level:2},{value:"Samplers",id:"samplers",level:3},{value:"Filters",id:"filters",level:3},{value:"Scorers",id:"scorers",level:3},{value:"Validation Rules",id:"validation-rules",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Complete reference for public classes, interfaces, and events in ElysAwareness."}),"\n",(0,s.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,s.jsx)(n.h3,{id:"uerpawarenesscomponent",children:"UERPAwarenessComponent"}),"\n",(0,s.jsx)(n.p,{children:"Main perception component managing multi-channel pipeline execution."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Core/ERPAwarenessComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PerceptionTickInterval"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.0"}),(0,s.jsx)(n.td,{children:"Tick interval in seconds (0 = every frame)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DefaultSamplingRange"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"2000.0"}),(0,s.jsx)(n.td,{children:"Default sampling range (cm) passed to samplers"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ChannelPipelines"})}),(0,s.jsx)(n.td,{children:"TArray<FERPChannelPipeline>"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Multi-channel pipeline configuration"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bProvideViewportInfoWhenAvailable"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Include viewport size and screen reference in context"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DefaultScreenReferenceNdc"})}),(0,s.jsx)(n.td,{children:"FVector2D"}),(0,s.jsx)(n.td,{children:"(0.5, 0.5)"}),(0,s.jsx)(n.td,{children:"Default screen reference (normalized 0..1)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bEvaluateOnlyForLocalController"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"true"}),(0,s.jsx)(n.td,{children:"Only tick for the local player (multiplayer)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bDebugPerception"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Enable debug logging"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DebugPerceptionIntervalSeconds"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"0.0"}),(0,s.jsx)(n.td,{children:"Debug log throttle interval"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"AActor* GetChannelCandidate(FName ChannelId) const;\nbool HasChannelCandidate(FName ChannelId) const;\nvoid GetAllChannelCandidates(TArray<FName>& OutChannelIds, TArray<AActor*>& OutCandidates) const;\nbool ValidateActorForChannel(AActor* Actor, FName ChannelId) const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnChannelCandidateAcquiredSignature OnChannelCandidateAcquired; // (FName ChannelId, AActor* Candidate)\nFERPOnChannelCandidateLostSignature OnChannelCandidateLost;         // (FName ChannelId, AActor* Candidate)\nFERPOnChannelEvaluatedSignature OnChannelEvaluated;                 // (FName ChannelId, TArray<FERPPipelineScoredCandidate> ScoredCandidates)\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"OnChannelEvaluated"})," fires after each channel evaluation with ALL scored candidates (post-filter, post-scoring). Use this for minimap markers, radar displays, or any UI that needs the full candidate set \u2014 not just the winner."]}),"\n",(0,s.jsx)(n.h4,{id:"overridable-functions",children:"Overridable Functions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"// Override to customize aim ray (default: owner view point)\nvoid GetPerceptionAimRay(FVector& OutOrigin, FVector& OutDirection) const;\n\n// Override to provide custom screen reference point\nbool GetScreenReferenceNdc(FVector2D& OutScreenReferenceNdc) const;\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpdomaincomponent-abstract",children:"UERPDomainComponent (Abstract)"}),"\n",(0,s.jsx)(n.p,{children:"Base class for gameplay domain components that consume perception events."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Core/ERPDomainComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties-1",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PerceptionComponent"})}),(0,s.jsx)(n.td,{children:"UERPAwarenessComponent*"}),(0,s.jsx)(n.td,{children:"nullptr"}),(0,s.jsx)(n.td,{children:"Auto-found on owner at BeginPlay"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ChannelId"})}),(0,s.jsx)(n.td,{children:"FName"}),(0,s.jsx)(n.td,{children:"None"}),(0,s.jsx)(n.td,{children:"Perception channel to listen to"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-1",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"AActor* GetCurrentCandidate() const;\nbool HasCandidate() const;\nvoid SetCandidate(AActor* Candidate);\nvoid ClearCandidate();\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events-1",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnDomainCandidateChangedSignature OnDomainCandidateChanged; // (AActor* Previous, AActor* New, FName ChannelId)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"virtual-hooks-blueprintnativeevent",children:"Virtual Hooks (BlueprintNativeEvent)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"bool IsCandidateEligible(AActor* Candidate) const;       // Default: true\nvoid HandleCandidateUpdated(AActor* Previous, AActor* Current); // Default: no-op\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpinteractioncomponent",children:"UERPInteractionComponent"}),"\n",(0,s.jsx)(n.p,{children:"Interaction domain extending UERPDomainComponent. Adds RPC networking and automatic visual feedback notification."}),"\n",(0,s.jsxs)(n.p,{children:["When the candidate changes, the component automatically looks for an ",(0,s.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})," on the candidate actor. If found, it calls ",(0,s.jsx)(n.code,{children:"SetInteractionFocused"})," and ",(0,s.jsx)(n.code,{children:"UpdateInteractionDescriptor"}),". If not found, the candidate change is still processed normally \u2014 use ",(0,s.jsx)(n.code,{children:"OnDescriptorChanged"})," / ",(0,s.jsx)(n.code,{children:"OnDomainCandidateChanged"})," to drive your own UI."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Domains/Interaction/ERPInteractionComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties-2",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Rules"})}),(0,s.jsx)(n.td,{children:"TArray<UERPInteractionRule*>"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Instanced validation rules"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"MaxInteractionDistance"})}),(0,s.jsx)(n.td,{children:"float"}),(0,s.jsx)(n.td,{children:"500.0"}),(0,s.jsx)(n.td,{children:"Server-side distance validation (cm)"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-2",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void GetCurrentDescriptor(FERPInteractionDescriptor& OutDescriptor) const;\nbool HasDescriptor() const;\nvoid RequestInteraction();          // Handles networking automatically\nvoid ForceRefreshDescriptor();      // Re-pull descriptor from current candidate and broadcast if changed\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events-2",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnInteractionDescriptorChangedSignature OnDescriptorChanged;    // (AActor*, Descriptor, ChannelId)\nFERPOnInteractionExecutedSignature OnInteractionExecuted;           // (AActor*)\nFERPOnInteractionFailedSignature OnInteractionFailed;               // (AActor*, Reason)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"forcerefreshdescriptor",children:"ForceRefreshDescriptor"}),"\n",(0,s.jsxs)(n.p,{children:["Call ",(0,s.jsx)(n.code,{children:"ForceRefreshDescriptor()"}),' when an interactable changes its descriptor while remaining the active candidate (e.g., a door goes from "Open" to "Locked"). Perception only fires events on candidate ',(0,s.jsx)(n.em,{children:"transitions"})," \u2014 it does not detect data changes on the same actor."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ForceRefreshDescriptor()"})," re-pulls ",(0,s.jsx)(n.code,{children:"GetInteractionDescriptor"})," from the current candidate and, if the descriptor changed:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Broadcasts ",(0,s.jsx)(n.code,{children:"OnDescriptorChanged"})]}),"\n",(0,s.jsxs)(n.li,{children:["Notifies the ",(0,s.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})," on the candidate (if present)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If the descriptor is identical, nothing happens (no spurious events)."}),"\n",(0,s.jsx)(n.h4,{id:"rpcs-internal",children:"RPCs (internal)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"Server_RequestInteraction(AActor*)     // Server RPC with validation\nClient_OnInteractionSuccess(AActor*)   // Client notification\nClient_OnInteractionFailed(AActor*, Reason) // Client notification\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerptargetingcomponent",children:"UERPTargetingComponent"}),"\n",(0,s.jsx)(n.p,{children:"Targeting domain extending UERPDomainComponent."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Domains/Targeting/ERPTargetingComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties-3",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Rules"})}),(0,s.jsx)(n.td,{children:"TArray<UERPTargetRule*>"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Instanced validation rules"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-3",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"const UERPTargetDescriptor* GetCurrentDescriptor() const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events-3",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnTargetDescriptorChangedSignature OnDescriptorChanged; // (AActor*, Descriptor*, ChannelId)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpchannellistenercomponent",children:"UERPChannelListenerComponent"}),"\n",(0,s.jsx)(n.p,{children:"Lightweight single-channel event mirror. No domain logic."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Core/ERPChannelListenerComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-4",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"AActor* GetCurrentCandidate() const;\nbool HasCandidate() const;\nvoid SetPerceptionComponent(UERPAwarenessComponent* InPerceptionComponent);\nvoid SetChannelId(FName InChannelId);\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events-4",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnCandidateAcquiredSignature OnCandidateAcquired; // (AActor*)\nFERPOnCandidateLostSignature OnCandidateLost;         // (AActor*)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpbaseinteractionfeedbackcomponent-optional",children:"UERPBaseInteractionFeedbackComponent (Optional)"}),"\n",(0,s.jsxs)(n.p,{children:["Visual feedback component for interactable actors. When present on an actor, ",(0,s.jsx)(n.code,{children:"UERPInteractionComponent"})," automatically calls ",(0,s.jsx)(n.code,{children:"SetInteractionFocused"})," and ",(0,s.jsx)(n.code,{children:"UpdateInteractionDescriptor"})," when the actor gains/loses focus. If the actor doesn't have this component, the interaction system works normally \u2014 you can handle visuals from domain events instead."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Domains/Interaction/ERPBaseInteractionFeedbackComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties-4",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"CustomDepthStencilValue"})}),(0,s.jsx)(n.td,{children:"int32"}),(0,s.jsx)(n.td,{children:"1"}),(0,s.jsxs)(n.td,{children:["Stencil value used by ",(0,s.jsx)(n.code,{children:"ApplyDefaultCustomDepthFeedback"})]})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-5",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void SetInteractionFocused(APlayerController* PC, bool bFocused);         // Auto-called by ERPInteractionComponent\nvoid UpdateInteractionDescriptor(APlayerController* PC, const FERPInteractionDescriptor& Descriptor); // Auto-called by ERPInteractionComponent\nbool IsInteractionFocused() const;\nvoid ApplyDefaultCustomDepthFeedback(bool bEnable);  // Utility: toggles RenderCustomDepth on owner meshes\n"})}),"\n",(0,s.jsx)(n.h4,{id:"blueprint-hooks-blueprintimplementableevent",children:"Blueprint Hooks (BlueprintImplementableEvent)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void OnInteractionFocused(APlayerController* PC, bool bFocused); // Implement your visual feedback\nvoid OnDescriptorUpdated(APlayerController* PC, const FERPInteractionDescriptor& Descriptor); // Implement your UI update\n"})}),"\n",(0,s.jsxs)(n.p,{children:["These events have no default C++ behavior \u2014 you implement whatever you need in Blueprint. Use ",(0,s.jsx)(n.code,{children:"ApplyDefaultCustomDepthFeedback"})," inside your ",(0,s.jsx)(n.code,{children:"OnInteractionFocused"})," if you want the built-in outline effect."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpcandidateregistrysubsystem",children:"UERPCandidateRegistrySubsystem"}),"\n",(0,s.jsx)(n.p,{children:"World-level registry for declarative candidate registration (non-spatial perception)."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Core/ERPCandidateRegistrySubsystem.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-6",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void RegisterActor(FName ChannelId, AActor* Actor);       // Register for a channel (idempotent)\nvoid UnregisterActor(FName ChannelId, AActor* Actor);      // Unregister from a channel\nvoid UnregisterFromAll(AActor* Actor);                     // Unregister from all channels\nTArray<AActor*> GetRegisteredActors(FName ChannelId);      // Get all valid actors for a channel\nbool HasRegisteredActors(FName ChannelId) const;           // Check if channel has any actors\nbool IsActorRegistered(FName ChannelId, AActor* Actor) const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"events-5",children:"Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"FERPOnActorRegisteredSignature OnActorRegistered;     // (FName ChannelId, AActor* Actor)\nFERPOnActorUnregisteredSignature OnActorUnregistered;  // (FName ChannelId, AActor* Actor)\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpregistrationcomponent",children:"UERPRegistrationComponent"}),"\n",(0,s.jsx)(n.p,{children:"Auto-registers the owning actor in the candidate registry on BeginPlay/EndPlay."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Core/ERPRegistrationComponent.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"properties-5",children:"Properties"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ChannelIds"})}),(0,s.jsx)(n.td,{children:"TArray<FName>"}),(0,s.jsx)(n.td,{}),(0,s.jsx)(n.td,{children:"Channels to register for"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-7",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void RegisterChannel(FName ChannelId);    // Register for additional channel at runtime\nvoid UnregisterChannel(FName ChannelId);  // Unregister from a channel at runtime\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"widget-base-classes",children:"Widget Base Classes"}),"\n",(0,s.jsx)(n.h3,{id:"uerpinteractionwidgetbase-abstract",children:"UERPInteractionWidgetBase (Abstract)"}),"\n",(0,s.jsx)(n.p,{children:"Base widget for interaction prompts. Descriptor-driven with focus tracking."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"UI/Interaction/ERPInteractionWidgetBase.h"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"How it receives data:"})," This widget does not fetch data itself. A presenter calls ",(0,s.jsx)(n.code,{children:"UpdateFromDescriptor()"})," to push the descriptor. The two main patterns are:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Actor-side:"})," Your ",(0,s.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})," subclass calls ",(0,s.jsx)(n.code,{children:"Widget->UpdateFromDescriptor(Descriptor)"})," inside its ",(0,s.jsx)(n.code,{children:"OnDescriptorUpdated"})," override"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Player-side:"})," Your PlayerController binds to ",(0,s.jsx)(n.code,{children:"OnDescriptorChanged"})," and calls ",(0,s.jsx)(n.code,{children:"Widget->UpdateFromDescriptor(Descriptor)"})," directly"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"methods-8",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void UpdateFromDescriptor(const FERPInteractionDescriptor& Descriptor); // Cache + notify\nvoid SetFocused(bool bNewFocused);                                       // Focus state\nconst FERPInteractionDescriptor& GetDescriptor() const;\nbool IsFocused() const;\nFText GetCurrentInputDisplayKey() const;       // Key from cached descriptor's InputAction\nFText GetInputActionDisplayKey(const UInputAction* InputAction) const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"virtual-hooks-blueprintnativeevent-1",children:"Virtual Hooks (BlueprintNativeEvent)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void OnDescriptorUpdated(const FERPInteractionDescriptor& Descriptor); // Default: no-op\nvoid OnFocusChanged(bool bNewFocused);          // Default: toggle visibility\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerpholdinteractionwidgetbase-abstract",children:"UERPHoldInteractionWidgetBase (Abstract)"}),"\n",(0,s.jsxs)(n.p,{children:["Extends ",(0,s.jsx)(n.code,{children:"UERPInteractionWidgetBase"})," with hold-to-interact progress tracking."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"UI/Interaction/ERPHoldInteractionWidgetBase.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-9",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void SetHoldProgress(float Progress);  // 0.0 to 1.0, auto-detects start/complete/cancel\nvoid ResetHold();                      // Reset + fire OnHoldCancelled if holding\nfloat GetCurrentProgress() const;\nbool IsHolding() const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"virtual-hooks-blueprintnativeevent-2",children:"Virtual Hooks (BlueprintNativeEvent)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void OnHoldProgressChanged(float Progress); // Default: no-op\nvoid OnHoldStarted();                       // Default: no-op\nvoid OnHoldCompleted();                     // Default: no-op\nvoid OnHoldCancelled();                     // Default: no-op\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"uerptargetingwidgetbase-abstract",children:"UERPTargetingWidgetBase (Abstract)"}),"\n",(0,s.jsx)(n.p,{children:"Base widget for targeting UI (reticles, lock-on indicators, info panels)."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"UI/Targeting/ERPTargetingWidgetBase.h"})]}),"\n",(0,s.jsx)(n.h4,{id:"methods-10",children:"Methods"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void UpdateFromDescriptor(const UERPTargetDescriptor* Descriptor);\nvoid SetTargetActive(bool bActive);\nvoid SetTargetActor(AActor* Actor);\nconst UERPTargetDescriptor* GetDescriptor() const;\nbool IsTargetActive() const;\nAActor* GetTargetActor() const;\n"})}),"\n",(0,s.jsx)(n.h4,{id:"virtual-hooks-blueprintnativeevent-3",children:"Virtual Hooks (BlueprintNativeEvent)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void OnDescriptorUpdated(const UERPTargetDescriptor* Descriptor); // Default: no-op\nvoid OnTargetActiveChanged(bool bActive);       // Default: toggle visibility\nvoid OnTargetActorChanged(AActor* NewTargetActor); // Default: no-op\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,s.jsx)(n.h3,{id:"ierpinteractable",children:"IERPInteractable"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Domains/Interaction/ERPInteractable.h"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"bool CanBeInteractedWith(AActor* InteractingActor) const;\nvoid GetInteractionDescriptor(FERPInteractionDescriptor& OutDescriptor) const;\nbool ExecuteInteraction(AActor* InstigatorActor);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ierptargetable",children:"IERPTargetable"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Header:"})," ",(0,s.jsx)(n.code,{children:"Domains/Targeting/ERPTargetable.h"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"bool CanBeTargetedBy(AActor* TargetingActor) const;\nUERPTargetDescriptor* GetTargetDescriptor() const;\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"pipeline-base-classes",children:"Pipeline Base Classes"}),"\n",(0,s.jsx)(n.h3,{id:"uerpsamplerbase",children:"UERPSamplerBase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"void Sample(const FERPAwarenessContext& Context, float Range, TArray<AActor*>& OutCandidates) const;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uerpfilterbase",children:"UERPFilterBase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"bool Passes(const FERPAwarenessContext& Context, AActor* Candidate) const;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uerpscorerbase",children:"UERPScorerBase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"float Score(const FERPAwarenessContext& Context, AActor* Candidate) const;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uerpaggregatorbase",children:"UERPAggregatorBase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"float Aggregate(const TArray<float>& Scores) const; // Default: weighted average\n"})}),"\n",(0,s.jsx)(n.h3,{id:"uerpresolverbase",children:"UERPResolverBase"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"bool Resolve(const TArray<FERPPipelineScoredCandidate>& ScoredCandidates,\n    FERPPipelineScoredCandidate& OutBest) const; // Default: lowest score wins\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"data-structures",children:"Data Structures"}),"\n",(0,s.jsx)(n.h3,{id:"ferpawarenesscontext",children:"FERPAwarenessContext"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"struct FERPAwarenessContext\n{\n    FName ChannelId;                   // Channel being evaluated (set per-channel)\n    AActor* ContextActor;              // Perception owner\n    FVector Origin;                    // Position\n    FVector Forward;                   // Facing direction\n    bool bHasAimRay;\n    FVector AimOrigin;\n    FVector AimDirection;\n    bool bHasViewport;\n    FVector2D ViewportSizePx;\n    bool bHasScreenReference;\n    FVector2D ScreenReferenceNdc;      // Normalized 0..1\n    APlayerController* ScreenProjectionPC; // For viewport scorers\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ferpinteractiondescriptor",children:"FERPInteractionDescriptor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:'struct FERPInteractionDescriptor\n{\n    FText DisplayName;                              // "Open", "Talk", "Pick Up"\n    FText PromptText;                               // "Press E to open"\n    const UInputAction* InputAction;                // For key display in widgets\n    TSoftObjectPtr<UTexture2D> Icon;                // Interaction type icon\n    float HoldDuration = 0.0f;                      // 0 = instant, >0 = hold-to-interact (seconds)\n    int32 RequiredPresses = 0;                      // 0 = not multi-press, >0 = press N times\n    FGameplayTagContainer InteractionTags;\n    TMap<FName, TObjectPtr<UObject>> PresentationHints;\n\n    bool IsHoldInteraction() const;                 // HoldDuration > 0\n    bool IsMultiPressInteraction() const;            // RequiredPresses > 0\n};\n'})}),"\n",(0,s.jsx)(n.h3,{id:"ferpscorerentry",children:"FERPScorerEntry"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"struct FERPScorerEntry\n{\n    UERPScorerBase* Scorer;\n    float Weight = 1.0f;\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"ferpchannelpipeline",children:"FERPChannelPipeline"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cpp",children:"struct FERPChannelPipeline\n{\n    FName ChannelId;\n    FName SamplerCacheId;                // Optional: force cache sharing\n    UERPSamplerBase* Sampler;            // Required\n    TArray<UERPFilterBase*> Filters;\n    TArray<FERPScorerEntry> Scorers;     // Scorer + Weight pairs\n    UERPAggregatorBase* Aggregator;      // Optional (default: weighted average)\n    UERPResolverBase* Resolver;          // Required\n};\n"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"default-implementations",children:"Default Implementations"}),"\n",(0,s.jsx)(n.h3,{id:"samplers",children:"Samplers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPSphereOverlapSampler"})," - Sphere overlap query (spatial, range-limited)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPBoxOverlapSampler"})," - Box overlap query (non-uniform spatial areas)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPRegistrySampler"})," - Registry-based query (non-spatial, declarative \u2014 reads from ",(0,s.jsx)(n.code,{children:"UERPCandidateRegistrySubsystem"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"filters",children:"Filters"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPTargetableFilter"})," - Requires IERPTargetable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPInteractableFilter"})," - Requires IERPInteractable"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPDistanceFilter"})," - Range-based filtering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPImplementsInterfaceFilter"})," - Generic interface check"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"scorers",children:"Scorers"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPDistanceScorer"})," - Distance-based (lower = closer = better)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPConeScorer"})," - Angle from forward direction"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPViewportEllipseScorer"})," - Screen-space ellipse (requires bProvideViewportInfoWhenAvailable)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"validation-rules",children:"Validation Rules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPInteractionRule"})," - Base for interaction validation rules"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UERPTargetRule"})," - Base for targeting validation rules"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"/ElysAwareness/Quick-Reference",children:"Quick Reference"})," for common patterns."]}),"\n",(0,s.jsxs)(n.p,{children:["Review ",(0,s.jsx)(n.a,{href:"/ElysAwareness/Customization",children:"Customization"})," for extension examples."]}),"\n",(0,s.jsxs)(n.p,{children:["Create custom domains with ",(0,s.jsx)(n.a,{href:"/ElysAwareness/CustomDomains",children:"Custom Domains"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>o,x:()=>a});var t=r(6540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);