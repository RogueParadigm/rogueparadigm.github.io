"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[520],{415(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>s});const r=JSON.parse('{"id":"Interaction","title":"Interaction Guide","description":"This guide covers everything you need to implement a complete interaction system using ElysPerceptionPlugin.","source":"@site/../Documentation/Interaction.md","sourceDirName":".","slug":"/Interaction","permalink":"/docs/ElysPerceptionPlugin/docs/Interaction","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysPerceptionPlugin/tree/main/Documentation/../Documentation/Interaction.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Quick Start Guide","permalink":"/docs/ElysPerceptionPlugin/docs/QuickStart"},"next":{"title":"Targeting Guide","permalink":"/docs/ElysPerceptionPlugin/docs/Targeting"}}');var i=t(4848),l=t(8453);const o={},c="Interaction Guide",a={},s=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"What is the Interaction System?",id:"what-is-the-interaction-system",level:3},{value:"How It Works",id:"how-it-works",level:3},{value:"Key Components",id:"key-components",level:3},{value:"Basic Setup",id:"basic-setup",level:2},{value:"Player Setup",id:"player-setup",level:3},{value:"Object Setup",id:"object-setup",level:3},{value:"UI Prompts",id:"ui-prompts",level:2},{value:"Simple Prompt Widget",id:"simple-prompt-widget",level:3},{value:"Showing/Hiding the Prompt",id:"showinghiding-the-prompt",level:3},{value:"Dynamic Prompt Text",id:"dynamic-prompt-text",level:3},{value:"Executing Interactions",id:"executing-interactions",level:2},{value:"Input Binding",id:"input-binding",level:3},{value:"Handling Input",id:"handling-input",level:3},{value:"Implementing Interaction Logic",id:"implementing-interaction-logic",level:3},{value:"Context-Sensitive Actions",id:"context-sensitive-actions",level:2},{value:"State-Based Prompts",id:"state-based-prompts",level:3},{value:"Permission Checks",id:"permission-checks",level:3},{value:"Multiple Interaction Types",id:"multiple-interaction-types",level:2},{value:"Using Multiple Channels",id:"using-multiple-channels",level:3},{value:"Priority System",id:"priority-system",level:3},{value:"Blueprint Examples",id:"blueprint-examples",level:2},{value:"Example 1: Simple Door",id:"example-1-simple-door",level:3},{value:"Example 2: Pickup Item",id:"example-2-pickup-item",level:3},{value:"Example 3: NPC Dialogue",id:"example-3-npc-dialogue",level:3},{value:"C++ Examples",id:"c-examples",level:2},{value:"Interactable Actor",id:"interactable-actor",level:3},{value:"Player Controller with Interaction",id:"player-controller-with-interaction",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"interaction-guide",children:"Interaction Guide"})}),"\n",(0,i.jsx)(n.p,{children:"This guide covers everything you need to implement a complete interaction system using ElysPerceptionPlugin."}),"\n",(0,i.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#basic-setup",children:"Basic Setup"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#ui-prompts",children:"UI Prompts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#executing-interactions",children:"Executing Interactions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#context-sensitive-actions",children:"Context-Sensitive Actions"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#multiple-interaction-types",children:"Multiple Interaction Types"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#blueprint-examples",children:"Blueprint Examples"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"#c-examples",children:"C++ Examples"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.h3,{id:"what-is-the-interaction-system",children:"What is the Interaction System?"}),"\n",(0,i.jsx)(n.p,{children:"The interaction system allows your player to detect and interact with objects in the world:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Doors that can be opened"}),"\n",(0,i.jsx)(n.li,{children:"Items that can be picked up"}),"\n",(0,i.jsx)(n.li,{children:"NPCs that can be talked to"}),"\n",(0,i.jsx)(n.li,{children:"Levers that can be pulled"}),"\n",(0,i.jsx)(n.li,{children:"Quest objects that can be examined"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Detection"}),": The perception system continuously checks for nearby interactable objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Notification"}),": When an object comes into range, you're notified via events"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"UI Update"}),': You show a prompt to the player (e.g., "Press E to open")']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Execution"}),": When the player presses the button, you execute the interaction"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Response"}),": The object responds (door opens, item is picked up, etc.)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ERPPerceptionComponent"}),": Detects interactable objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ERPChannelListenerComponent"}),": Listens for the closest interactable"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"IERPInteractable"}),": Interface that objects implement to be interactable"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ERPOutlineComponent"})," (optional): Visual highlight for interactable objects"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,i.jsxs)(n.p,{children:["This is covered in the ",(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/QuickStart#quick-setup-for-interaction",children:"Quick Start Guide"}),", but here's a quick recap:"]}),"\n",(0,i.jsx)(n.h3,{id:"player-setup",children:"Player Setup"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"ERPPerceptionComponent"})," to your PlayerController/Pawn"]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"ERPChannelListenerComponent"})," with Channel Id = ",(0,i.jsx)(n.code,{children:"Interaction"})]}),"\n",(0,i.jsx)(n.li,{children:"Configure the Interaction Pipeline with short range (300-500 units)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"object-setup",children:"Object Setup"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"ERPInteractable"})," interface to your actor"]}),"\n",(0,i.jsxs)(n.li,{children:["Implement ",(0,i.jsx)(n.code,{children:"Can Be Interacted With By"})," \u2192 return ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.li,{children:"Add your interaction logic"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ui-prompts",children:"UI Prompts"}),"\n",(0,i.jsx)(n.h3,{id:"simple-prompt-widget",children:"Simple Prompt Widget"}),"\n",(0,i.jsx)(n.p,{children:"Create a Widget Blueprint for your interaction prompt:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Widget Hierarchy:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Canvas Panel\n\u2514\u2500 Text Block (Name: "PromptText")\n   - Text: "Press E to interact"\n   - Anchor: Bottom Center\n   - Visibility: Hidden\n'})}),"\n",(0,i.jsx)(n.h3,{id:"showinghiding-the-prompt",children:"Showing/Hiding the Prompt"}),"\n",(0,i.jsx)(n.p,{children:"In your PlayerController/Pawn:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Variables:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"InteractionPromptWidget"})," (Widget reference)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CurrentInteractable"})," (Actor reference)"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Event Graph:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'Event BeginPlay\n  \u2192 Create Widget: WBP_InteractionPrompt\n  \u2192 Add to Viewport\n  \u2192 Set Visibility: Hidden\n  \u2192 Get Component: ChannelListenerComponent\n  \u2192 Bind to OnCandidateAcquired: HandleInteractableFound\n  \u2192 Bind to OnCandidateLost: HandleInteractableLost\n\nFunction: HandleInteractableFound (Candidate)\n  \u2192 Set CurrentInteractable = Candidate\n  \u2192 Set Prompt Text = "Press E to " + Get Interaction Text(Candidate)\n  \u2192 Set Prompt Visibility: Visible\n\nFunction: HandleInteractableLost (Candidate)\n  \u2192 Set CurrentInteractable = None\n  \u2192 Set Prompt Visibility: Hidden\n'})}),"\n",(0,i.jsx)(n.h3,{id:"dynamic-prompt-text",children:"Dynamic Prompt Text"}),"\n",(0,i.jsx)(n.p,{children:"To show different text for different objects, add a function to your interactable interface:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"IERPInteractable Interface:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add function: ",(0,i.jsx)(n.code,{children:"GetInteractionPrompt"})," \u2192 returns ",(0,i.jsx)(n.code,{children:"Text"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"In your objects:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Door: Returns "Open Door"'}),"\n",(0,i.jsx)(n.li,{children:'Item: Returns "Pick Up Item"'}),"\n",(0,i.jsx)(n.li,{children:'NPC: Returns "Talk to NPC"'}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Update your prompt logic:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'Function: HandleInteractableFound (Candidate)\n  \u2192 Get Interaction Prompt (Candidate)\n  \u2192 Set Prompt Text = "Press E to " + Prompt\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"executing-interactions",children:"Executing Interactions"}),"\n",(0,i.jsx)(n.h3,{id:"input-binding",children:"Input Binding"}),"\n",(0,i.jsx)(n.p,{children:"Create an Input Action for interaction:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Project Settings \u2192 Input:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Action Mappings \u2192 Add ",(0,i.jsx)(n.code,{children:"Interact"})]}),"\n",(0,i.jsxs)(n.li,{children:["Key: ",(0,i.jsx)(n.code,{children:"E"})]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"handling-input",children:"Handling Input"}),"\n",(0,i.jsx)(n.p,{children:"In your PlayerController/Pawn Event Graph:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Input Action: Interact (Pressed)\n  \u2192 Get Component: ChannelListenerComponent\n  \u2192 Get Current Candidate\n  \u2192 Is Valid?\n    True:\n      \u2192 Cast to ERPInteractable\n      \u2192 Execute Interaction (Self)\n    False:\n      \u2192 (Do nothing, no valid target)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"implementing-interaction-logic",children:"Implementing Interaction Logic"}),"\n",(0,i.jsx)(n.p,{children:"On your interactable actor:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Door Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Event: OnInteract (Interactor)\n  \u2192 Branch: Is Open\n    False:\n      \u2192 Play Animation: OpenDoor\n      \u2192 Set Is Open = True\n    True:\n      \u2192 Play Animation: CloseDoor\n      \u2192 Set Is Open = False\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Item Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Event: OnInteract (Interactor)\n  \u2192 Add to Inventory (Interactor)\n  \u2192 Play Sound: PickupSound\n  \u2192 Destroy Actor\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"NPC Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Event: OnInteract (Interactor)\n  \u2192 Open Dialogue Widget\n  \u2192 Start Conversation\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"context-sensitive-actions",children:"Context-Sensitive Actions"}),"\n",(0,i.jsx)(n.p,{children:"Show different prompts and actions based on object state:"}),"\n",(0,i.jsx)(n.h3,{id:"state-based-prompts",children:"State-Based Prompts"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Door with Lock:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'Function: GetInteractionPrompt\n  \u2192 Branch: Is Locked\n    True: \u2192 Return "Locked"\n    False:\n      \u2192 Branch: Is Open\n        True: \u2192 Return "Close Door"\n        False: \u2192 Return "Open Door"\n\nFunction: CanBeInteractedWithBy (Interactor)\n  \u2192 Branch: Is Locked\n    True:\n      \u2192 Does Player Have Key? (Interactor)\n        True: \u2192 Return True (can interact to unlock)\n        False: \u2192 Return False (can\'t interact)\n    False: \u2192 Return True (always can open/close)\n'})}),"\n",(0,i.jsx)(n.h3,{id:"permission-checks",children:"Permission Checks"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"Can Be Interacted With By"})," for conditional interaction:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Quest Item:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'Function: CanBeInteractedWithBy (Interactor)\n  \u2192 Get Quest Manager\n  \u2192 Is Quest Active? ("FindArtifact")\n  \u2192 Return (quest is active)\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Paid Item:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Function: CanBeInteractedWithBy (Interactor)\n  \u2192 Get Player Currency (Interactor)\n  \u2192 Return (currency >= item cost)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"multiple-interaction-types",children:"Multiple Interaction Types"}),"\n",(0,i.jsx)(n.h3,{id:"using-multiple-channels",children:"Using Multiple Channels"}),"\n",(0,i.jsx)(n.p,{children:"For complex interactions, use multiple channels:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Interaction Channel: Short range, high priority (pickup items, open doors)\nExamine Channel: Medium range, low priority (read signs, inspect objects)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Setup:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create two pipelines with different ranges"}),"\n",(0,i.jsx)(n.li,{children:"Use two ChannelListenerComponents"}),"\n",(0,i.jsx)(n.li,{children:"Show different UI for each"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'Near a door: "Press E to Open" (Interaction)'}),"\n",(0,i.jsx)(n.li,{children:'Near a statue: "Press F to Examine" (Examine)'}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"priority-system",children:"Priority System"}),"\n",(0,i.jsx)(n.p,{children:"If you want one interaction to take priority:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:"Event: Interact (Pressed)\n  \u2192 Get Current Candidate (InteractionListener)\n  \u2192 Is Valid?\n    True: \u2192 Execute Interaction\n    False:\n      \u2192 Get Current Candidate (ExamineListener)\n      \u2192 Is Valid?\n        True: \u2192 Execute Examine\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"blueprint-examples",children:"Blueprint Examples"}),"\n",(0,i.jsx)(n.h3,{id:"example-1-simple-door",children:"Example 1: Simple Door"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"BP_Door:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'// Implements: IERPInteractable\n\nVariables:\n- IsOpen: Boolean = False\n\nFunction: CanBeInteractedWithBy (Interactor)\n  \u2192 Return True\n\nFunction: GetInteractionPrompt\n  \u2192 Branch: IsOpen\n    True: \u2192 Return "Close"\n    False: \u2192 Return "Open"\n\nEvent: OnInteract (Interactor)\n  \u2192 Branch: IsOpen\n    False:\n      \u2192 Play Animation: Door_Open\n      \u2192 Set IsOpen = True\n    True:\n      \u2192 Play Animation: Door_Close\n      \u2192 Set IsOpen = False\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-2-pickup-item",children:"Example 2: Pickup Item"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"BP_PickupItem:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'// Implements: IERPInteractable\n\nVariables:\n- ItemData: Struct (Name, Icon, Value)\n\nFunction: CanBeInteractedWithBy (Interactor)\n  \u2192 Return True\n\nFunction: GetInteractionPrompt\n  \u2192 Return "Pick Up " + ItemData.Name\n\nEvent: OnInteract (Interactor)\n  \u2192 Cast Interactor to PlayerCharacter\n  \u2192 Add Item to Inventory (ItemData)\n  \u2192 Play Sound: PickupSound\n  \u2192 Spawn Particle: PickupParticle\n  \u2192 Destroy Actor\n'})}),"\n",(0,i.jsx)(n.h3,{id:"example-3-npc-dialogue",children:"Example 3: NPC Dialogue"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"BP_NPC:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-blueprint",children:'// Implements: IERPInteractable\n\nVariables:\n- DialogueTree: Dialogue Asset\n- IsInConversation: Boolean = False\n\nFunction: CanBeInteractedWithBy (Interactor)\n  \u2192 Return (not IsInConversation)\n\nFunction: GetInteractionPrompt\n  \u2192 Return "Talk"\n\nEvent: OnInteract (Interactor)\n  \u2192 Set IsInConversation = True\n  \u2192 Open Dialogue Widget\n  \u2192 Start Dialogue (DialogueTree, Interactor)\n  \u2192 Bind to OnDialogueEnd: HandleDialogueEnd\n\nEvent: HandleDialogueEnd\n  \u2192 Set IsInConversation = False\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"c-examples",children:"C++ Examples"}),"\n",(0,i.jsx)(n.h3,{id:"interactable-actor",children:"Interactable Actor"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"MyInteractableActor.h:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#pragma once\n\n#include "CoreMinimal.h"\n#include "GameFramework/Actor.h"\n#include "Interfaces/ERPInteractable.h"\n#include "MyInteractableActor.generated.h"\n\nUCLASS()\nclass YOURPROJECT_API AMyInteractableActor : public AActor, public IERPInteractable\n{\n    GENERATED_BODY()\n\npublic:\n    // IERPInteractable interface\n    virtual bool CanBeInteractedWithBy_Implementation(AActor* Interactor) const override;\n    \n    UFUNCTION(BlueprintNativeEvent, BlueprintCallable, Category = "Interaction")\n    void OnInteract(AActor* Interactor);\n    virtual void OnInteract_Implementation(AActor* Interactor);\n\nprotected:\n    UPROPERTY(EditAnywhere, Category = "Interaction")\n    FText InteractionPrompt;\n    \n    UPROPERTY(EditAnywhere, Category = "Interaction")\n    bool bIsActive;\n};\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"MyInteractableActor.cpp:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include "MyInteractableActor.h"\n\nbool AMyInteractableActor::CanBeInteractedWithBy_Implementation(AActor* Interactor) const\n{\n    return bIsActive;\n}\n\nvoid AMyInteractableActor::OnInteract_Implementation(AActor* Interactor)\n{\n    // Your interaction logic here\n    UE_LOG(LogTemp, Log, TEXT("Interacted by: %s"), *Interactor->GetName());\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"player-controller-with-interaction",children:"Player Controller with Interaction"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"MyPlayerController.h:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#pragma once\n\n#include "CoreMinimal.h"\n#include "GameFramework/PlayerController.h"\n#include "Core/ERPPerceptionComponent.h"\n#include "Core/ERPChannelListenerComponent.h"\n#include "MyPlayerController.generated.h"\n\nUCLASS()\nclass YOURPROJECT_API AMyPlayerController : public APlayerController\n{\n    GENERATED_BODY()\n\npublic:\n    AMyPlayerController();\n\nprotected:\n    virtual void BeginPlay() override;\n    virtual void SetupInputComponent() override;\n\n    UPROPERTY(VisibleAnywhere, Category = "Perception")\n    UERPPerceptionComponent* PerceptionComponent;\n\n    UPROPERTY(VisibleAnywhere, Category = "Perception")\n    UERPChannelListenerComponent* InteractionListener;\n\nprivate:\n    UFUNCTION()\n    void OnInteractableAcquired(AActor* Candidate);\n    \n    UFUNCTION()\n    void OnInteractableLost(AActor* Candidate);\n    \n    void HandleInteract();\n\n    AActor* CurrentInteractable;\n};\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"MyPlayerController.cpp:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include "MyPlayerController.h"\n#include "Interfaces/ERPInteractable.h"\n\nAMyPlayerController::AMyPlayerController()\n{\n    PerceptionComponent = CreateDefaultSubobject<UERPPerceptionComponent>(TEXT("Perception"));\n    InteractionListener = CreateDefaultSubobject<UERPChannelListenerComponent>(TEXT("InteractionListener"));\n    InteractionListener->ChannelId = FName("Interaction");\n}\n\nvoid AMyPlayerController::BeginPlay()\n{\n    Super::BeginPlay();\n    \n    InteractionListener->OnCandidateAcquired.AddDynamic(this, &AMyPlayerController::OnInteractableAcquired);\n    InteractionListener->OnCandidateLost.AddDynamic(this, &AMyPlayerController::OnInteractableLost);\n}\n\nvoid AMyPlayerController::SetupInputComponent()\n{\n    Super::SetupInputComponent();\n    \n    InputComponent->BindAction("Interact", IE_Pressed, this, &AMyPlayerController::HandleInteract);\n}\n\nvoid AMyPlayerController::OnInteractableAcquired(AActor* Candidate)\n{\n    CurrentInteractable = Candidate;\n    // Show UI prompt\n}\n\nvoid AMyPlayerController::OnInteractableLost(AActor* Candidate)\n{\n    CurrentInteractable = nullptr;\n    // Hide UI prompt\n}\n\nvoid AMyPlayerController::HandleInteract()\n{\n    if (CurrentInteractable && CurrentInteractable->Implements<UERPInteractable>())\n    {\n        IERPInteractable::Execute_OnInteract(CurrentInteractable, this);\n    }\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/HelperComponents",children:"Helper Components"})})," - Add visual feedback with outline component"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/SamplingPipeline",children:"Sampling Pipeline"})})," - Understand how detection works"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/AdvancedCustomization",children:"Advanced Customization"})})," - Create custom interaction scoring"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Previous:"})," ",(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/QuickStart",children:"Quick Start"})," | ",(0,i.jsx)(n.strong,{children:"Next:"})," ",(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/Targeting",children:"Targeting Guide"})," | ",(0,i.jsx)(n.a,{href:"/docs/ElysPerceptionPlugin/docs/",children:"Documentation Home"})]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>c});var r=t(6540);const i={},l=r.createContext(i);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);