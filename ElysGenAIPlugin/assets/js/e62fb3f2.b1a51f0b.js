"use strict";(globalThis.webpackChunkelysgenai_docs=globalThis.webpackChunkelysgenai_docs||[]).push([[839],{9781(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Examples","title":"Examples","description":"Practical recipes for using ElysGenAI in your game.","source":"@site/../Documentation/Examples.md","sourceDirName":".","slug":"/Examples","permalink":"/ElysGenAIPlugin/Examples","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysGenAIPlugin/tree/main/Documentation/../Documentation/Examples.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"Examples","title":"Examples","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Modules Guide","permalink":"/ElysGenAIPlugin/ModulesGuide"},"next":{"title":"API Reference","permalink":"/ElysGenAIPlugin/API-Reference"}}');var o=r(4848),i=r(8453);const a={id:"Examples",title:"Examples",sidebar_position:5},s="Examples",l={},c=[{value:"Recipe 1: Voice Command System",id:"recipe-1-voice-command-system",level:2},{value:"Recipe 2: NPC Dialogue",id:"recipe-2-npc-dialogue",level:2},{value:"Recipe 3: Multiplayer Voice Chat with Subtitles",id:"recipe-3-multiplayer-voice-chat-with-subtitles",level:2},{value:"Recipe 4: Push-to-Talk Voice Commands",id:"recipe-4-push-to-talk-voice-commands",level:2},{value:"Recipe 5: Custom Audio Consumer",id:"recipe-5-custom-audio-consumer",level:2},{value:"Recipe 6: Custom STT Backend",id:"recipe-6-custom-stt-backend",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"examples",children:"Examples"})}),"\n",(0,o.jsx)(n.p,{children:"Practical recipes for using ElysGenAI in your game."}),"\n",(0,o.jsx)(n.h2,{id:"recipe-1-voice-command-system",children:"Recipe 1: Voice Command System"}),"\n",(0,o.jsx)(n.p,{children:"Build a voice-controlled player controller."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// PlayerController.h\r\nUCLASS()\r\nclass AMyPlayerController : public APlayerController\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    UPROPERTY(VisibleAnywhere)\r\n    UERP_STTComponent* STTComponent;\r\n    \r\n    UFUNCTION()\r\n    void OnVoiceCommand(const FElysSTTResult& Result);\r\n};\r\n\r\n// PlayerController.cpp\r\nvoid AMyPlayerController::BeginPlay()\r\n{\r\n    Super::BeginPlay();\r\n    \r\n    if (IsLocalController())\r\n    {\r\n        STTComponent->SetLanguageCode(TEXT("en"));\r\n        STTComponent->OnTranscriptionComplete.AddDynamic(\r\n            this, &AMyPlayerController::OnVoiceCommand);\r\n        STTComponent->StartListening();\r\n    }\r\n}\r\n\r\nvoid AMyPlayerController::OnVoiceCommand(const FElysSTTResult& Result)\r\n{\r\n    if (Result.Confidence < 0.7f) return;\r\n    \r\n    FString Command = Result.TranscribedText.ToLower();\r\n    \r\n    if (Command.Contains(TEXT("attack")))\r\n    {\r\n        Cast<AMyCharacter>(GetPawn())->PerformAttack();\r\n    }\r\n    else if (Command.Contains(TEXT("inventory")))\r\n    {\r\n        OpenInventoryUI();\r\n    }\r\n    else if (Command.Contains(TEXT("map")))\r\n    {\r\n        ToggleMap();\r\n    }\r\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recipe-2-npc-dialogue",children:"Recipe 2: NPC Dialogue"}),"\n",(0,o.jsx)(n.p,{children:"Create an interactive merchant NPC with LLM-powered dialogue."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// MerchantNPC.h\r\nUCLASS()\r\nclass AMerchantNPC : public ACharacter\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    UPROPERTY(VisibleAnywhere)\r\n    UERP_LLMComponent* LLMComponent;\r\n    \r\n    UPROPERTY(VisibleAnywhere)\r\n    UWidgetComponent* DialogueWidget;\r\n    \r\n    void InitializePersonality();\r\n    \r\n    UFUNCTION(BlueprintCallable)\r\n    void StartConversation(AActor* Player);\r\n    \r\n    UFUNCTION()\r\n    void OnResponseGenerated(const FElysLLMResult& Result);\r\n};\r\n\r\n// MerchantNPC.cpp\r\nvoid AMerchantNPC::BeginPlay()\r\n{\r\n    Super::BeginPlay();\r\n    InitializePersonality();\r\n    \r\n    LLMComponent->OnGenerationComplete.AddDynamic(\r\n        this, &AMerchantNPC::OnResponseGenerated);\r\n}\r\n\r\nvoid AMerchantNPC::InitializePersonality()\r\n{\r\n    FString Personality = FString::Printf(\r\n        TEXT("You are %s, a merchant in a medieval fantasy town. "\r\n             "You sell weapons, armor, and supplies. "\r\n             "You\'re friendly but shrewd about prices. "\r\n             "Keep responses under 50 words."),\r\n        *GetName());\r\n    \r\n    LLMComponent->SetSystemPrompt(Personality);\r\n    LLMComponent->SetTemperature(0.75f);\r\n    LLMComponent->SetMaxTokens(80);\r\n}\r\n\r\nvoid AMerchantNPC::StartConversation(AActor* Player)\r\n{\r\n    // Get player\'s STT component\r\n    if (UERP_STTComponent* PlayerSTT = \r\n        Player->FindComponentByClass<UERP_STTComponent>())\r\n    {\r\n        PlayerSTT->OnTranscriptionComplete.AddDynamic(\r\n            this, &AMerchantNPC::OnPlayerSpoke);\r\n    }\r\n    \r\n    // Greeting\r\n    LLMComponent->SendMessage(TEXT("Greet the player warmly."));\r\n}\r\n\r\nvoid AMerchantNPC::OnPlayerSpoke(const FElysSTTResult& Result)\r\n{\r\n    // Player spoke, generate response\r\n    LLMComponent->SendMessage(Result.TranscribedText);\r\n}\r\n\r\nvoid AMerchantNPC::OnResponseGenerated(const FElysLLMResult& Result)\r\n{\r\n    // Display dialogue bubble\r\n    DialogueWidget->SetText(FText::FromString(Result.GeneratedText));\r\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recipe-3-multiplayer-voice-chat-with-subtitles",children:"Recipe 3: Multiplayer Voice Chat with Subtitles"}),"\n",(0,o.jsx)(n.p,{children:"Voice chat that automatically generates subtitles using STT."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:"// VoiceChatComponent.h\r\nUCLASS()\r\nclass UVoiceChatComponent : public UActorComponent, public IERP_AudioConsumer\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    UPROPERTY(VisibleAnywhere)\r\n    UERP_STTComponent* STTComponent;\r\n    \r\n    // IERP_AudioConsumer\r\n    virtual void OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer) override;\r\n    \r\n    UFUNCTION(Server, Unreliable, WithValidation)\r\n    void ServerStreamAudio(const TArray<uint8>& CompressedAudio);\r\n    \r\n    UFUNCTION(Server, Reliable, WithValidation)\r\n    void ServerSendTranscription(const FString& Text);\r\n    \r\n    UFUNCTION(NetMulticast, Reliable)\r\n    void MulticastDisplaySubtitles(APlayerController* Speaker, const FString& Text);\r\n};\r\n\r\n// VoiceChatComponent.cpp\r\nvoid UVoiceChatComponent::BeginPlay()\r\n{\r\n    Super::BeginPlay();\r\n    \r\n    if (IsLocallyControlled())\r\n    {\r\n        // Register as audio consumer\r\n        UERP_AudioCaptureSubsystem* AudioSubsystem = \r\n            GetGameInstance()->GetSubsystem<UERP_AudioCaptureSubsystem>();\r\n        AudioSubsystem->RegisterConsumer(this);\r\n        \r\n        // Setup STT for subtitles\r\n        STTComponent->OnTranscriptionComplete.AddDynamic(\r\n            this, &UVoiceChatComponent::OnTranscription);\r\n    }\r\n}\r\n\r\nvoid UVoiceChatComponent::OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer)\r\n{\r\n    // Compress audio (Opus codec)\r\n    TArray<uint8> Compressed = CompressAudioOpus(Buffer.AudioData);\r\n    \r\n    // Send to server (audio only, NOT replicated)\r\n    ServerStreamAudio(Compressed);\r\n}\r\n\r\nvoid UVoiceChatComponent::OnTranscription(const FElysSTTResult& Result)\r\n{\r\n    // Send transcription to server\r\n    ServerSendTranscription(Result.TranscribedText);\r\n}\r\n\r\nvoid UVoiceChatComponent::ServerSendTranscription_Implementation(const FString& Text)\r\n{\r\n    // Broadcast subtitles to all clients\r\n    MulticastDisplaySubtitles(GetOwner<APlayerController>(), Text);\r\n}\r\n\r\nvoid UVoiceChatComponent::MulticastDisplaySubtitles_Implementation(\r\n    APlayerController* Speaker, const FString& Text)\r\n{\r\n    // Display subtitle widget for this player\r\n    ShowSubtitle(Speaker, Text);\r\n}\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recipe-4-push-to-talk-voice-commands",children:"Recipe 4: Push-to-Talk Voice Commands"}),"\n",(0,o.jsx)(n.p,{children:"Voice commands with push-to-talk input binding."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// PlayerController.h\r\nUCLASS()\r\nclass AMyPlayerController : public APlayerController\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    UPROPERTY(VisibleAnywhere)\r\n    UERP_STTComponent* STTComponent;\r\n    \r\n    void StartVoiceCapture();\r\n    void StopVoiceCapture();\r\n    \r\n    UFUNCTION()\r\n    void OnCommandReceived(const FElysSTTResult& Result);\r\n};\r\n\r\n// PlayerController.cpp\r\nvoid AMyPlayerController::SetupInputComponent()\r\n{\r\n    Super::SetupInputComponent();\r\n    \r\n    // Bind push-to-talk key\r\n    InputComponent->BindAction("VoiceCommand", IE_Pressed, \r\n        this, &AMyPlayerController::StartVoiceCapture);\r\n    InputComponent->BindAction("VoiceCommand", IE_Released, \r\n        this, &AMyPlayerController::StopVoiceCapture);\r\n}\r\n\r\nvoid AMyPlayerController::StartVoiceCapture()\r\n{\r\n    auto* AudioSubsystem = GetGameInstance()->GetSubsystem<UERP_AudioCaptureSubsystem>();\r\n    AudioSubsystem->SetPushToTalkActive(true);\r\n    \r\n    // Visual feedback\r\n    ShowVoiceIndicator(true);\r\n}\r\n\r\nvoid AMyPlayerController::StopVoiceCapture()\r\n{\r\n    auto* AudioSubsystem = GetGameInstance()->GetSubsystem<UERP_AudioCaptureSubsystem>();\r\n    AudioSubsystem->SetPushToTalkActive(false);\r\n    \r\n    ShowVoiceIndicator(false);\r\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recipe-5-custom-audio-consumer",children:"Recipe 5: Custom Audio Consumer"}),"\n",(0,o.jsx)(n.p,{children:"Record audio to file using the consumer pattern."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// AudioRecorderComponent.h\r\nUCLASS()\r\nclass UAudioRecorderComponent : public UActorComponent, public IERP_AudioConsumer\r\n{\r\n    GENERATED_BODY()\r\n    \r\npublic:\r\n    UFUNCTION(BlueprintCallable)\r\n    void StartRecording(const FString& Filename);\r\n    \r\n    UFUNCTION(BlueprintCallable)\r\n    void StopRecording();\r\n    \r\n    // IERP_AudioConsumer\r\n    virtual void OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer) override;\r\n    virtual FString GetConsumerName_Implementation() const override;\r\n    \r\nprivate:\r\n    bool bIsRecording = false;\r\n    TArray<float> RecordedAudio;\r\n    FString OutputFilename;\r\n};\r\n\r\n// AudioRecorderComponent.cpp\r\nvoid UAudioRecorderComponent::BeginPlay()\r\n{\r\n    Super::BeginPlay();\r\n    \r\n    // Register as consumer\r\n    auto* AudioSubsystem = GetGameInstance()->GetSubsystem<UERP_AudioCaptureSubsystem>();\r\n    AudioSubsystem->RegisterConsumer(this);\r\n}\r\n\r\nvoid UAudioRecorderComponent::StartRecording(const FString& Filename)\r\n{\r\n    bIsRecording = true;\r\n    OutputFilename = Filename;\r\n    RecordedAudio.Empty();\r\n}\r\n\r\nvoid UAudioRecorderComponent::StopRecording()\r\n{\r\n    bIsRecording = false;\r\n    \r\n    // Save to WAV file\r\n    SaveAudioToWAV(RecordedAudio, OutputFilename);\r\n}\r\n\r\nvoid UAudioRecorderComponent::OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer)\r\n{\r\n    if (bIsRecording)\r\n    {\r\n        RecordedAudio.Append(Buffer.AudioData);\r\n    }\r\n}\r\n\r\nFString UAudioRecorderComponent::GetConsumerName_Implementation() const\r\n{\r\n    return TEXT("AudioRecorder");\r\n}\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"recipe-6-custom-stt-backend",children:"Recipe 6: Custom STT Backend"}),"\n",(0,o.jsx)(n.p,{children:"Implement a custom STT backend for alternative models."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// MyCustomSTTBackend.h\r\nUCLASS()\r\nclass UMyCustomSTTBackend : public UObject, public IERP_STTBackend\r\n{\r\n    GENERATED_BODY()\r\n    \r\npublic:\r\n    // IERP_GenAIService interface\r\n    virtual bool Initialize() override;\r\n    virtual void Shutdown() override;\r\n    virtual bool IsReady() const override;\r\n    \r\n    // IERP_STTBackend interface\r\n    virtual bool LoadModel(const FString& ModelPath) override;\r\n    virtual void UnloadModel() override;\r\n    virtual bool IsModelLoaded() const override;\r\n    virtual void SetLanguage(const FString& LanguageCode) override;\r\n    virtual void SetSampleRate(int32 SampleRate) override;\r\n    virtual FElysSTTResult ProcessAudio(const TArray<float>& AudioData) override;\r\n    virtual void ProcessAudioAsync(const TArray<float>& AudioData, \r\n                                    const FElysSTTResultDelegate& Callback) override;\r\n    \r\nprivate:\r\n    bool bIsInitialized = false;\r\n    bool bModelLoaded = false;\r\n    FString CurrentLanguage;\r\n    int32 CurrentSampleRate;\r\n    void* CustomSTTEngine;\r\n};\r\n\r\n// MyCustomSTTBackend.cpp\r\nbool UMyCustomSTTBackend::Initialize()\r\n{\r\n    CustomSTTEngine = CreateYourSTTEngine();\r\n    bIsInitialized = (CustomSTTEngine != nullptr);\r\n    return bIsInitialized;\r\n}\r\n\r\nbool UMyCustomSTTBackend::LoadModel(const FString& ModelPath)\r\n{\r\n    if (!bIsInitialized) return false;\r\n    \r\n    bModelLoaded = YourSTTEngine_LoadModel(CustomSTTEngine, ModelPath);\r\n    return bModelLoaded;\r\n}\r\n\r\nFElysSTTResult UMyCustomSTTBackend::ProcessAudio(const TArray<float>& AudioData)\r\n{\r\n    FElysSTTResult Result;\r\n    \r\n    if (!IsReady())\r\n    {\r\n        Result.TranscribedText = TEXT("");\r\n        Result.Confidence = 0.0f;\r\n        return Result;\r\n    }\r\n    \r\n    FString Transcription = YourSTTEngine_Transcribe(CustomSTTEngine, AudioData);\r\n    float Confidence = YourSTTEngine_GetConfidence(CustomSTTEngine);\r\n    \r\n    Result.TranscribedText = Transcription;\r\n    Result.Confidence = Confidence;\r\n    Result.Language = CurrentLanguage;\r\n    Result.bIsFinal = true;\r\n    \r\n    return Result;\r\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Register in Subsystem:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:"// In UERP_STTSubsystem\r\nTScriptInterface<IERP_STTBackend> UERP_STTSubsystem::CreateBackend()\r\n{\r\n    UMyCustomSTTBackend* CustomBackend = NewObject<UMyCustomSTTBackend>(this);\r\n    \r\n    TScriptInterface<IERP_STTBackend> BackendInterface;\r\n    BackendInterface.SetObject(CustomBackend);\r\n    BackendInterface.SetInterface(Cast<IERP_STTBackend>(CustomBackend));\r\n    \r\n    return BackendInterface;\r\n}\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/ElysGenAIPlugin/API-Reference",children:"API Reference"})})," - Complete class documentation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/ElysGenAIPlugin/Troubleshooting",children:"Troubleshooting"})})," - Common issues and solutions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.a,{href:"/ElysGenAIPlugin/MultiplayerGuide",children:"Multiplayer Guide"})})," - Network architecture best practices"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>s});var t=r(6540);const o={},i=t.createContext(o);function a(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);