"use strict";(globalThis.webpackChunkelysgenai_docs=globalThis.webpackChunkelysgenai_docs||[]).push([[814],{9870(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"CoreConcepts","title":"Core Concepts","description":"Understand ElysGenAI\'s architecture and design patterns.","source":"@site/../Documentation/CoreConcepts.md","sourceDirName":".","slug":"/CoreConcepts","permalink":"/ElysGenAIPlugin/CoreConcepts","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysGenAIPlugin/tree/main/Documentation/../Documentation/CoreConcepts.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"CoreConcepts","title":"Core Concepts","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Setup Guide","permalink":"/ElysGenAIPlugin/SetupGuide"},"next":{"title":"Modules Guide","permalink":"/ElysGenAIPlugin/ModulesGuide"}}');var i=r(4848),l=r(8453);const t={id:"CoreConcepts",title:"Core Concepts",sidebar_position:3},c="Core Concepts",o={},d=[{value:"Hybrid Architecture Pattern",id:"hybrid-architecture-pattern",level:2},{value:"Core Structs (F* prefix)",id:"core-structs-f-prefix",level:3},{value:"Component Wrappers (U* prefix)",id:"component-wrappers-u-prefix",level:3},{value:"How They Work Together",id:"how-they-work-together",level:3},{value:"Which One to Use?",id:"which-one-to-use",level:3},{value:"Module Structure",id:"module-structure",level:2},{value:"ElysGenAICore",id:"elysgenaicore",level:3},{value:"ElysGenAIAudio",id:"elysgenaiaudio",level:3},{value:"ElysGenAISTT",id:"elysgenaistt",level:3},{value:"ElysGenAILLM",id:"elysgenaillm",level:3},{value:"Component Hierarchy",id:"component-hierarchy",level:2},{value:"Audio Flow",id:"audio-flow",level:3},{value:"STT Architecture",id:"stt-architecture",level:3},{value:"LLM Architecture",id:"llm-architecture",level:3},{value:"Key Design Patterns",id:"key-design-patterns",level:2},{value:"Subsystem Pattern",id:"subsystem-pattern",level:3},{value:"Consumer Pattern",id:"consumer-pattern",level:3},{value:"Context Pattern",id:"context-pattern",level:3},{value:"Memory Model",id:"memory-model",level:2},{value:"Single Backend, Multiple Contexts",id:"single-backend-multiple-contexts",level:3},{value:"Lifecycle Management",id:"lifecycle-management",level:3},{value:"Extension Points",id:"extension-points",level:2},{value:"Custom Audio Consumers",id:"custom-audio-consumers",level:3},{value:"Custom STT Backends",id:"custom-stt-backends",level:3},{value:"Custom LLM Backends",id:"custom-llm-backends",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance",id:"performance",level:3},{value:"Memory",id:"memory",level:3},{value:"Multiplayer",id:"multiplayer",level:3},{value:"Blueprint Usage",id:"blueprint-usage",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"core-concepts",children:"Core Concepts"})}),"\n",(0,i.jsx)(n.p,{children:"Understand ElysGenAI's architecture and design patterns."}),"\n",(0,i.jsx)(n.h2,{id:"hybrid-architecture-pattern",children:"Hybrid Architecture Pattern"}),"\n",(0,i.jsxs)(n.p,{children:["The plugin uses ",(0,i.jsx)(n.strong,{children:"two types of classes that work together"})," to provide functionality."]}),"\n",(0,i.jsx)(n.h3,{id:"core-structs-f-prefix",children:"Core Structs (F* prefix)"}),"\n",(0,i.jsxs)(n.p,{children:["These do the ",(0,i.jsx)(n.strong,{children:"actual work"})," - fast and lightweight."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Example: Speech-to-Text core struct\r\nstruct FERP_STTContext\r\n{\r\n    void ProcessAudio(const TArray<float>& Audio);\r\n    FString GetTranscription();\r\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why structs?"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No UObject overhead"}),"\n",(0,i.jsx)(n.li,{children:"Faster allocation/deallocation"}),"\n",(0,i.jsx)(n.li,{children:"Direct memory access"}),"\n",(0,i.jsx)(n.li,{children:"Ideal for heavy processing"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"component-wrappers-u-prefix",children:"Component Wrappers (U* prefix)"}),"\n",(0,i.jsxs)(n.p,{children:["These ",(0,i.jsx)(n.strong,{children:"expose functionality to Blueprints"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Example: Blueprint wrapper component\r\nUCLASS(BlueprintType)\r\nclass UERP_STTComponent : public UActorComponent\r\n{\r\n    UFUNCTION(BlueprintCallable)\r\n    void StartListening();\r\n    \r\n    UPROPERTY(BlueprintAssignable)\r\n    FElysSTTDelegate OnTranscriptionComplete;\r\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Why components?"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Blueprint-friendly"}),"\n",(0,i.jsx)(n.li,{children:"Event broadcasting"}),"\n",(0,i.jsx)(n.li,{children:"Actor lifecycle management"}),"\n",(0,i.jsx)(n.li,{children:"Easy to use"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"how-they-work-together",children:"How They Work Together"}),"\n",(0,i.jsxs)(n.p,{children:["Component wrappers ",(0,i.jsx)(n.strong,{children:"own and forward to"})," core structs:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"void UERP_STTComponent::StartListening()\r\n{\r\n    // Blueprint calls component...\r\n    // ...which forwards to core struct\r\n    Context->StartListening();\r\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Data flow:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Blueprint \u2192 Component (U*) \u2192 Core Struct (F*) \u2192 Processing\r\n                                                       \u2193\r\nBlueprint \u2190 Component (U*) \u2190 Core Struct (F*) \u2190 Result\n"})}),"\n",(0,i.jsx)(n.h3,{id:"which-one-to-use",children:"Which One to Use?"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"If you're using..."}),(0,i.jsx)(n.th,{children:"Use this"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"C++ code"}),(0,i.jsxs)(n.td,{children:["Core structs (",(0,i.jsx)(n.code,{children:"F*Context"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Blueprints"}),(0,i.jsxs)(n.td,{children:["Components (",(0,i.jsx)(n.code,{children:"U*Component"}),")"]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Both"}),(0,i.jsx)(n.td,{children:"Components (they work everywhere)"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"module-structure",children:"Module Structure"}),"\n",(0,i.jsx)(n.p,{children:"ElysGenAI is organized into four core modules:"}),"\n",(0,i.jsx)(n.h3,{id:"elysgenaicore",children:"ElysGenAICore"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Foundation module providing shared types and interfaces."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Contents:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"IERP_GenAIService"})," - Base interface for all AI services"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"IERP_AudioConsumer"})," - Interface for audio consumers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UElysGenAISettings"})," - Project settings"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FElysAudioFormat"}),", ",(0,i.jsx)(n.code,{children:"FElysSTTResult"}),", ",(0,i.jsx)(n.code,{children:"FElysLLMResult"})," - Data types"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When to use:"})," Import for custom backend implementations."]}),"\n",(0,i.jsx)(n.h3,{id:"elysgenaiaudio",children:"ElysGenAIAudio"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Microphone capture and audio routing."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Contents:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_AudioCaptureSubsystem"})," - Captures microphone input"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FERP_AudioRingBuffer"})," - Circular audio buffer"]}),"\n",(0,i.jsx)(n.li,{children:"Push-to-talk modes (AlwaysOn, PushToTalk, PushToMute)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When to use:"})," Any feature requiring microphone input."]}),"\n",(0,i.jsx)(n.h3,{id:"elysgenaistt",children:"ElysGenAISTT"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Speech-to-Text using Whisper.cpp."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Contents:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_STTComponent"})," - Blueprint API"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FERP_STTContext"})," - Processing logic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_STTSubsystem"})," - Backend lifecycle"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_WhisperBackend"})," - Whisper.cpp integration"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When to use:"})," Voice commands, transcription, dialogue input."]}),"\n",(0,i.jsx)(n.h3,{id:"elysgenaillm",children:"ElysGenAILLM"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Language models using llama.cpp."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Contents:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_LLMComponent"})," - Blueprint API"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FERP_LLMContext"})," - Processing logic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_LLMSubsystem"})," - Backend lifecycle"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"UERP_LlamaCppBackend"})," - llama.cpp integration (Phi-3-mini)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"When to use:"})," NPC dialogue, dynamic text generation."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"component-hierarchy",children:"Component Hierarchy"}),"\n",(0,i.jsx)(n.h3,{id:"audio-flow",children:"Audio Flow"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Microphone\r\n    \u2193\r\nUERP_AudioCaptureSubsystem (captures audio)\r\n    \u2193\r\nFERP_AudioRingBuffer (buffers audio)\r\n    \u2193\r\nIERP_AudioConsumer (distributes to consumers)\r\n    \u2193\r\n\u251c\u2500 STT Component\r\n\u251c\u2500 Voice Chat Component\r\n\u2514\u2500 Recording Component\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Points:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single audio capture point"}),"\n",(0,i.jsx)(n.li,{children:"Fan-out to multiple consumers"}),"\n",(0,i.jsx)(n.li,{children:"Consumer pattern for extensibility"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"stt-architecture",children:"STT Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Actor with UERP_STTComponent (Blueprint API)\r\n    \u2193\r\nFERP_STTContext (per-actor state, audio buffering)\r\n    \u2193\r\nUERP_STTSubsystem (backend lifecycle, context tracking)\r\n    \u2193\r\nIERP_STTBackend (interface for models)\r\n    \u2193\r\nUERP_WhisperBackend (Whisper.cpp model loading, inference)\r\n    \u2193\r\nWhisper.cpp C library\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Layers:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Component"})," - Blueprint API, event broadcasting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Context"})," - Per-actor state, audio buffering"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subsystem"})," - Backend lifecycle, context tracking"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backend"})," - Model loading, inference"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Model"})," - Whisper.cpp C library"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"llm-architecture",children:"LLM Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Actor with UERP_LLMComponent (Blueprint API)\r\n    \u2193\r\nFERP_LLMContext (conversation history, prompt formatting)\r\n    \u2193\r\nUERP_LLMSubsystem (backend lifecycle, context tracking)\r\n    \u2193\r\nIERP_LLMBackend (interface for models)\r\n    \u2193\r\nUERP_LlamaCppBackend (llama.cpp model loading, inference)\r\n    \u2193\r\nllama.cpp C library (Phi-3-mini)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Layers:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Component"})," - Blueprint API, event broadcasting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Context"})," - Conversation history, prompt formatting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subsystem"})," - Backend lifecycle, context tracking"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backend"})," - Model loading, inference"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Model"})," - llama.cpp C library"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-design-patterns",children:"Key Design Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"subsystem-pattern",children:"Subsystem Pattern"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Manage backend lifecycle and shared resources."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single model instance (memory efficient)"}),"\n",(0,i.jsx)(n.li,{children:"Automatic initialization/cleanup"}),"\n",(0,i.jsxs)(n.li,{children:["Global access via ",(0,i.jsx)(n.code,{children:"GetGameInstance()->GetSubsystem<T>()"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"UERP_STTSubsystem* STTSubsystem = \r\n    GetGameInstance()->GetSubsystem<UERP_STTSubsystem>();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"consumer-pattern",children:"Consumer Pattern"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Distribute audio to multiple consumers."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single capture point"}),"\n",(0,i.jsx)(n.li,{children:"Multiple consumers (STT, voice chat, recording)"}),"\n",(0,i.jsxs)(n.li,{children:["Extensible (implement ",(0,i.jsx)(n.code,{children:"IERP_AudioConsumer"}),")"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"class UMyAudioConsumer : public IERP_AudioConsumer\r\n{\r\n    virtual void OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer) override\r\n    {\r\n        ProcessAudio(Buffer.AudioData);\r\n    }\r\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"context-pattern",children:"Context Pattern"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Purpose:"})," Lightweight per-actor processing state."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No UObject overhead"}),"\n",(0,i.jsx)(n.li,{children:"Fast allocation/deallocation"}),"\n",(0,i.jsx)(n.li,{children:"Multiple contexts share single backend"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"TUniquePtr<FERP_STTContext> Context = MakeUnique<FERP_STTContext>();\r\nContext->ProcessAudio(AudioData);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"memory-model",children:"Memory Model"}),"\n",(0,i.jsx)(n.h3,{id:"single-backend-multiple-contexts",children:"Single Backend, Multiple Contexts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"UERP_STTSubsystem (Game Instance Subsystem)\r\n    |\r\n    +-- UERP_WhisperBackend (single model, ~74MB)\r\n         |\r\n         +-- FERP_STTContext (Actor 1, ~1KB)\r\n         +-- FERP_STTContext (Actor 2, ~1KB)\r\n         +-- FERP_STTContext (Actor 3, ~1KB)\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Benefits:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Model loaded once (saves memory)"}),"\n",(0,i.jsx)(n.li,{children:"Each actor has own processing state"}),"\n",(0,i.jsx)(n.li,{children:"Context switching is fast"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"lifecycle-management",children:"Lifecycle Management"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Subsystem:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initialized on Game Instance creation"}),"\n",(0,i.jsx)(n.li,{children:"Loads backend and model"}),"\n",(0,i.jsx)(n.li,{children:"Cleaned up on Game Instance destruction"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Component:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Created with Actor"}),"\n",(0,i.jsx)(n.li,{children:"Registers context with Subsystem"}),"\n",(0,i.jsx)(n.li,{children:"Unregisters on Actor destruction"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Context:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Created by Component"}),"\n",(0,i.jsx)(n.li,{children:"Destroyed by Component"}),"\n",(0,i.jsx)(n.li,{children:"Lightweight (no UObject overhead)"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"extension-points",children:"Extension Points"}),"\n",(0,i.jsx)(n.h3,{id:"custom-audio-consumers",children:"Custom Audio Consumers"}),"\n",(0,i.jsxs)(n.p,{children:["Implement ",(0,i.jsx)(n.code,{children:"IERP_AudioConsumer"})," to receive audio:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"UCLASS()\r\nclass UMyCustomConsumer : public UObject, public IERP_AudioConsumer\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    virtual void OnAudioDataReceived_Implementation(const FElysAudioBuffer& Buffer) override;\r\n    virtual FString GetConsumerName_Implementation() const override;\r\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-stt-backends",children:"Custom STT Backends"}),"\n",(0,i.jsxs)(n.p,{children:["Implement ",(0,i.jsx)(n.code,{children:"IERP_STTBackend"})," for custom models:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"UCLASS()\r\nclass UMySTTBackend : public UObject, public IERP_STTBackend\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    virtual bool Initialize_Implementation(const FString& ModelPath) override;\r\n    virtual void Transcribe_Implementation(const TArray<float>& Audio, FElysSTTResult& Result) override;\r\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-llm-backends",children:"Custom LLM Backends"}),"\n",(0,i.jsxs)(n.p,{children:["Implement ",(0,i.jsx)(n.code,{children:"IERP_LLMBackend"})," for custom models:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"UCLASS()\r\nclass UMyLLMBackend : public UObject, public IERP_LLMBackend\r\n{\r\n    GENERATED_BODY()\r\n    \r\n    virtual bool Initialize_Implementation(const FString& ModelPath) override;\r\n    virtual void Generate_Implementation(const FString& Prompt, FElysLLMResult& Result) override;\r\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use lightweight contexts for per-actor state"}),"\n",(0,i.jsx)(n.li,{children:"Share backend across all contexts"}),"\n",(0,i.jsx)(n.li,{children:"Process audio on worker threads"}),"\n",(0,i.jsx)(n.li,{children:"Use ring buffers for audio streaming"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"memory",children:"Memory"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Single model instance per type"}),"\n",(0,i.jsx)(n.li,{children:"Destroy contexts when actors destroyed"}),"\n",(0,i.jsx)(n.li,{children:"Use quantized models (Q4) for LLMs"}),"\n",(0,i.jsx)(n.li,{children:"Monitor memory usage with stat commands"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"multiplayer",children:"Multiplayer"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Process audio client-side only"}),"\n",(0,i.jsx)(n.li,{children:"Never replicate audio data"}),"\n",(0,i.jsx)(n.li,{children:"Replicate transcription text if needed"}),"\n",(0,i.jsx)(n.li,{children:"Use server RPCs for command processing"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"blueprint-usage",children:"Blueprint Usage"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use components for Blueprint access"}),"\n",(0,i.jsx)(n.li,{children:"Bind to events for async results"}),"\n",(0,i.jsxs)(n.li,{children:["Check ",(0,i.jsx)(n.code,{children:"IsListening()"})," before starting"]}),"\n",(0,i.jsx)(n.li,{children:"Clean up bindings on component destruction"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"Now that you understand the architecture:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/ElysGenAIPlugin/ModulesGuide",children:"Modules Guide"})})," - Deep dive into Audio, STT, and LLM"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/ElysGenAIPlugin/Examples",children:"Examples"})})," - Practical implementation recipes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/ElysGenAIPlugin/API-Reference",children:"API Reference"})})," - Complete class documentation"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>c});var s=r(6540);const i={},l=s.createContext(i);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);