"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[312],{8453(e,n,t){t.d(n,{R:()=>l,x:()=>o});var i=t(6540);const r={},s=i.createContext(r);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},9289(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"SetupGuide","title":"Setup Guide","description":"Goal: Get your interaction system working from installation to first interaction!","source":"@site/../Documentation/SetupGuide.md","sourceDirName":".","slug":"/SetupGuide","permalink":"/ElysPerceptionPlugin/SetupGuide","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysPerceptionPlugin/tree/main/Documentation/../Documentation/SetupGuide.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"SetupGuide","title":"Setup Guide","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"ElysPerceptionPlugin","permalink":"/ElysPerceptionPlugin/intro"},"next":{"title":"Advanced Interaction Guide","permalink":"/ElysPerceptionPlugin/Interaction"}}');var r=t(4848),s=t(8453);const l={id:"SetupGuide",title:"Setup Guide",sidebar_position:2},o="Setup Guide",c={},a=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Quick Start (5 minutes)",id:"quick-start-5-minutes",level:2},{value:"Installation",id:"installation",level:3},{value:"1. Copy the Plugin",id:"1-copy-the-plugin",level:4},{value:"2. Enable the Plugin",id:"2-enable-the-plugin",level:4},{value:"3. Verify Installation",id:"3-verify-installation",level:4},{value:"4. Update Build Configuration (C++ Projects Only)",id:"4-update-build-configuration-c-projects-only",level:4},{value:"Minimal Setup (Get Something Working)",id:"minimal-setup-get-something-working",level:3},{value:"Player Setup",id:"player-setup",level:4},{value:"Configure Perception Component",id:"configure-perception-component",level:4},{value:"Configure Interaction Component",id:"configure-interaction-component",level:4},{value:"Make an Object Interactable",id:"make-an-object-interactable",level:4},{value:"Test It",id:"test-it",level:4},{value:"Understanding the Pipeline (10 minutes)",id:"understanding-the-pipeline-10-minutes",level:2},{value:"What is the Pipeline?",id:"what-is-the-pipeline",level:3},{value:"Pipeline Stages Explained",id:"pipeline-stages-explained",level:3},{value:"1. Sampler",id:"1-sampler",level:4},{value:"2. Filters",id:"2-filters",level:4},{value:"3. Scorers",id:"3-scorers",level:4},{value:"4. Aggregator",id:"4-aggregator",level:4},{value:"5. Resolver",id:"5-resolver",level:4},{value:"Multi-Channel System",id:"multi-channel-system",level:3},{value:"Complete Interaction Setup (30 minutes)",id:"complete-interaction-setup-30-minutes",level:2},{value:"Architecture Overview",id:"architecture-overview",level:3},{value:"Step 1: Player Controller Setup",id:"step-1-player-controller-setup",level:3},{value:"Blueprint Implementation",id:"blueprint-implementation",level:4},{value:"1.1 Add Components",id:"11-add-components",level:5},{value:"1.2 Configure ERPPerceptionComponent",id:"12-configure-erpperceptioncomponent",level:5},{value:"1.3 Configure ERPInteractionComponent",id:"13-configure-erpinteractioncomponent",level:5},{value:"1.4 Event Graph - Wire Visual Feedback",id:"14-event-graph---wire-visual-feedback",level:5},{value:"C++ Implementation",id:"c-implementation",level:4},{value:"Step 2: Interactable Actor Setup",id:"step-2-interactable-actor-setup",level:3},{value:"Blueprint Implementation",id:"blueprint-implementation-1",level:4},{value:"2.1 Create Interactable Actor",id:"21-create-interactable-actor",level:5},{value:"2.2 Implement Interface Functions",id:"22-implement-interface-functions",level:5},{value:"2.3 Configure Feedback Component (Optional)",id:"23-configure-feedback-component-optional",level:5},{value:"2.4 Custom Widget Update (Optional)",id:"24-custom-widget-update-optional",level:5},{value:"C++ Implementation",id:"c-implementation-1",level:4},{value:"Step 3: Widget Setup (Optional)",id:"step-3-widget-setup-optional",level:3},{value:"Option A: World-Space Widget (Recommended)",id:"option-a-world-space-widget-recommended",level:4},{value:"Option B: Screen-Space Widget (HUD)",id:"option-b-screen-space-widget-hud",level:4},{value:"Step 4: Input Handling (Execute Interaction)",id:"step-4-input-handling-execute-interaction",level:3},{value:"Setup Input",id:"setup-input",level:4},{value:"PlayerController Event Graph",id:"playercontroller-event-graph",level:4},{value:"Step 5: Testing",id:"step-5-testing",level:3},{value:"Checklist",id:"checklist",level:4},{value:"Test Flow",id:"test-flow",level:4},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"No prompt appears when approaching object",id:"no-prompt-appears-when-approaching-object",level:3},{value:"Events not firing",id:"events-not-firing",level:3},{value:"Object detected from too far/too close",id:"object-detected-from-too-fartoo-close",level:3},{value:"Multiple objects detected, wrong one selected",id:"multiple-objects-detected-wrong-one-selected",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"setup-guide",children:"Setup Guide"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Goal:"})," Get your interaction system working from installation to first interaction!"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Time:"})," 5 minutes (Quick Start) to 45 minutes (Complete Setup)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This guide covers everything you need to integrate ElysPerceptionPlugin into your project."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#quick-start-5-minutes",children:"Quick Start (5 minutes)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#understanding-the-pipeline-10-minutes",children:"Understanding the Pipeline (10 minutes)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#complete-interaction-setup-30-minutes",children:"Complete Interaction Setup (30 minutes)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#troubleshooting",children:"Troubleshooting"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-start-5-minutes",children:"Quick Start (5 minutes)"}),"\n",(0,r.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.h4,{id:"1-copy-the-plugin",children:"1. Copy the Plugin"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"YourProject/\r\n\u2514\u2500\u2500 Plugins/\r\n    \u2514\u2500\u2500 ElysPerceptionPlugin/\n"})}),"\n",(0,r.jsx)(n.h4,{id:"2-enable-the-plugin",children:"2. Enable the Plugin"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open your project in Unreal Editor"}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Edit \u2192 Plugins"})]}),"\n",(0,r.jsx)(n.li,{children:'Search for "Elys Perception Plugin"'}),"\n",(0,r.jsx)(n.li,{children:"Check the box to enable it"}),"\n",(0,r.jsx)(n.li,{children:"Restart the editor"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"3-verify-installation",children:"3. Verify Installation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'In Content Browser, enable "Show Plugin Content"'}),"\n",(0,r.jsx)(n.li,{children:"You should see the ElysPerceptionPlugin folder"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"4-update-build-configuration-c-projects-only",children:"4. Update Build Configuration (C++ Projects Only)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Blueprint-only projects can skip this step!"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Add this to your project's ",(0,r.jsx)(n.code,{children:".Build.cs"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'PublicDependencyModuleNames.AddRange(new string[] { \r\n    "Core", \r\n    "CoreUObject", \r\n    "Engine", \r\n    "ElysPerceptionPlugin"  // Add this line\r\n});\n'})}),"\n",(0,r.jsx)(n.p,{children:"After updating, regenerate project files and rebuild."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"minimal-setup-get-something-working",children:"Minimal Setup (Get Something Working)"}),"\n",(0,r.jsx)(n.h4,{id:"player-setup",children:"Player Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Open your ",(0,r.jsx)(n.strong,{children:"PlayerController"})," or ",(0,r.jsx)(n.strong,{children:"Pawn"})," Blueprint"]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.strong,{children:"Component"})," \u2192 ",(0,r.jsx)(n.code,{children:"ERPPerceptionComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.strong,{children:"Component"})," \u2192 ",(0,r.jsx)(n.code,{children:"ERPInteractionComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"configure-perception-component",children:"Configure Perception Component"}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.code,{children:"ERPPerceptionComponent"})," and configure:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default Sampling Range"}),": ",(0,r.jsx)(n.code,{children:"300"})," (3 meters)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Channel Pipelines"})," \u2192 Add element:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Channel Id"}),": ",(0,r.jsx)(n.code,{children:"Interaction"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sampler"}),": ",(0,r.jsx)(n.code,{children:"ERPSphereOverlapSampler"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Trace Channel: ",(0,r.jsx)(n.code,{children:"Visibility"})]}),"\n",(0,r.jsx)(n.li,{children:"Ignore Context Actor: \u2713"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Filters"}),": Add ",(0,r.jsx)(n.code,{children:"ERPInteractableFilter"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scorers"}),": Add ",(0,r.jsx)(n.code,{children:"ERPDistanceScorer"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Normalize By Range: \u2713"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Aggregator"}),": ",(0,r.jsx)(n.code,{children:"ERPIdentityAggregator"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resolver"}),": ",(0,r.jsx)(n.code,{children:"ERPLowestScoreResolver"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"configure-interaction-component",children:"Configure Interaction Component"}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.code,{children:"ERPInteractionComponent"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Channel Id"}),": ",(0,r.jsx)(n.code,{children:"Interaction"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interaction Rules"}),": (Optional) Add custom validation rules"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"make-an-object-interactable",children:"Make an Object Interactable"}),"\n",(0,r.jsx)(n.p,{children:"On any Actor Blueprint:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Class Settings \u2192 Interfaces"})," \u2192 Add ",(0,r.jsx)(n.code,{children:"ERPInteractable"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event Graph"})," \u2192 Implement ",(0,r.jsx)(n.code,{children:"CanBeInteractedWith"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Return True\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Event Graph"})," \u2192 Implement ",(0,r.jsx)(n.code,{children:"GetInteractionDescriptor"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Make ERP Interaction Descriptor:\r\n  - Display Name: "Test Object"\r\n  - Prompt Text: "Press E to Interact"\r\nSet Out Descriptor\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"test-it",children:"Test It"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Play in Editor"}),"\n",(0,r.jsx)(n.li,{children:"Approach the interactable object"}),"\n",(0,r.jsx)(n.li,{children:"Open Output Log"}),"\n",(0,r.jsxs)(n.li,{children:["You should see:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[ERPPerceptionComponent] Candidate acquired on channel 'Interaction'"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[ERPInteractionComponent] Candidate changed: [New Actor Name]"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[ERPInteractionComponent] Descriptor changed: Test Object"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u2713 It works!"})," The Interaction Component is now tracking the best candidate and resolving descriptors. Continue below for complete setup with visual feedback."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"understanding-the-pipeline-10-minutes",children:"Understanding the Pipeline (10 minutes)"}),"\n",(0,r.jsx)(n.h3,{id:"what-is-the-pipeline",children:"What is the Pipeline?"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Pipeline"})," is the core detection system. It processes candidates (potential targets/interactables) through 5 stages:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  1. SAMPLER \u2502  \u2192 Collects candidate actors from world\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 2. FILTERS  \u2502  \u2192 Eliminates invalid candidates\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 3. SCORERS  \u2502  \u2192 Assigns scores to each candidate\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u25024. AGGREGATOR\u2502  \u2192 Combines multiple scores into one\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 5. RESOLVER \u2502  \u2192 Selects the winning candidate\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pipeline-stages-explained",children:"Pipeline Stages Explained"}),"\n",(0,r.jsx)(n.h4,{id:"1-sampler",children:"1. Sampler"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it does:"})," Gathers potential candidates from the world"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," ",(0,r.jsx)(n.code,{children:"ERPSphereOverlapSampler"})," does a sphere overlap to find nearby actors"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Analogy:"})," Casting a fishing net"]}),"\n",(0,r.jsx)(n.h4,{id:"2-filters",children:"2. Filters"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it does:"})," Removes invalid candidates (ALL filters must pass)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," ",(0,r.jsx)(n.code,{children:"ERPInteractableFilter"})," checks if actor implements ",(0,r.jsx)(n.code,{children:"IERPInteractable"})," interface"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Analogy:"})," Throwing back fish that are too small"]}),"\n",(0,r.jsx)(n.h4,{id:"3-scorers",children:"3. Scorers"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it does:"})," Assigns a score to each remaining candidate"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," ",(0,r.jsx)(n.code,{children:"ERPDistanceScorer"})," scores by distance (closer = lower score = better)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Analogy:"})," Rating fish by size"]}),"\n",(0,r.jsx)(n.h4,{id:"4-aggregator",children:"4. Aggregator"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it does:"})," Combines multiple scorer outputs into one final score"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," ",(0,r.jsx)(n.code,{children:"ERPIdentityAggregator"})," just passes through (for single scorer)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Analogy:"})," Weighing all fish characteristics"]}),"\n",(0,r.jsx)(n.h4,{id:"5-resolver",children:"5. Resolver"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it does:"})," Picks the winning candidate based on final scores"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," ",(0,r.jsx)(n.code,{children:"ERPLowestScoreResolver"})," picks the candidate with lowest score"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Analogy:"})," Selecting the best fish"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"multi-channel-system",children:"Multi-Channel System"}),"\n",(0,r.jsxs)(n.p,{children:["The plugin supports ",(0,r.jsx)(n.strong,{children:"multiple independent channels"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interaction Channel"})," \u2014 For detecting interactable objects (doors, items, NPCs)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Target Channel"})," \u2014 For combat targeting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Custom Channels"})," \u2014 Add your own (healing targets, etc.)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each channel:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Runs its own pipeline"}),"\n",(0,r.jsx)(n.li,{children:"Maintains its own best candidate"}),"\n",(0,r.jsx)(n.li,{children:"Fires its own events"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," You can have an enemy targeted (Target channel) while also detecting a nearby door (Interaction channel) at the same time."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"complete-interaction-setup-30-minutes",children:"Complete Interaction Setup (30 minutes)"}),"\n",(0,r.jsx)(n.p,{children:"This section shows you how to build a complete interaction system with UI prompts."}),"\n",(0,r.jsx)(n.h3,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'PLAYER CONTROLLER\r\n\u251c\u2500 ERPPerceptionComponent \u2192 detects candidates (Channel: "Interaction")\r\n\u251c\u2500 ERPInteractionComponent \u2192 validates eligibility + resolves descriptors\r\n\u2514\u2500 Event Graph \u2192 wires visual feedback\r\n\r\nINTERACTABLE ACTOR\r\n\u251c\u2500 IERPInteractable \u2192 interface implementation\r\n\u251c\u2500 ERPBaseInteractionFeedbackComponent \u2192 visual feedback helper (optional)\r\n\u2514\u2500 Widget Component \u2192 for UI prompt (optional)\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Responsibilities:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ERPPerceptionComponent:"})," Detects potential candidates via pipeline"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ERPInteractionComponent:"})," Validates with ",(0,r.jsx)(n.code,{children:"CanBeInteractedWith"}),", resolves descriptor, tracks current candidate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"PlayerController Event Graph:"})," Listens to ",(0,r.jsx)(n.code,{children:"OnCandidateChanged"})," and ",(0,r.jsx)(n.code,{children:"OnDescriptorChanged"}),", triggers visual feedback"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ERPBaseInteractionFeedbackComponent:"})," Applies visual feedback (outline, widget visibility) on the interactable actor"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-1-player-controller-setup",children:"Step 1: Player Controller Setup"}),"\n",(0,r.jsx)(n.h4,{id:"blueprint-implementation",children:"Blueprint Implementation"}),"\n",(0,r.jsx)(n.h5,{id:"11-add-components",children:"1.1 Add Components"}),"\n",(0,r.jsx)(n.p,{children:"Open your PlayerController Blueprint:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add Component \u2192 ",(0,r.jsx)(n.code,{children:"ERPPerceptionComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add Component \u2192 ",(0,r.jsx)(n.code,{children:"ERPInteractionComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"12-configure-erpperceptioncomponent",children:"1.2 Configure ERPPerceptionComponent"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Basic Settings:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Default Sampling Range: ",(0,r.jsx)(n.code,{children:"300"})," (3 meters, adjust to your needs)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Channel Pipelines"})," \u2192 Add element:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Channel Id: "Interaction"\r\n\r\nSampler: ERPSphereOverlapSampler\r\n  - Trace Channel: Visibility\r\n  - Ignore Context Actor: \u2713\r\n\r\nFilters: (Array)\r\n  - ERPInteractableFilter\r\n\r\nScorers: (Array)\r\n  - ERPDistanceScorer\r\n    - Normalize By Range: \u2713\r\n\r\nAggregator: ERPIdentityAggregator\r\n\r\nResolver: ERPLowestScoreResolver\n'})}),"\n",(0,r.jsx)(n.h5,{id:"13-configure-erpinteractioncomponent",children:"1.3 Configure ERPInteractionComponent"}),"\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.code,{children:"ERPInteractionComponent"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Channel Id:"})," ",(0,r.jsx)(n.code,{children:"Interaction"})," (must match perception pipeline)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Interaction Rules:"})," (Optional) Add custom UERPInteractionRule instances for validation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"bDebugInteraction:"})," \u2713 (Enable for testing, disable in production)"]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"14-event-graph---wire-visual-feedback",children:"1.4 Event Graph - Wire Visual Feedback"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Event BeginPlay:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event BeginPlay\r\n  \u2192 Get Component by Class: ERPInteractionComponent\r\n  \u2192 Bind Event to OnCandidateChanged\r\n    \u2192 Custom Event: HandleInteractionCandidateChanged\r\n  \u2192 Bind Event to OnDescriptorChanged\r\n    \u2192 Custom Event: HandleInteractionDescriptorChanged\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Custom Event: HandleInteractionCandidateChanged"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: HandleInteractionCandidateChanged (Previous Candidate: Actor, New Candidate: Actor, Channel Id: FName)\r\n  \u2192 Branch: Is Valid (Previous Candidate)\r\n    True:\r\n      \u2192 Get Component by Class (Previous Candidate): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: SetInteractionFocused(false)\r\n  \r\n  \u2192 Branch: Is Valid (New Candidate)\r\n    True:\r\n      \u2192 Get Component by Class (New Candidate): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: SetInteractionFocused(true)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Custom Event: HandleInteractionDescriptorChanged"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: HandleInteractionDescriptorChanged (Candidate: Actor, Descriptor: FERPInteractionDescriptor, Channel Id: FName)\r\n  \u2192 Branch: Is Valid (Candidate)\r\n    True:\r\n      \u2192 Get Component by Class (Candidate): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: UpdateInteractionDescriptor(Descriptor)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What this does:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["When a new interactable is detected, ",(0,r.jsx)(n.code,{children:"SetInteractionFocused(true)"})," is called on its feedback component"]}),"\n",(0,r.jsxs)(n.li,{children:["When focus is lost, ",(0,r.jsx)(n.code,{children:"SetInteractionFocused(false)"})," is called on the previous candidate"]}),"\n",(0,r.jsx)(n.li,{children:'When the descriptor changes (e.g., door state changes from "Open" to "Close"), the feedback component is updated'}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No UI logic in PlayerController!"})," All visual behavior is handled by the feedback component on the interactable actor."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"c-implementation",children:"C++ Implementation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'// PlayerController.h\r\n#include "Core/ERPPerceptionComponent.h"\r\n#include "Interaction/ERPInteractionComponent.h"\r\n\r\nUCLASS()\r\nclass AMyPlayerController : public APlayerController\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    AMyPlayerController();\r\n\r\nprotected:\r\n    virtual void BeginPlay() override;\r\n\r\nprivate:\r\n    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Perception", meta = (AllowPrivateAccess = "true"))\r\n    UERPPerceptionComponent* PerceptionComponent;\r\n\r\n    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Interaction", meta = (AllowPrivateAccess = "true"))\r\n    UERPInteractionComponent* InteractionComponent;\r\n\r\n    UFUNCTION()\r\n    void OnCandidateChanged(AActor* PreviousCandidate, AActor* NewCandidate, FName ChannelId);\r\n\r\n    UFUNCTION()\r\n    void OnDescriptorChanged(AActor* Candidate, const FERPInteractionDescriptor& Descriptor, FName ChannelId);\r\n};\r\n\r\n// PlayerController.cpp\r\n#include "Interaction/ERPBaseInteractionFeedbackComponent.h"\r\n\r\nAMyPlayerController::AMyPlayerController()\r\n{\r\n    PerceptionComponent = CreateDefaultSubobject<UERPPerceptionComponent>(TEXT("PerceptionComponent"));\r\n    InteractionComponent = CreateDefaultSubobject<UERPInteractionComponent>(TEXT("InteractionComponent"));\r\n    InteractionComponent->ChannelId = "Interaction";\r\n}\r\n\r\nvoid AMyPlayerController::BeginPlay()\r\n{\r\n    Super::BeginPlay();\r\n\r\n    // Bind interaction events\r\n    if (InteractionComponent)\r\n    {\r\n        InteractionComponent->OnCandidateChanged.AddDynamic(this, &AMyPlayerController::OnCandidateChanged);\r\n        InteractionComponent->OnDescriptorChanged.AddDynamic(this, &AMyPlayerController::OnDescriptorChanged);\r\n    }\r\n}\r\n\r\nvoid AMyPlayerController::OnCandidateChanged(AActor* PreviousCandidate, AActor* NewCandidate, FName ChannelId)\r\n{\r\n    // Unfocus previous candidate\r\n    if (PreviousCandidate)\r\n    {\r\n        if (UERPBaseInteractionFeedbackComponent* FeedbackComp = PreviousCandidate->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n        {\r\n            FeedbackComp->SetInteractionFocused(false);\r\n        }\r\n    }\r\n\r\n    // Focus new candidate\r\n    if (NewCandidate)\r\n    {\r\n        if (UERPBaseInteractionFeedbackComponent* FeedbackComp = NewCandidate->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n        {\r\n            FeedbackComp->SetInteractionFocused(true);\r\n        }\r\n    }\r\n}\r\n\r\nvoid AMyPlayerController::OnDescriptorChanged(AActor* Candidate, const FERPInteractionDescriptor& Descriptor, FName ChannelId)\r\n{\r\n    if (Candidate)\r\n    {\r\n        if (UERPBaseInteractionFeedbackComponent* FeedbackComp = Candidate->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n        {\r\n            FeedbackComp->UpdateInteractionDescriptor(Descriptor);\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Points:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ERPInteractionComponent"})," automatically subscribes to perception events for the specified channel"]}),"\n",(0,r.jsxs)(n.li,{children:["It validates candidates using ",(0,r.jsx)(n.code,{children:"CanBeInteractedWith"})," and optional ",(0,r.jsx)(n.code,{children:"InteractionRules"})]}),"\n",(0,r.jsxs)(n.li,{children:["It resolves descriptors by calling ",(0,r.jsx)(n.code,{children:"GetInteractionDescriptor"})," on the candidate"]}),"\n",(0,r.jsx)(n.li,{children:"Events fire only when state actually changes (candidate or descriptor)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-2-interactable-actor-setup",children:"Step 2: Interactable Actor Setup"}),"\n",(0,r.jsx)(n.h4,{id:"blueprint-implementation-1",children:"Blueprint Implementation"}),"\n",(0,r.jsx)(n.h5,{id:"21-create-interactable-actor",children:"2.1 Create Interactable Actor"}),"\n",(0,r.jsxs)(n.p,{children:["Create a new Actor Blueprint (e.g., ",(0,r.jsx)(n.code,{children:"BP_InteractableDoor"}),"):"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add a ",(0,r.jsx)(n.strong,{children:"Static Mesh Component"})," (or any visual representation)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Class Settings \u2192 Interfaces"})," \u2192 Add ",(0,r.jsx)(n.code,{children:"ERPInteractable"})]}),"\n",(0,r.jsxs)(n.li,{children:["(Optional) Add Component \u2192 ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["(Optional) Add Component \u2192 ",(0,r.jsx)(n.code,{children:"ERP_OutlineComponent"})," or your own highlight component"]}),"\n",(0,r.jsxs)(n.li,{children:["(Optional) Add Component \u2192 ",(0,r.jsx)(n.code,{children:"WidgetComponent"})," (Widget Class: your interaction widget)"]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"22-implement-interface-functions",children:"2.2 Implement Interface Functions"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Event Graph:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implement: CanBeInteractedWith"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: CanBeInteractedWith (Interacting Actor: Actor)\r\n  \u2192 Return Value: True\r\n  \r\n  // Optional: Add conditions\r\n  // Branch: Is Door Locked?\r\n  //   True \u2192 Return False\r\n  //   False \u2192 Return True\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Implement: Get Interaction Descriptor"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:'Function: Get Interaction Descriptor (Out Descriptor: ERP Interaction Descriptor)\r\n  \u2192 Make ERPInteractionDescriptor\r\n    - Display Name: "Wooden Door"\r\n    - Prompt Text: "Press E to open"\r\n    - Interaction Tags: (Optional) Add tags like "Door.Open"\r\n    - Presentation Hints: (Optional) Add custom data\r\n  \u2192 Set Out Descriptor\n'})}),"\n",(0,r.jsx)(n.h5,{id:"23-configure-feedback-component-optional",children:"2.3 Configure Feedback Component (Optional)"}),"\n",(0,r.jsxs)(n.p,{children:["If you added ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"}),":"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Select the component and configure:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Outline Component:"})," Assign your outline/highlight component (e.g., ERP_OutlineComponent)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Widget Component:"})," Assign your WidgetComponent if you want world-space prompts"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The feedback component will automatically:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enable/disable the outline when focused/unfocused"}),"\n",(0,r.jsx)(n.li,{children:"Show/hide the widget when focused/unfocused"}),"\n",(0,r.jsx)(n.li,{children:"Forward descriptor updates to the widget"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"No additional code needed!"})," The PlayerController events handle everything."]}),"\n",(0,r.jsx)(n.h5,{id:"24-custom-widget-update-optional",children:"2.4 Custom Widget Update (Optional)"}),"\n",(0,r.jsx)(n.p,{children:"If you want to update widget content based on descriptor:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Override Event in Feedback Component subclass:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: OnDescriptorUpdated (Descriptor)\r\n  \u2192 Get Component: WidgetComponent\r\n  \u2192 Get User Widget Object\r\n  \u2192 Cast to: WBP_InteractionPrompt\r\n  \u2192 Call: UpdateWidget(Descriptor)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Your widget (WBP_InteractionPrompt) should inherit from ",(0,r.jsx)(n.code,{children:"ERPInteractionWidgetBase"}),":"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: UpdateWidget (Descriptor)\r\n  \u2192 Set Text: DisplayNameText = Descriptor.DisplayName\r\n  \u2192 Set Text: PromptText = Descriptor.PromptText\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"c-implementation-1",children:"C++ Implementation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'// InteractableDoor.h\r\n#include "Core/ERPInteractable.h"\r\n\r\nUCLASS()\r\nclass AInteractableDoor : public AActor, public IERPInteractable\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // IERPInteractable interface\r\n    virtual bool CanBeInteractedWith_Implementation(AActor* InteractingActor) override;\r\n    virtual void GetInteractionDescriptor_Implementation(FERPInteractionDescriptor& OutDescriptor) override;\r\n\r\nprivate:\r\n    UPROPERTY(VisibleAnywhere)\r\n    UStaticMeshComponent* DoorMesh;\r\n\r\n    UPROPERTY(EditAnywhere, Category = "Interaction")\r\n    bool bIsLocked = false;\r\n};\r\n\r\n// InteractableDoor.cpp\r\nbool AInteractableDoor::CanBeInteractedWith_Implementation(AActor* InteractingActor)\r\n{\r\n    return !bIsLocked;\r\n}\r\n\r\nvoid AInteractableDoor::GetInteractionDescriptor_Implementation(FERPInteractionDescriptor& OutDescriptor)\r\n{\r\n    OutDescriptor.DisplayName = FText::FromString("Open Door");\r\n    OutDescriptor.PromptText = FText::FromString("Press E to open");\r\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-3-widget-setup-optional",children:"Step 3: Widget Setup (Optional)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note:"})," With ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"}),", widget management is automatic!\r\nThis section is only needed if you want custom widget content."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"option-a-world-space-widget-recommended",children:"Option A: World-Space Widget (Recommended)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Create Widget Blueprint:"})," ",(0,r.jsx)(n.code,{children:"WBP_InteractionPrompt"})," (inherits from ",(0,r.jsx)(n.code,{children:"ERPInteractionWidgetBase"}),")"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Hierarchy:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Canvas Panel\r\n\u251c\u2500 Text Block (Name: "DisplayNameText")\r\n\u2502  - Text: "Object Name"\r\n\u251c\u2500 Text Block (Name: "PromptText")\r\n   - Text: "Press E to interact"\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Event Graph:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:'Event: UpdateWidget (Descriptor)\r\n  \u2192 Set Text: DisplayNameText = Descriptor.DisplayName\r\n  \u2192 Set Text: PromptText = Descriptor.PromptText\r\n  \r\n  // Optional: Parse tags or hints for advanced behavior\r\n  \u2192 Branch: Descriptor.InteractionTags contains "Door"\r\n    True \u2192 Set Color: Blue\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Assign to Interactable Actor:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"WidgetComponent"})," to your interactable"]}),"\n",(0,r.jsxs)(n.li,{children:["Set Widget Class: ",(0,r.jsx)(n.code,{children:"WBP_InteractionPrompt"})]}),"\n",(0,r.jsx)(n.li,{children:"Set Widget Space: World"}),"\n",(0,r.jsxs)(n.li,{children:["Assign to ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent.WidgetComponent"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Done!"})," The component handles show/hide and calls ",(0,r.jsx)(n.code,{children:"UpdateWidget"})," automatically."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"option-b-screen-space-widget-hud",children:"Option B: Screen-Space Widget (HUD)"}),"\n",(0,r.jsx)(n.p,{children:"If you prefer a screen-space prompt instead of world-space:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1. Create Widget Blueprint:"})," ",(0,r.jsx)(n.code,{children:"WBP_InteractionHUD"})," (does NOT need to inherit from ERPInteractionWidgetBase)"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Add to PlayerController:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event BeginPlay:\r\n  \u2192 Create Widget: WBP_InteractionHUD\r\n  \u2192 Add to Viewport\r\n  \u2192 Set Visibility: Hidden\r\n  \u2192 Promote to Variable: InteractionHUDWidget\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Update Event Handlers:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: HandleInteractionCandidateChanged (Previous, New, ChannelId)\r\n  \u2192 Branch: Is Valid (New)\r\n    True:\r\n      \u2192 InteractionHUDWidget \u2192 Set Visibility: Visible\r\n    False:\r\n      \u2192 InteractionHUDWidget \u2192 Set Visibility: Hidden\r\n  \r\n  // Still call feedback component for world-space effects (outline, etc.)\r\n  \u2192 [Existing feedback component logic...]\r\n\r\nFunction: HandleInteractionDescriptorChanged (Candidate, Descriptor, ChannelId)\r\n  \u2192 InteractionHUDWidget \u2192 Update Content (Descriptor)\r\n  \r\n  // Still call feedback component for world-space widget\r\n  \u2192 [Existing feedback component logic...]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Trade-offs:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 Screen-space: Always visible, no occlusion"}),"\n",(0,r.jsx)(n.li,{children:"\u274c Screen-space: Less immersive, requires HUD management"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 World-space: More immersive, automatic positioning"}),"\n",(0,r.jsx)(n.li,{children:"\u274c World-space: Can be occluded by other objects"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-4-input-handling-execute-interaction",children:"Step 4: Input Handling (Execute Interaction)"}),"\n",(0,r.jsx)(n.h4,{id:"setup-input",children:"Setup Input"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Project Settings \u2192 Input:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add Action Mapping: ",(0,r.jsx)(n.code,{children:"Interact"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Key: ",(0,r.jsx)(n.code,{children:"E"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"playercontroller-event-graph",children:"PlayerController Event Graph"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Variables:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CurrentInteractable"})," (Actor reference)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update: On Interaction Available"})," (add):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: On Interaction Available (Candidate: Actor)\r\n  \u2192 Set CurrentInteractable = Candidate\r\n  \u2192 [existing UI code...]\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Update: On Interaction Lost"})," (add):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: On Interaction Lost\r\n  \u2192 Set CurrentInteractable = None\r\n  \u2192 [existing UI code...]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Input Event: Interact"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:'Input Action: Interact (Pressed)\r\n  \u2192 Branch: CurrentInteractable != None\r\n    True:\r\n      \u2192 Print: "Interacting with " + Get Display Name(CurrentInteractable)\r\n      \u2192 [Your game logic here: open door, pick up item, talk to NPC...]\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"step-5-testing",children:"Step 5: Testing"}),"\n",(0,r.jsx)(n.h4,{id:"checklist",children:"Checklist"}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","PlayerController has ERPPerceptionComponent"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ",'PlayerController has ERPChannelListenerComponent (Channel: "Interaction")']}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Channel pipeline configured correctly"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Interactable Actor implements IERPInteractable interface"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Events bound in BeginPlay"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Widget created and added to viewport"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"test-flow",children:"Test Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Play in Editor"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Approach interactable object"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Expected: Prompt appears"}),"\n",(0,r.jsx)(n.li,{children:'Log: "Interaction available: BP_InteractableDoor_C"'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Press E"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Expected: "Interacting with..." message'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Walk away"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Expected: Prompt disappears"}),"\n",(0,r.jsx)(n.li,{children:'Log: "Interaction lost"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"no-prompt-appears-when-approaching-object",children:"No prompt appears when approaching object"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Does the object implement ",(0,r.jsx)(n.code,{children:"IERPInteractable"})," interface?"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Does ",(0,r.jsx)(n.code,{children:"CanBeInteractedWith"})," return ",(0,r.jsx)(n.code,{children:"True"}),"?"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Is the object within range? (Default: 300 units)"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Is the Trace Channel correct? (Try ",(0,r.jsx)(n.code,{children:"ECC_Visibility"})," or ",(0,r.jsx)(n.code,{children:"ECC_WorldDynamic"}),")"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Are events bound in BeginPlay?"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Debug:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:'Event Tick\r\n  \u2192 Get Component: PerceptionComponent\r\n  \u2192 Get Channel Candidate ("Interaction")\r\n  \u2192 Print String: Result\n'})}),"\n",(0,r.jsx)(n.h3,{id:"events-not-firing",children:"Events not firing"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Is ERPChannelListenerComponent's Channel Id set to ",(0,r.jsx)(n.code,{children:'"Interaction"'}),"?"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Are events bound in BeginPlay?"]}),"\n",(0,r.jsxs)(n.li,{className:"task-list-item",children:[(0,r.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Is the PlayerController the local player? (not AI, not server-only)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Debug:"}),"\r\nEnable ",(0,r.jsx)(n.code,{children:"bDebugPerception"})," on ERPPerceptionComponent (Details panel)"]}),"\n",(0,r.jsx)(n.h3,{id:"object-detected-from-too-fartoo-close",children:"Object detected from too far/too close"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Adjust:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"DefaultSamplingRange"})," on ERPPerceptionComponent (affects all channels)"]}),"\n",(0,r.jsx)(n.li,{children:"Or: Use custom Sampler with specific radius"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"multiple-objects-detected-wrong-one-selected",children:"Multiple objects detected, wrong one selected"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Resolver is ",(0,r.jsx)(n.code,{children:"ERPLowestScoreResolver"})," (picks closest)"]}),"\n",(0,r.jsxs)(n.li,{children:["Scorer is ",(0,r.jsx)(n.code,{children:"ERPDistanceScorer"})," with ",(0,r.jsx)(n.code,{children:"Normalize By Range = true"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Improve:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add angle-based scoring (see ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/AdvancedCustomization",children:"Advanced Customization"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Add custom filters (line-of-sight, etc.)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(n.p,{children:"Now that you have a working interaction system:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Add Visual Feedback"})," \u2192 See ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/HelperComponents",children:"Helper Components Guide"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Outline interactable objects"}),"\n",(0,r.jsx)(n.li,{children:"World-space interaction widgets"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Advanced Interaction Concepts"})," \u2192 See ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/Interaction",children:"Interaction Guide"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Multiple interaction types"}),"\n",(0,r.jsx)(n.li,{children:"Dynamic descriptors"}),"\n",(0,r.jsx)(n.li,{children:"Context-sensitive actions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Understand the System"})," \u2192 See ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/PipelineGuide",children:"Pipeline Guide"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"How detection works internally"}),"\n",(0,r.jsx)(n.li,{children:"Multi-channel architecture"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Customize"})," \u2192 See ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/AdvancedCustomization",children:"Advanced Customization"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create custom Scorers"}),"\n",(0,r.jsx)(n.li,{children:"Create custom Filters"}),"\n",(0,r.jsx)(n.li,{children:"Extend the pipeline"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\ud83c\udf89 Congratulations! You now have a working perception-based interaction system!"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/",children:"\u2190 Back to Documentation Home"})," | ",(0,r.jsx)(n.a,{href:"/ElysPerceptionPlugin/Quick-Reference",children:"Quick Reference \u2192"})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);