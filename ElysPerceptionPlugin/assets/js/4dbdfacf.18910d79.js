"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[29],{3920(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"VisualFeedbackComponent","title":"ERPBaseInteractionFeedbackComponent Guide","description":"Complete guide for using the optional visual feedback component for interactions.","source":"@site/../Documentation/VisualFeedbackComponent.md","sourceDirName":".","slug":"/VisualFeedbackComponent","permalink":"/ElysPerceptionPlugin/VisualFeedbackComponent","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysPerceptionPlugin/tree/main/Documentation/../Documentation/VisualFeedbackComponent.md","tags":[],"version":"current","frontMatter":{}}');var r=t(4848),o=t(8453);const l={},s="ERPBaseInteractionFeedbackComponent Guide",a={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Overview",id:"overview",level:2},{value:"What It Does",id:"what-it-does",level:3},{value:"What It Does NOT Do",id:"what-it-does-not-do",level:3},{value:"When to Use It",id:"when-to-use-it",level:3},{value:"Basic Setup",id:"basic-setup",level:2},{value:"1. Add Component to Interactable Actor",id:"1-add-component-to-interactable-actor",level:3},{value:"2. Configure Optional Sub-Components",id:"2-configure-optional-sub-components",level:3},{value:"3. Wire Events in PlayerController",id:"3-wire-events-in-playercontroller",level:3},{value:"Integration with InteractionComponent",id:"integration-with-interactioncomponent",level:2},{value:"Full Flow",id:"full-flow",level:3},{value:"Why This Design?",id:"why-this-design",level:3},{value:"Custom Visual Feedback",id:"custom-visual-feedback",level:2},{value:"Override Blueprint Events",id:"override-blueprint-events",level:3},{value:"Override Native Implementation (C++)",id:"override-native-implementation-c",level:3},{value:"Blueprint Examples",id:"blueprint-examples",level:2},{value:"Example 1: Simple Door with Outline",id:"example-1-simple-door-with-outline",level:3},{value:"Example 2: Item with World-Space Prompt",id:"example-2-item-with-world-space-prompt",level:3},{value:"Example 3: NPC with Custom Animations",id:"example-3-npc-with-custom-animations",level:3},{value:"C++ Examples",id:"c-examples",level:2},{value:"Example 1: Custom Outline Effect",id:"example-1-custom-outline-effect",level:3},{value:"Example 2: PlayerController Integration",id:"example-2-playercontroller-integration",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Pattern 1: Fallback to Screen-Space UI",id:"pattern-1-fallback-to-screen-space-ui",level:3},{value:"Pattern 2: Conditional Feedback",id:"pattern-2-conditional-feedback",level:3},{value:"Pattern 3: Multiple Feedback Types",id:"pattern-3-multiple-feedback-types",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"? DO",id:"-do",level:3},{value:"? DON&#39;T",id:"-dont",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Visual feedback not showing",id:"visual-feedback-not-showing",level:3},{value:"Descriptor not updating widget",id:"descriptor-not-updating-widget",level:3},{value:"Outline/Widget not hiding",id:"outlinewidget-not-hiding",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"erpbaseinteractionfeedbackcomponent-guide",children:"ERPBaseInteractionFeedbackComponent Guide"})}),"\n",(0,r.jsx)(n.p,{children:"Complete guide for using the optional visual feedback component for interactions."}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#overview",children:"Overview"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#basic-setup",children:"Basic Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#integration-with-interactioncomponent",children:"Integration with InteractionComponent"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#custom-visual-feedback",children:"Custom Visual Feedback"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#blueprint-examples",children:"Blueprint Examples"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#c-examples",children:"C++ Examples"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#common-patterns",children:"Common Patterns"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"UERPBaseInteractionFeedbackComponent"})," is an ",(0,r.jsx)(n.strong,{children:"optional helper"})," that provides default visual feedback behavior for interactable actors."]}),"\n",(0,r.jsx)(n.h3,{id:"what-it-does",children:"What It Does"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Manages outline/highlight visibility"}),"\n",(0,r.jsx)(n.li,{children:"Shows/hides world-space interaction widgets"}),"\n",(0,r.jsx)(n.li,{children:"Forwards descriptor updates to your custom widgets"}),"\n",(0,r.jsx)(n.li,{children:"Provides Blueprint hooks for custom behavior"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"what-it-does-not-do",children:"What It Does NOT Do"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Does NOT detect or validate interactions"}),"\n",(0,r.jsx)(n.li,{children:"Does NOT subscribe to events automatically"}),"\n",(0,r.jsx)(n.li,{children:"Does NOT execute gameplay logic"}),"\n",(0,r.jsx)(n.li,{children:"Does NOT require any specific UI structure"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"when-to-use-it",children:"When to Use It"}),"\n",(0,r.jsxs)(n.p,{children:["? ",(0,r.jsx)(n.strong,{children:"Use when:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You want quick, default visual feedback (outline + widget)"}),"\n",(0,r.jsx)(n.li,{children:"You want to avoid writing boilerplate glue code"}),"\n",(0,r.jsx)(n.li,{children:"You want a clean separation between logic and presentation"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["? ",(0,r.jsx)(n.strong,{children:"Don't use when:"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You have completely custom visual feedback needs"}),"\n",(0,r.jsx)(n.li,{children:"You prefer handling everything directly in PlayerController"}),"\n",(0,r.jsx)(n.li,{children:"Your presentation logic is complex enough to warrant a dedicated Presenter system"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,r.jsx)(n.h3,{id:"1-add-component-to-interactable-actor",children:"1. Add Component to Interactable Actor"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open your interactable actor (Door, Item, NPC, etc.)"}),"\n",(0,r.jsx)(n.li,{children:'Add Component \u2192 Search "ERPBaseInteractionFeedback"'}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"C++:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Interaction")\r\nUERPBaseInteractionFeedbackComponent* VisualFeedback;\r\n\r\nAMyInteractableActor::AMyInteractableActor()\r\n{\r\n    VisualFeedback = CreateDefaultSubobject<UERPBaseInteractionFeedbackComponent>(TEXT("VisualFeedback"));\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"2-configure-optional-sub-components",children:"2. Configure Optional Sub-Components"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Outline (Optional):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add a component that handles outline/highlight (e.g., PostProcessComponent, custom highlight component)"}),"\n",(0,r.jsxs)(n.li,{children:["Assign it to ",(0,r.jsx)(n.code,{children:"OutlineComponent"})," in the VisualFeedback component"]}),"\n",(0,r.jsx)(n.li,{children:"The component will be enabled/disabled automatically based on focus"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"World-Space Widget (Optional):"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add a ",(0,r.jsx)(n.code,{children:"UWidgetComponent"})," to your actor"]}),"\n",(0,r.jsx)(n.li,{children:"Create a widget for the interaction prompt"}),"\n",(0,r.jsxs)(n.li,{children:["Assign the WidgetComponent to ",(0,r.jsx)(n.code,{children:"WorldSpaceWidgetComponent"})]}),"\n",(0,r.jsx)(n.li,{children:"The widget will be shown/hidden automatically based on focus"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-wire-events-in-playercontroller",children:"3. Wire Events in PlayerController"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Bind to ERPInteractionComponent events:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event BeginPlay:\r\n  \u2192 Get Component: ERPInteractionComponent\r\n  \u2192 Bind to OnCandidateChanged: HandleInteractionCandidateChanged\r\n  \u2192 Bind to OnDescriptorChanged: HandleInteractionDescriptorChanged\r\n\r\nFunction: HandleInteractionCandidateChanged (Previous, New, ChannelId)\r\n  \u2192 Branch: Is Valid (Previous)\r\n    True:\r\n      \u2192 Get Component by Class (Previous): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: SetInteractionFocused(false)\r\n  \r\n  \u2192 Branch: Is Valid (New)\r\n    True:\r\n      \u2192 Get Component by Class (New): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: SetInteractionFocused(true)\r\n\r\nFunction: HandleInteractionDescriptorChanged (Candidate, Descriptor, ChannelId)\r\n  \u2192 Branch: Is Valid (Candidate)\r\n    True:\r\n      \u2192 Get Component by Class (Candidate): ERPBaseInteractionFeedbackComponent\r\n      \u2192 Branch: Is Valid (Component)\r\n        True:\r\n          \u2192 Call: UpdateInteractionDescriptor(Descriptor)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Important Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Always check if component is valid before calling functions"}),"\n",(0,r.jsx)(n.li,{children:"The component may not exist on all actors (it's optional)"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"GetComponentByClass"})," to find the component dynamically"]}),"\n",(0,r.jsxs)(n.li,{children:["This pattern works with any subclass of ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"integration-with-interactioncomponent",children:"Integration with InteractionComponent"}),"\n",(0,r.jsx)(n.h3,{id:"full-flow",children:"Full Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[ ERPPerceptionComponent ]\r\n         ?\r\n[ ERPInteractionComponent ]\r\n         ? OnCandidateChanged / OnDescriptorChanged\r\n[ PlayerController Event Bindings ]\r\n         ? Calls SetInteractionFocused / UpdateInteractionDescriptor\r\n[ ERPBaseInteractionFeedbackComponent ]\r\n         ? Applies visual feedback\r\n[ Outline + Widget ]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"why-this-design",children:"Why This Design?"}),"\n",(0,r.jsxs)(n.p,{children:["The VisualFeedback component is ",(0,r.jsx)(n.strong,{children:"passive"})," and ",(0,r.jsx)(n.strong,{children:"actor-local"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"It doesn't know about perception or interaction logic"}),"\n",(0,r.jsx)(n.li,{children:"It only reacts to explicit function calls"}),"\n",(0,r.jsx)(n.li,{children:"Multiple actors can have their own feedback components"}),"\n",(0,r.jsx)(n.li,{children:"The PlayerController orchestrates focus state changes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This keeps responsibilities separated and makes the system easier to debug."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"custom-visual-feedback",children:"Custom Visual Feedback"}),"\n",(0,r.jsx)(n.h3,{id:"override-blueprint-events",children:"Override Blueprint Events"}),"\n",(0,r.jsx)(n.p,{children:"You can override these events in a Blueprint subclass:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"OnInteractionFocused(bool bFocused)"})})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Called when focus state changes"}),"\n",(0,r.jsx)(n.li,{children:"Add custom behavior (play FX, audio, animations)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: OnInteractionFocused (bFocused)\r\n  ? Branch: bFocused\r\n    True:\r\n      ? Play Sound: FocusSound\r\n      ? Spawn Emitter: FocusParticles\r\n    False:\r\n      ? Stop Sound\r\n      ? Destroy Particles\r\n  \r\n  ? Parent: OnInteractionFocused (bFocused)\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"OnDescriptorUpdated(const FERPInteractionDescriptor& Descriptor)"})})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Called when descriptor changes"}),"\n",(0,r.jsx)(n.li,{children:"Push data to your custom widgets"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: OnDescriptorUpdated (Descriptor)\r\n  ? Get Component: WidgetComponent\r\n  ? Get User Widget Object\r\n  ? Cast to: WBP_InteractionPrompt\r\n  ? Set Prompt Text = Descriptor.PromptText\r\n  ? Set Display Name = Descriptor.DisplayName\r\n  \r\n  ? Parent: OnDescriptorUpdated (Descriptor)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"override-native-implementation-c",children:"Override Native Implementation (C++)"}),"\n",(0,r.jsx)(n.p,{children:"You can subclass the component and override:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"class AMyCustomFeedbackComponent : public UERPBaseInteractionFeedbackComponent\r\n{\r\n    virtual void HandleFocusChanged(bool bFocused) override\r\n    {\r\n        Super::HandleFocusChanged(bFocused);\r\n        \r\n        // Your custom logic here\r\n        if (bFocused)\r\n        {\r\n            PlayFocusVFX();\r\n        }\r\n        else\r\n        {\r\n            StopFocusVFX();\r\n        }\r\n    }\r\n    \r\n    virtual void HandleDescriptorUpdated(const FERPInteractionDescriptor& Descriptor) override\r\n    {\r\n        Super::HandleDescriptorUpdated(Descriptor);\r\n        \r\n        // Your custom logic here\r\n        UpdateCustomWidget(Descriptor);\r\n    }\r\n};\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"blueprint-examples",children:"Blueprint Examples"}),"\n",(0,r.jsx)(n.h3,{id:"example-1-simple-door-with-outline",children:"Example 1: Simple Door with Outline"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Door Actor Setup:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n",(0,r.jsx)(n.li,{children:"Add custom highlight component (e.g., outline material)"}),"\n",(0,r.jsxs)(n.li,{children:["Assign highlight component to ",(0,r.jsx)(n.code,{children:"OutlineComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Result:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Door automatically shows outline when player looks at it"}),"\n",(0,r.jsx)(n.li,{children:"No additional code needed"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-2-item-with-world-space-prompt",children:"Example 2: Item with World-Space Prompt"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Item Actor Setup:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"WidgetComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Create widget: ",(0,r.jsx)(n.code,{children:"WBP_ItemPrompt"})," with Text Block"]}),"\n",(0,r.jsxs)(n.li,{children:["Assign WidgetComponent to ",(0,r.jsx)(n.code,{children:"WorldSpaceWidgetComponent"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Update widget content:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: OnDescriptorUpdated (Descriptor)\r\n  ? Get Component: WorldSpaceWidgetComponent\r\n  ? Get User Widget Object\r\n  ? Cast to: WBP_ItemPrompt\r\n  ? Set Text = Descriptor.PromptText\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Result:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Widget shows when player looks at item"}),"\n",(0,r.jsx)(n.li,{children:"Text updates automatically based on descriptor"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-3-npc-with-custom-animations",children:"Example 3: NPC with Custom Animations"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"NPC Actor Setup:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})]}),"\n",(0,r.jsxs)(n.li,{children:["Override ",(0,r.jsx)(n.code,{children:"OnInteractionFocused"})," event"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Event: OnInteractionFocused (bFocused)\r\n  ? Branch: bFocused\r\n    True:\r\n      ? Play Animation: LookAtPlayer\r\n      ? Enable Name Widget\r\n    False:\r\n      ? Play Animation: IdleAnimation\r\n      ? Disable Name Widget\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Result:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"NPC plays special animation when player can interact"}),"\n",(0,r.jsx)(n.li,{children:"Name widget appears above NPC"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"c-examples",children:"C++ Examples"}),"\n",(0,r.jsx)(n.h3,{id:"example-1-custom-outline-effect",children:"Example 1: Custom Outline Effect"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:'UCLASS()\r\nclass AMyInteractableActor : public AActor, public IERPInteractable\r\n{\r\n    GENERATED_BODY()\r\n    \r\npublic:\r\n    AMyInteractableActor()\r\n    {\r\n        VisualFeedback = CreateDefaultSubobject<UERPBaseInteractionFeedbackComponent>(TEXT("VisualFeedback"));\r\n        OutlineComponent = CreateDefaultSubobject<UPostProcessComponent>(TEXT("Outline"));\r\n        \r\n        // Configure outline material\r\n        OutlineComponent->bEnabled = false;\r\n        // ... setup outline material\r\n    }\r\n    \r\nprotected:\r\n    virtual void BeginPlay() override\r\n    {\r\n        Super::BeginPlay();\r\n        \r\n        // Assign outline to feedback component\r\n        VisualFeedback->OutlineComponent = OutlineComponent;\r\n    }\r\n    \r\nprivate:\r\n    UPROPERTY()\r\n    UERPBaseInteractionFeedbackComponent* VisualFeedback;\r\n    \r\n    UPROPERTY()\r\n    UPostProcessComponent* OutlineComponent;\r\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-2-playercontroller-integration",children:"Example 2: PlayerController Integration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"UCLASS()\r\nclass AMyPlayerController : public APlayerController\r\n{\r\n    GENERATED_BODY()\r\n    \r\nprotected:\r\n    virtual void BeginPlay() override\r\n    {\r\n        Super::BeginPlay();\r\n        \r\n        if (UERPInteractionComponent* InteractionComp = FindComponentByClass<UERPInteractionComponent>())\r\n        {\r\n            InteractionComp->OnCandidateChanged.AddDynamic(this, &AMyPlayerController::HandleCandidateChanged);\r\n            InteractionComp->OnDescriptorChanged.AddDynamic(this, &AMyPlayerController::HandleDescriptorChanged);\r\n        }\r\n    }\r\n    \r\nprivate:\r\n    UFUNCTION()\r\n    void HandleCandidateChanged(AActor* Previous, AActor* New, FName ChannelId)\r\n    {\r\n        // Clear previous\r\n        if (Previous)\r\n        {\r\n            if (UERPBaseInteractionFeedbackComponent* Feedback = Previous->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n            {\r\n                Feedback->SetInteractionFocused(false);\r\n            }\r\n        }\r\n        \r\n        // Set new\r\n        if (New)\r\n        {\r\n            if (UERPBaseInteractionFeedbackComponent* Feedback = New->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n            {\r\n                Feedback->SetInteractionFocused(true);\r\n            }\r\n        }\r\n    }\r\n    \r\n    UFUNCTION()\r\n    void HandleDescriptorChanged(AActor* Candidate, const FERPInteractionDescriptor& Descriptor, FName ChannelId)\r\n    {\r\n        if (Candidate)\r\n        {\r\n            if (UERPBaseInteractionFeedbackComponent* Feedback = Candidate->FindComponentByClass<UERPBaseInteractionFeedbackComponent>())\r\n            {\r\n                Feedback->UpdateInteractionDescriptor(Descriptor);\r\n            }\r\n        }\r\n    }\r\n};\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,r.jsx)(n.h3,{id:"pattern-1-fallback-to-screen-space-ui",children:"Pattern 1: Fallback to Screen-Space UI"}),"\n",(0,r.jsxs)(n.p,{children:["If an actor doesn't have ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"}),", show screen-space UI instead:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: HandleCandidateChanged (Previous, New, ChannelId)\r\n  ? Get Component: ERPBaseInteractionFeedbackComponent (New)\r\n  ? Is Valid?\r\n    True:\r\n      ? Call: SetInteractionFocused(true)\r\n      ? Hide Screen UI\r\n    False:\r\n      ? Show Screen UI (fallback)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pattern-2-conditional-feedback",children:"Pattern 2: Conditional Feedback"}),"\n",(0,r.jsx)(n.p,{children:"Enable/disable feedback based on game state:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:"Function: HandleCandidateChanged (Previous, New, ChannelId)\r\n  ? Branch: Is In Menu\r\n    False:\r\n      ? Get Component: ERPBaseInteractionFeedbackComponent (New)\r\n      ? Call: SetInteractionFocused(true)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pattern-3-multiple-feedback-types",children:"Pattern 3: Multiple Feedback Types"}),"\n",(0,r.jsx)(n.p,{children:"Use different feedback for different interaction types:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-blueprint",children:'Event: OnInteractionFocused (bFocused)\r\n  ? Get Interaction Tags (Owner)\r\n  ? Has Tag: "Interact.Dangerous"\r\n    True:\r\n      ? Set Outline Color: Red\r\n    False:\r\n      ? Set Outline Color: White\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"-do",children:"? DO"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})," for quick prototyping"]}),"\n",(0,r.jsx)(n.li,{children:"Override Blueprint events for custom behavior"}),"\n",(0,r.jsx)(n.li,{children:"Safely check if component exists before calling"}),"\n",(0,r.jsx)(n.li,{children:"Keep visual feedback logic in the feedback component"}),"\n",(0,r.jsx)(n.li,{children:"Use this component for simple, actor-local visual effects"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"-dont",children:"? DON'T"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Don't put interaction logic in the feedback component"}),"\n",(0,r.jsx)(n.li,{children:"Don't make the component subscribe to events automatically"}),"\n",(0,r.jsx)(n.li,{children:"Don't use this for complex, multi-actor presentation logic (use a Presenter instead)"}),"\n",(0,r.jsx)(n.li,{children:"Don't assume all interactables have this component"}),"\n",(0,r.jsx)(n.li,{children:"Don't create/destroy widgets dynamically in this component"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"visual-feedback-not-showing",children:"Visual feedback not showing"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Is ",(0,r.jsx)(n.code,{children:"ERPBaseInteractionFeedbackComponent"})," added to the interactable actor?"]}),"\n",(0,r.jsxs)(n.li,{children:["Is ",(0,r.jsx)(n.code,{children:"SetInteractionFocused"})," being called from PlayerController?"]}),"\n",(0,r.jsxs)(n.li,{children:["Are sub-components (",(0,r.jsx)(n.code,{children:"OutlineComponent"}),", ",(0,r.jsx)(n.code,{children:"WorldSpaceWidgetComponent"}),") assigned?"]}),"\n",(0,r.jsx)(n.li,{children:"Are sub-components properly configured?"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"descriptor-not-updating-widget",children:"Descriptor not updating widget"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Is ",(0,r.jsx)(n.code,{children:"UpdateInteractionDescriptor"})," being called?"]}),"\n",(0,r.jsxs)(n.li,{children:["Is ",(0,r.jsx)(n.code,{children:"OnDescriptorUpdated"})," event implemented?"]}),"\n",(0,r.jsx)(n.li,{children:"Is the widget reference valid?"}),"\n",(0,r.jsx)(n.li,{children:"Is the widget structure matching your assumptions?"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"outlinewidget-not-hiding",children:"Outline/Widget not hiding"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Check:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Is ",(0,r.jsx)(n.code,{children:"SetInteractionFocused(false)"})," being called on the previous candidate?"]}),"\n",(0,r.jsx)(n.li,{children:"Is the previous candidate reference still valid?"}),"\n",(0,r.jsxs)(n.li,{children:["Are you handling ",(0,r.jsx)(n.code,{children:"OnCandidateChanged"})," correctly?"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"UERPBaseInteractionFeedbackComponent"})," provides a clean, optional way to add visual feedback to interactable actors without writing boilerplate code."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key Takeaways:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["It's ",(0,r.jsx)(n.strong,{children:"optional"})," - only use if it fits your needs"]}),"\n",(0,r.jsxs)(n.li,{children:["It's ",(0,r.jsx)(n.strong,{children:"passive"})," - only reacts to explicit function calls"]}),"\n",(0,r.jsxs)(n.li,{children:["It's ",(0,r.jsx)(n.strong,{children:"extensible"})," - override events for custom behavior"]}),"\n",(0,r.jsxs)(n.li,{children:["It's ",(0,r.jsx)(n.strong,{children:"simple"})," - designed for quick setup and prototyping"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For more complex presentation needs, consider implementing a custom Presenter system instead."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>s});var i=t(6540);const r={},o=i.createContext(r);function l(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);