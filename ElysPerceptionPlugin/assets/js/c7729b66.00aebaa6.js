"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[607],{1616(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"API-Reference","title":"API-Reference","description":"Complete reference for all public classes, interfaces, and events in ElysPerceptionPlugin.","source":"@site/../Documentation/API-Reference.md","sourceDirName":".","slug":"/API-Reference","permalink":"/ElysPerceptionPlugin/API-Reference","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysPerceptionPlugin/tree/main/Documentation/../Documentation/API-Reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Advanced Customization Guide","permalink":"/ElysPerceptionPlugin/AdvancedCustomization"}}');var l=r(4848),t=r(8453);const s={},c=void 0,d={},a=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Multi-Channel Architecture",id:"multi-channel-architecture",level:2},{value:"Key Design Principles",id:"key-design-principles",level:3},{value:"Core Components",id:"core-components",level:2},{value:"UERPPerceptionComponent",id:"uerpperceptioncomponent",level:3},{value:"Properties",id:"properties",level:4},{value:"Methods",id:"methods",level:4},{value:"Events",id:"events",level:4},{value:"Usage Examples",id:"usage-examples",level:4},{value:"UERPChannelListenerComponent",id:"uerpchannellistenercomponent",level:3},{value:"Properties",id:"properties-1",level:4},{value:"Methods",id:"methods-1",level:4},{value:"Events",id:"events-1",level:4},{value:"Usage Examples",id:"usage-examples-1",level:4},{value:"Interfaces",id:"interfaces",level:2},{value:"IERPTargetable",id:"ierptargetable",level:3},{value:"IERPInteractable",id:"ierpinteractable",level:3},{value:"Pipeline Base Classes",id:"pipeline-base-classes",level:2},{value:"UERPSamplerBase",id:"uerpsamplerbase",level:3},{value:"UERPFilterBase",id:"uerpfilterbase",level:3},{value:"UERPScorerBase",id:"uerpscorerbase",level:3},{value:"UERPAggregatorBase",id:"uerpaggregatorbase",level:3},{value:"UERPResolverBase",id:"uerpresolverbase",level:3},{value:"Default Implementations",id:"default-implementations",level:2},{value:"Samplers",id:"samplers",level:3},{value:"UERPSphereOverlapSampler",id:"uerpsphereoverlapsampler",level:4},{value:"Filters",id:"filters",level:3},{value:"UERPTargetableFilter",id:"uerptargetablefilter",level:4},{value:"UERPInteractableFilter",id:"uerpinteractablefilter",level:4},{value:"UERPImplementsInterfaceFilter",id:"uerpimplementsinterfacefilter",level:4},{value:"Scorers",id:"scorers",level:3},{value:"UERPDistanceScorer",id:"uerpdistancescorer",level:4},{value:"UERPConeScorer",id:"uerpconescorer",level:4},{value:"UERPViewportEllipseScorer",id:"uerpviewportellipsescorer",level:4},{value:"Aggregators",id:"aggregators",level:3},{value:"UERPIdentityAggregator",id:"uerpidentityaggregator",level:4},{value:"UERPAdditiveAggregator",id:"uerpadditiveaggregator",level:4},{value:"UERPMultiplicativeAggregator",id:"uerpmultiplicativeaggregator",level:4},{value:"Resolvers",id:"resolvers",level:3},{value:"UERPLowestScoreResolver",id:"uerplowestscoreresolver",level:4},{value:"UERPHighestScoreResolver",id:"uerphighestscoreresolver",level:4},{value:"Data Structures",id:"data-structures",level:2},{value:"FERPChannelPipeline",id:"ferpchannelpipeline",level:3},{value:"FERPPerceptionContext",id:"ferpperceptioncontext",level:3},{value:"FERPPipelineCandidate",id:"ferppipelinecandidate",level:3},{value:"FERPPipelineScoredCandidate",id:"ferppipelinescoredcandidate",level:3},{value:"Usage Patterns",id:"usage-patterns",level:2},{value:"Minimal Target Pipeline",id:"minimal-target-pipeline",level:3},{value:"Minimal Interaction Pipeline",id:"minimal-interaction-pipeline",level:3},{value:"Multi-Scorer Pipeline",id:"multi-scorer-pipeline",level:3},{value:"Custom Filter Pipeline",id:"custom-filter-pipeline",level:3},{value:"Multi-Channel Setup",id:"multi-channel-setup",level:3},{value:"Using Channel Listeners",id:"using-channel-listeners",level:3}];function o(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"Complete reference for all public classes, interfaces, and events in ElysPerceptionPlugin."}),"\n",(0,l.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#multi-channel-architecture",children:"Multi-Channel Architecture"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#core-components",children:"Core Components"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#interfaces",children:"Interfaces"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#pipeline-base-classes",children:"Pipeline Base Classes"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#default-implementations",children:"Default Implementations"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"#data-structures",children:"Data Structures"})}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"multi-channel-architecture",children:"Multi-Channel Architecture"}),"\n",(0,l.jsxs)(n.p,{children:["ElysPerceptionPlugin uses a ",(0,l.jsx)(n.strong,{children:"pure perception, multi-channel architecture"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Channels"}),': Independent evaluation pipelines (e.g., "Target", "Interaction", custom channels)']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Pure Perception"}),": The component only identifies candidates; it does NOT make gameplay decisions, manage focus, or prioritize channels"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"No Cross-Channel Logic"}),": Each channel evaluates independently and stores its best candidate"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Listener Components"}),": Use ",(0,l.jsx)(n.code,{children:"UERPChannelListenerComponent"})," to subscribe to specific channels and respond to acquisition/loss events"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"key-design-principles",children:"Key Design Principles"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"No Winner/Focus/Lock"}),': The perception component does not decide which channel "wins" or manage any locking mechanism']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Channel-Based Events"}),": Generic events fire per-channel (",(0,l.jsx)(n.code,{children:"OnChannelCandidateAcquired"}),", ",(0,l.jsx)(n.code,{children:"OnChannelCandidateLost"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Gameplay-Agnostic"}),": All gameplay semantics (targeting, interaction, UI) are handled outside the perception system"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Flexible Listening"}),": Use multiple ",(0,l.jsx)(n.code,{children:"UERPChannelListenerComponent"})," instances to subscribe to different channels independently"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,l.jsx)(n.h3,{id:"uerpperceptioncomponent",children:"UERPPerceptionComponent"}),"\n",(0,l.jsx)(n.p,{children:"The main perception component that manages multi-channel pipeline execution and maintains per-channel state."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Core/ERPPerceptionComponent.h"})]}),"\n",(0,l.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultSamplingRange"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"float"})}),(0,l.jsx)(n.td,{children:"Default sampling range passed to samplers (cm). Samplers may ignore it."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ChannelPipelines"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TArray<FERPChannelPipeline>"})}),(0,l.jsx)(n.td,{children:"Multi-channel pipeline configuration. Each entry defines one evaluation channel."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bProvideViewportInfoWhenAvailable"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"If true, context may include viewport size and screen reference (local PC only)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultScreenReferenceNdc"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FVector2D"})}),(0,l.jsx)(n.td,{children:"Fallback screen reference in normalized viewport coordinates (0..1). Default: (0.5, 0.5)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bDebugPerception"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"Enable lightweight debug logging of candidates per channel."})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Multi-Channel API:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Returns the current best candidate for a given channel id\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channels")\r\nAActor* GetChannelCandidate(FName ChannelId) const;\r\n\r\n// Check if a channel currently has a candidate\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channels")\r\nbool HasChannelCandidate(FName ChannelId) const;\r\n\r\n// Get all current channel candidates (for debugging/UI)\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channels")\r\nvoid GetAllChannelCandidates(TArray<FName>& OutChannelIds, TArray<AActor*>& OutCandidates) const;\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Context Provider (Blueprint Overridable):"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Get aim ray origin and direction (can be overridden for custom cameras)\r\n// Default: tries to use owner\'s view point (PlayerController, Pawn, AI Controller)\r\nUFUNCTION(BlueprintCallable, BlueprintNativeEvent, Category = "Perception|Source")\r\nvoid GetPerceptionAimRay(FVector& OutOrigin, FVector& OutDirection) const;\r\n\r\n// Optional: provide screen-space reference point in normalized viewport coords (0..1)\r\n// Return false if not available\r\nUFUNCTION(BlueprintCallable, BlueprintNativeEvent, Category = "Perception|Source")\r\nbool GetScreenReferenceNdc(FVector2D& OutScreenReferenceNdc) const;\n'})}),"\n",(0,l.jsx)(n.h4,{id:"events",children:"Events"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Fired when a channel acquires a new best candidate\r\nUPROPERTY(BlueprintAssignable, Category = "Perception|Channels")\r\nFERPOnChannelCandidateAcquiredSignature OnChannelCandidateAcquired;\r\n\r\n// Fired when a channel loses its previous best candidate\r\nUPROPERTY(BlueprintAssignable, Category = "Perception|Channels")\r\nFERPOnChannelCandidateLostSignature OnChannelCandidateLost;\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Event Signatures:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"DECLARE_DYNAMIC_MULTICAST_DELEGATE_TwoParams(\r\n    FERPOnChannelCandidateAcquiredSignature, \r\n    FName, ChannelId,      // The channel that acquired a candidate\r\n    AActor*, Candidate     // The actor that was acquired\r\n);\r\n\r\nDECLARE_DYNAMIC_MULTICAST_DELEGATE_TwoParams(\r\n    FERPOnChannelCandidateLostSignature,\r\n    FName, ChannelId,      // The channel that lost a candidate\r\n    AActor*, Candidate     // The actor that was lost\r\n);\n"})}),"\n",(0,l.jsx)(n.h4,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Bind to multi-channel events\r\nPerceptionComponent->OnChannelCandidateAcquired.AddDynamic(this, &AMyController::HandleChannelAcquired);\r\n\r\nvoid AMyController::HandleChannelAcquired(FName ChannelId, AActor* Candidate)\r\n{\r\n    if (ChannelId == "Target")\r\n    {\r\n        // Show target indicator\r\n        HUD->ShowTargetIndicator(Candidate);\r\n    }\r\n    else if (ChannelId == "Interaction")\r\n    {\r\n        // Show interaction prompt\r\n        HUD->ShowInteractionPrompt(Candidate);\r\n    }\r\n}\r\n\r\n// Query channel state directly\r\nAActor* CurrentTarget = PerceptionComponent->GetChannelCandidate("Target");\r\nif (PerceptionComponent->HasChannelCandidate("Interaction"))\r\n{\r\n    // Interaction available\r\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"uerpchannellistenercomponent",children:"UERPChannelListenerComponent"}),"\n",(0,l.jsx)(n.p,{children:"Single-channel listener component that mirrors generic multi-channel events for a specific channel."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Core/ERPChannelListenerComponent.h"})]}),"\n",(0,l.jsx)(n.h4,{id:"properties-1",children:"Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ChannelId"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FName"})}),(0,l.jsx)(n.td,{children:"Channel id to listen to. MUST be explicitly set (default: None)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"PerceptionComponent"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TObjectPtr<UERPPerceptionComponent>"})}),(0,l.jsx)(n.td,{children:"Optional reference to perception component. If null, auto-found on owner at BeginPlay."})]})]})]}),"\n",(0,l.jsx)(n.h4,{id:"methods-1",children:"Methods"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Get the current candidate for this channel\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channel")\r\nAActor* GetCurrentCandidate() const;\r\n\r\n// Check if this channel currently has a candidate\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channel")\r\nbool HasCandidate() const;\r\n\r\n// Set the perception component to listen to (safe rebind)\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channel")\r\nvoid SetPerceptionComponent(UERPPerceptionComponent* InPerceptionComponent);\r\n\r\n// Set the channel id to listen to (clears local state if changed)\r\nUFUNCTION(BlueprintCallable, Category = "Perception|Channel")\r\nvoid SetChannelId(FName InChannelId);\n'})}),"\n",(0,l.jsx)(n.h4,{id:"events-1",children:"Events"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Fired when this channel acquires a new candidate\r\nUPROPERTY(BlueprintAssignable, Category = "Perception|Channel")\r\nFERPOnCandidateAcquiredSignature OnCandidateAcquired;\r\n\r\n// Fired when this channel loses its candidate\r\nUPROPERTY(BlueprintAssignable, Category = "Perception|Channel")\r\nFERPOnCandidateLostSignature OnCandidateLost;\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Event Signatures:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam(\r\n    FERPOnCandidateAcquiredSignature, \r\n    AActor*, Candidate\r\n);\r\n\r\nDECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam(\r\n    FERPOnCandidateLostSignature,\r\n    AActor*, Candidate\r\n);\n"})}),"\n",(0,l.jsx)(n.h4,{id:"usage-examples-1",children:"Usage Examples"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Set up listener for "Target" channel\r\nTargetListener->ChannelId = "Target";\r\n\r\n// Bind to single-channel events\r\nTargetListener->OnCandidateAcquired.AddDynamic(this, &AMyController::HandleTargetAcquired);\r\nTargetListener->OnCandidateLost.AddDynamic(this, &AMyController::HandleTargetLost);\r\n\r\nvoid AMyController::HandleTargetAcquired(AActor* Candidate)\r\n{\r\n    // Show target UI\r\n    HUD->ShowTargetIndicator(Candidate);\r\n}\r\n\r\nvoid AMyController::HandleTargetLost(AActor* Candidate)\r\n{\r\n    // Hide target UI\r\n    HUD->HideTargetIndicator();\r\n}\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,l.jsx)(n.h3,{id:"ierptargetable",children:"IERPTargetable"}),"\n",(0,l.jsx)(n.p,{children:"Query-only interface for actors that can be targeted."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Core/ERPTargetable.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UINTERFACE(BlueprintType)\r\nclass UERPTargetable : public UInterface\r\n{\r\n    GENERATED_BODY()\r\n};\r\n\r\nclass IERPTargetable\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    /**\r\n     * Returns whether this Actor currently accepts being targeted by the specified Actor.\r\n     * \r\n     * @param TargetingActor The Actor attempting to target this Actor.\r\n     */\r\n    UFUNCTION(BlueprintCallable, BlueprintNativeEvent, Category = "Targeting|Permissions")\r\n    bool CanBeTargetedBy(AActor* TargetingActor) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Contract:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Answers: "Does this Actor currently accept being targeted by the given Actor?"'}),"\n",(0,l.jsx)(n.li,{children:"This interface must NOT drive gameplay, UI, input, or targeting workflows"}),"\n",(0,l.jsxs)(n.li,{children:["Used by perception pipeline filters (e.g., ",(0,l.jsx)(n.code,{children:"UERPTargetableFilter"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Class Settings \u2192 Interfaces \u2192 Add ",(0,l.jsx)(n.code,{children:"ERPTargetable"})]}),"\n",(0,l.jsxs)(n.li,{children:["Implement ",(0,l.jsx)(n.code,{children:"Can Be Targeted By"})," event/function"]}),"\n",(0,l.jsxs)(n.li,{children:["Return ",(0,l.jsx)(n.code,{children:"true"})," to allow targeting, ",(0,l.jsx)(n.code,{children:"false"})," to reject"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"C++:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"class AMyEnemy : public ACharacter, public IERPTargetable\r\n{\r\n    virtual bool CanBeTargetedBy_Implementation(AActor* TargetingActor) const override\r\n    {\r\n        // Only allow targeting if alive and not on same team\r\n        return bIsAlive && !IsSameTeam(TargetingActor);\r\n    }\r\n};\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ierpinteractable",children:"IERPInteractable"}),"\n",(0,l.jsx)(n.p,{children:"Query-only interface for objects that can be interacted with."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Core/ERPInteractable.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UINTERFACE(BlueprintType)\r\nclass UERPInteractable : public UInterface\r\n{\r\n    GENERATED_BODY()\r\n};\r\n\r\nclass IERPInteractable\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    /**\r\n     * Returns whether interaction is currently allowed.\r\n     * \r\n     * @param InteractingActor The Actor attempting to interact.\r\n     */\r\n    UFUNCTION(BlueprintCallable, BlueprintNativeEvent, Category = "Interaction")\r\n    bool CanBeInteractedWith(AActor* InteractingActor) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Contract:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:'Answers: "Can this object be interacted with right now by the given Actor?"'}),"\n",(0,l.jsx)(n.li,{children:"The interface does NOT execute interactions"}),"\n",(0,l.jsx)(n.li,{children:"Must NOT orchestrate gameplay, UI, or input"}),"\n",(0,l.jsxs)(n.li,{children:["Used by perception pipeline filters (e.g., ",(0,l.jsx)(n.code,{children:"UERPInteractableFilter"}),")"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Class Settings \u2192 Interfaces \u2192 Add ",(0,l.jsx)(n.code,{children:"ERPInteractable"})]}),"\n",(0,l.jsxs)(n.li,{children:["Implement ",(0,l.jsx)(n.code,{children:"CanBeInteractedWith"})," event/function"]}),"\n",(0,l.jsxs)(n.li,{children:["Return ",(0,l.jsx)(n.code,{children:"true"})," to allow interaction, ",(0,l.jsx)(n.code,{children:"false"})," to reject"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"C++:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"class AMyDoor : public AActor, public IERPInteractable\r\n{\r\n    virtual bool CanBeInteractedWith_Implementation(AActor* InteractingActor) const override\r\n    {\r\n        // Only allow interaction if unlocked and player is close enough\r\n        return !bIsLocked && HasKey(InteractingActor);\r\n    }\r\n};\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"pipeline-base-classes",children:"Pipeline Base Classes"}),"\n",(0,l.jsx)(n.h3,{id:"uerpsamplerbase",children:"UERPSamplerBase"}),"\n",(0,l.jsx)(n.p,{children:"Base class for candidate sampling implementations."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPSamplerBase.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(Abstract, BlueprintType, Blueprintable, EditInlineNew, DefaultToInstanced)\r\nclass UERPSamplerBase : public UObject\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // Collect candidate actors from the world\r\n    UFUNCTION(BlueprintNativeEvent, Category = "ElysPerception|Pipeline")\r\n    void Sample(const FERPPerceptionContext& Context, float Range, TArray<AActor*>& OutCandidates) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Context"})," - Perception context (origin, forward, etc.)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Range"})," - Maximum detection range"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"OutCandidates"})," - Output array to populate with candidates"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Return:"})," None (populates output array)"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"uerpfilterbase",children:"UERPFilterBase"}),"\n",(0,l.jsx)(n.p,{children:"Base class for candidate filtering implementations."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPFilterBase.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(Abstract, BlueprintType, Blueprintable, EditInlineNew, DefaultToInstanced)\r\nclass UERPFilterBase : public UObject\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // Test if a candidate should pass the filter\r\n    UFUNCTION(BlueprintNativeEvent, Category = "ElysPerception|Pipeline")\r\n    bool Passes(const FERPPerceptionContext& Context, AActor* Candidate) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Context"})," - Perception context"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Candidate"})," - Actor to test"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Return:"})," ",(0,l.jsx)(n.code,{children:"true"})," if candidate passes, ",(0,l.jsx)(n.code,{children:"false"})," if rejected"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"uerpscorerbase",children:"UERPScorerBase"}),"\n",(0,l.jsx)(n.p,{children:"Base class for candidate scoring implementations."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPScorerBase.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(Abstract, BlueprintType, Blueprintable, EditInlineNew, DefaultToInstanced)\r\nclass UERPScorerBase : public UObject\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // Calculate score for a candidate\r\n    UFUNCTION(BlueprintNativeEvent, Category = "ElysPerception|Pipeline")\r\n    float Score(const FERPPerceptionContext& Context, AActor* Candidate) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Context"})," - Perception context"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Candidate"})," - Actor to score"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Return:"})," ",(0,l.jsx)(n.code,{children:"float"})," score (typically 0.0-1.0, but any range allowed)"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"uerpaggregatorbase",children:"UERPAggregatorBase"}),"\n",(0,l.jsx)(n.p,{children:"Base class for score aggregation implementations."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPAggregatorBase.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(Abstract, BlueprintType, Blueprintable, EditInlineNew, DefaultToInstanced)\r\nclass UERPAggregatorBase : public UObject\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // Combine multiple scores into a single value\r\n    UFUNCTION(BlueprintNativeEvent, Category = "ElysPerception|Pipeline")\r\n    float Aggregate(const TArray<float>& Scores) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Scores"})," - Array of scores from all scorers for one candidate"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Return:"})," ",(0,l.jsx)(n.code,{children:"float"})," aggregated score"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"uerpresolverbase",children:"UERPResolverBase"}),"\n",(0,l.jsx)(n.p,{children:"Base class for winner resolution implementations."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPResolverBase.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(Abstract, BlueprintType, Blueprintable, EditInlineNew, DefaultToInstanced)\r\nclass UERPResolverBase : public UObject\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    // Select the best candidate from all scored candidates\r\n    UFUNCTION(BlueprintNativeEvent, Category = "ElysPerception|Pipeline")\r\n    bool Resolve(const TArray<FERPPipelineScoredCandidate>& ScoredCandidates, FERPPipelineScoredCandidate& OutBest) const;\r\n};\n'})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ScoredCandidates"})," - All candidates with their final scores"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"OutBest"})," - Output parameter for the winning candidate"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Return:"})," ",(0,l.jsx)(n.code,{children:"true"})," if a winner was found, ",(0,l.jsx)(n.code,{children:"false"})," if no valid candidates"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"default-implementations",children:"Default Implementations"}),"\n",(0,l.jsx)(n.h3,{id:"samplers",children:"Samplers"}),"\n",(0,l.jsx)(n.h4,{id:"uerpsphereoverlapsampler",children:"UERPSphereOverlapSampler"}),"\n",(0,l.jsx)(n.p,{children:"Samples candidates using sphere overlap query."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Samplers/ERPSphereOverlapSampler.h"})]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TraceChannel"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ECollisionChannel"})}),(0,l.jsx)(n.td,{children:"ECC_Visibility"}),(0,l.jsx)(n.td,{children:"Collision channel for overlap query"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ActorClass"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TSubclassOf<AActor>"})}),(0,l.jsx)(n.td,{children:"AActor"}),(0,l.jsx)(n.td,{children:"Filter by actor class"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bIgnoreContextActor"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"true"}),(0,l.jsx)(n.td,{children:"Exclude the perception owner from results"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Performs ",(0,l.jsx)(n.code,{children:"SphereOverlapActors"})," at context origin"]}),"\n",(0,l.jsx)(n.li,{children:"Filters by collision channel and actor class"}),"\n",(0,l.jsx)(n.li,{children:"Optionally removes context actor"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"General purpose detection"}),"\n",(0,l.jsx)(n.li,{children:"Finding actors within range"}),"\n",(0,l.jsx)(n.li,{children:"Combat targeting"}),"\n",(0,l.jsx)(n.li,{children:"Interaction detection"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"filters",children:"Filters"}),"\n",(0,l.jsx)(n.h4,{id:"uerptargetablefilter",children:"UERPTargetableFilter"}),"\n",(0,l.jsxs)(n.p,{children:["Filters candidates that implement ",(0,l.jsx)(n.code,{children:"IERPTargetable"})," interface."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Filters/ERPTargetableFilter.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Checks if candidate implements ",(0,l.jsx)(n.code,{children:"IERPTargetable"})]}),"\n",(0,l.jsxs)(n.li,{children:["Calls ",(0,l.jsx)(n.code,{children:"CanBeTargetedBy(ContextActor)"})]}),"\n",(0,l.jsx)(n.li,{children:"Returns result"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Target channel pipelines"}),"\n",(0,l.jsx)(n.li,{children:"Ensuring only targetable actors pass"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpinteractablefilter",children:"UERPInteractableFilter"}),"\n",(0,l.jsxs)(n.p,{children:["Filters candidates that implement ",(0,l.jsx)(n.code,{children:"IERPInteractable"})," interface."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Filters/ERPInteractableFilter.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Checks if candidate implements ",(0,l.jsx)(n.code,{children:"IERPInteractable"})]}),"\n",(0,l.jsxs)(n.li,{children:["Calls ",(0,l.jsx)(n.code,{children:"CanBeInteractedWith(ContextActor)"})]}),"\n",(0,l.jsx)(n.li,{children:"Returns result"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Interaction channel pipelines"}),"\n",(0,l.jsx)(n.li,{children:"Ensuring only interactable objects pass"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpimplementsinterfacefilter",children:"UERPImplementsInterfaceFilter"}),"\n",(0,l.jsx)(n.p,{children:"Generic filter for checking interface implementation."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Filters/ERPImplementsInterfaceFilter.h"})]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"InterfaceClass"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"TSubclassOf<UInterface>"})}),(0,l.jsx)(n.td,{children:"The interface to check for"})]})})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Checks if candidate implements specified interface"}),"\n",(0,l.jsx)(n.li,{children:"Does NOT call interface methods"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Custom channel pipelines"}),"\n",(0,l.jsx)(n.li,{children:"Filtering by any interface type"}),"\n",(0,l.jsx)(n.li,{children:"Quick interface-based rejection"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"scorers",children:"Scorers"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score rejection convention"})}),"\n",(0,l.jsxs)(n.p,{children:["Some scorers may ",(0,l.jsx)(n.em,{children:"reject"})," a candidate by returning ",(0,l.jsx)(n.code,{children:"ERPPipelineScore::RejectScore"}),".\r\nThis value is defined in ",(0,l.jsx)(n.code,{children:"Pipeline/ERPPipelineScoreConstants.h"})," and is interpreted by the pipeline runner as a hard reject."]}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpdistancescorer",children:"UERPDistanceScorer"}),"\n",(0,l.jsx)(n.p,{children:"Scores candidates based on distance from origin."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Scorers/ERPDistanceScorer.h"})]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bNormalizeByRange"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"true"}),(0,l.jsx)(n.td,{children:"Normalize distance to 0-1 range"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MaxDistance"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"float"})}),(0,l.jsx)(n.td,{children:"1000.0"}),(0,l.jsx)(n.td,{children:"Maximum distance for normalization"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Distance = |Candidate.Location - Context.Origin|\r\nIf (bNormalizeByRange):\r\n    Return Clamp(Distance / MaxDistance, 0..1)\r\nElse:\r\n    Return Distance\r\n\r\nIf Context/Candidate invalid:\r\n    Return ERPPipelineScore::RejectScore\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score Meaning:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Lower score = closer = better (use with ",(0,l.jsx)(n.code,{children:"LowestScoreResolver"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"0.0 = at origin"}),"\n",(0,l.jsx)(n.li,{children:"1.0 = at/beyond MaxDistance (when normalized)"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpconescorer",children:"UERPConeScorer"}),"\n",(0,l.jsx)(n.p,{children:"Scores candidates based on angle from forward vector."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Scorers/ERPConeScorer.h"})]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ConeHalfAngleDegrees"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"float"})}),(0,l.jsx)(n.td,{children:"10.0"}),(0,l.jsx)(n.td,{children:"Half-angle of acceptance cone (0-89)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bRejectOutsideCone"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"true"}),(0,l.jsx)(n.td,{children:"Reject candidates outside cone"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Direction = Normalize(Candidate.Location - Context.Origin)\r\nDot = Dot(Direction, Context.Forward)\r\n\r\nIf (bRejectOutsideCone && Dot < Cos(ConeHalfAngle)):\r\n    Return ERPPipelineScore::RejectScore\r\n\r\nReturn 1.0 - Dot  // 0 = centered, 1 = at cone edge\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score Meaning:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Lower score = more centered = better"}),"\n",(0,l.jsx)(n.li,{children:"0.0 = directly ahead"}),"\n",(0,l.jsx)(n.li,{children:"1.0 = at cone edge"}),"\n",(0,l.jsx)(n.li,{children:"RejectScore = rejected (outside cone when enabled)"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpviewportellipsescorer",children:"UERPViewportEllipseScorer"}),"\n",(0,l.jsxs)(n.p,{children:["Scores candidates based on their screen-space position within an ellipse. ",(0,l.jsx)(n.strong,{children:"Requires viewport info"})," - only works client-side."]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Scorers/ERPViewportEllipseScorer.h"})]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bUseDefaultScreenReference"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"true"}),(0,l.jsx)(n.td,{children:"Use context's screen reference, or custom center"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ScreenCenterNdc"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FVector2D"})}),(0,l.jsx)(n.td,{children:"(0.5, 0.5)"}),(0,l.jsx)(n.td,{children:"Custom ellipse center in NDC (0..1), used if bUseDefaultScreenReference is false"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EllipseHalfSizeNdc"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FVector2D"})}),(0,l.jsx)(n.td,{children:"(0.05, 0.05)"}),(0,l.jsx)(n.td,{children:"Ellipse half-size in NDC (0..1)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bRejectOutsideEllipse"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bool"})}),(0,l.jsx)(n.td,{children:"true"}),(0,l.jsx)(n.td,{children:"Reject candidates outside the ellipse"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Setup Requirements:"})}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Set ",(0,l.jsx)(n.code,{children:"bProvideViewportInfoWhenAvailable = true"})," on ERPPerceptionComponent"]}),"\n",(0,l.jsx)(n.li,{children:"Owner must be a Character with a PlayerController (local player)"}),"\n",(0,l.jsx)(n.li,{children:"Only works in PIE/Standalone (client-side, requires viewport)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"1. Validate viewport info exists (Context.bHasViewport)\r\n2. Determine ellipse center:\r\n   - If bUseDefaultScreenReference: use Context.ScreenReferenceNdc\r\n   - Else: use ScreenCenterNdc\r\n3. Project candidate to screen using PlayerController\r\n4. Calculate normalized distance from ellipse center\r\n5. If outside ellipse and bRejectOutsideEllipse: return RejectScore\r\n6. Return 1.0 - distance (closer = higher score)\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score Meaning:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"1.0 = at ellipse center"}),"\n",(0,l.jsx)(n.li,{children:"0.0 = at ellipse boundary"}),"\n",(0,l.jsx)(n.li,{children:"Negative = outside (if not rejected)"}),"\n",(0,l.jsx)(n.li,{children:"RejectScore = invalid or rejected"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"FPS/TPS reticle-based interaction"}),"\n",(0,l.jsx)(n.li,{children:"Screen-center target selection"}),"\n",(0,l.jsx)(n.li,{children:"UI-based object highlighting"}),"\n",(0,l.jsx)(n.li,{children:"Multiple screen zones (using bUseDefaultScreenReference=false)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"aggregators",children:"Aggregators"}),"\n",(0,l.jsx)(n.h4,{id:"uerpidentityaggregator",children:"UERPIdentityAggregator"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Aggregators/ERPIdentityAggregator.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"If (Scores.Num() > 0):\r\n    Return Scores[0]\r\nElse:\r\n    Return 0.0\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Single scorer pipelines"}),"\n",(0,l.jsx)(n.li,{children:"No score combination needed"}),"\n",(0,l.jsx)(n.li,{children:"Performance optimization"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerpadditiveaggregator",children:"UERPAdditiveAggregator"}),"\n",(0,l.jsx)(n.p,{children:"Sums all scores together."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Aggregators/ERPAdditiveAggregator.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Sum = 0.0\r\nFor each Score in Scores:\r\n    Sum += Score\r\nReturn Sum\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score Meaning:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Each scorer contributes additively"}),"\n",(0,l.jsx)(n.li,{children:"Distance penalty + angle penalty = total penalty"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Combining independent penalties"}),"\n",(0,l.jsx)(n.li,{children:"Accumulating multiple factors"}),"\n",(0,l.jsx)(n.li,{children:"Weighted sum (use weights in scorers)"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"DistanceScore = 0.5  (50% of max range)\r\nAngleScore = 0.3     (30% off center)\r\nTotal = 0.8          (combined penalty)\n"})}),"\n",(0,l.jsx)(n.h4,{id:"uerpmultiplicativeaggregator",children:"UERPMultiplicativeAggregator"}),"\n",(0,l.jsx)(n.p,{children:"Multiplies all scores together."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Aggregators/ERPMultiplicativeAggregator.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Product = 1.0\r\nFor each Score in Scores:\r\n    Product *= Score\r\nReturn Product\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Score Meaning:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Each scorer acts as a multiplier/modifier"}),"\n",(0,l.jsx)(n.li,{children:"One zero score makes total zero"}),"\n",(0,l.jsx)(n.li,{children:"All scores affect final result"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Weighted modifiers"}),"\n",(0,l.jsx)(n.li,{children:"Confidence scaling"}),"\n",(0,l.jsx)(n.li,{children:"Probability combination"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Example:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"BaseScore = 0.5      (base priority)\r\nVisibilityMod = 0.8  (80% visible)\r\nAngleMod = 0.9       (good angle)\r\nTotal = 0.36         (0.5 * 0.8 * 0.9)\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"resolvers",children:"Resolvers"}),"\n",(0,l.jsx)(n.h4,{id:"uerplowestscoreresolver",children:"UERPLowestScoreResolver"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Resolvers/ERPLowestScoreResolver.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"If (ScoredCandidates.Num() == 0):\r\n    Return false\r\n\r\nBest = ScoredCandidates[0]\r\nFor each Candidate in ScoredCandidates:\r\n    If (Candidate.Score < Best.Score):\r\n        Best = Candidate\r\n\r\nOutBest = Best\r\nReturn true\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Distance-based targeting (closest wins)"}),"\n",(0,l.jsx)(n.li,{children:"Penalty-based scoring (lowest penalty wins)"}),"\n",(0,l.jsx)(n.li,{children:"Most default pipelines"}),"\n"]}),"\n",(0,l.jsx)(n.h4,{id:"uerphighestscoreresolver",children:"UERPHighestScoreResolver"}),"\n",(0,l.jsx)(n.p,{children:"Selects the candidate with the highest score."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/Resolvers/ERPHighestScoreResolver.h"})]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Algorithm:"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"If (ScoredCandidates.Num() == 0):\r\n    Return false\r\n\r\nBest = ScoredCandidates[0]\r\nFor each Candidate in ScoredCandidates:\r\n    If (Candidate.Score > Best.Score):\r\n        Best = Candidate\r\n\r\nOutBest = Best\r\nReturn true\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Cases:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Priority-based targeting (highest priority wins)"}),"\n",(0,l.jsx)(n.li,{children:"Threat level scoring (most threatening wins)"}),"\n",(0,l.jsx)(n.li,{children:"Affinity systems (best match wins)"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"data-structures",children:"Data Structures"}),"\n",(0,l.jsx)(n.h3,{id:"ferpchannelpipeline",children:"FERPChannelPipeline"}),"\n",(0,l.jsx)(n.p,{children:"Defines a complete perception pipeline for one channel."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPChannelPipeline.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"USTRUCT(BlueprintType)\r\nstruct FERPChannelPipeline\r\n{\r\n    GENERATED_BODY()\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite)\r\n    FName ChannelId = NAME_None;\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite, Instanced)\r\n    TObjectPtr<UERPSamplerBase> Sampler = nullptr;\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite, Instanced)\r\n    TArray<TObjectPtr<UERPFilterBase>> Filters;\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite, Instanced)\r\n    TArray<TObjectPtr<UERPScorerBase>> Scorers;\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite, Instanced)\r\n    TObjectPtr<UERPAggregatorBase> Aggregator = nullptr;\r\n\r\n    UPROPERTY(EditAnywhere, BlueprintReadWrite, Instanced)\r\n    TObjectPtr<UERPResolverBase> Resolver = nullptr;\r\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ChannelId"}),' - Unique identifier for this channel (e.g., "Target", "Interaction")']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Sampler"})," - The sampler to use for collecting candidate actors"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Filters"})," - Array of filters to apply to candidates (all must pass)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Scorers"})," - Array of scorers to evaluate candidates"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Aggregator"})," - Aggregator to combine multiple scores into one"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Resolver"})," - Resolver to select the best candidate from scored candidates"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ferpperceptioncontext",children:"FERPPerceptionContext"}),"\n",(0,l.jsx)(n.p,{children:"Immutable perception context passed to all pipeline stages."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Core/ERPPerceptionContext.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"USTRUCT(BlueprintType)\r\nstruct FERPPerceptionContext\r\n{\r\n    GENERATED_BODY()\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    TObjectPtr<AActor> ContextActor = nullptr;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    FVector Origin = FVector::ZeroVector;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    FVector Forward = FVector::ForwardVector;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    bool bHasAimRay = false;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    FVector AimOrigin = FVector::ZeroVector;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    FVector AimDirection = FVector::ForwardVector;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    bool bHasViewportProjection = false;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    FVector2D ViewportCenterPx = FVector2D::ZeroVector;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    float ViewportEllipseHalfWidthPx = 0.f;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    float ViewportEllipseHalfHeightPx = 0.f;\r\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ContextActor"})," - The actor that owns the perception component"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Origin"})," - The perception origin point (usually actor location)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Forward"})," - The perception forward direction (usually actor forward)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"bHasAimRay"})," - Whether aim ray data is available"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AimOrigin"})," - The aim ray origin (camera/eye position)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"AimDirection"})," - The aim ray direction (look direction)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"bHasViewportProjection"})," - Whether viewport projection data is available"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ViewportCenterPx"})," - Viewport center in pixels"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ViewportEllipseHalfWidthPx"})," - Half-width of ellipse for screen-space scoring"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"ViewportEllipseHalfHeightPx"})," - Half-height of ellipse for screen-space scoring"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ferppipelinecandidate",children:"FERPPipelineCandidate"}),"\n",(0,l.jsx)(n.p,{children:"Basic candidate in pipeline (before scoring)."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPPerceptionPipelineTypes.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"USTRUCT(BlueprintType)\r\nstruct FERPPipelineCandidate\r\n{\r\n    GENERATED_BODY()\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    TObjectPtr<AActor> Actor = nullptr;\r\n};\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h3,{id:"ferppipelinescoredcandidate",children:"FERPPipelineScoredCandidate"}),"\n",(0,l.jsx)(n.p,{children:"Scored candidate after aggregation."}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Header:"})," ",(0,l.jsx)(n.code,{children:"Pipeline/ERPPerceptionPipelineTypes.h"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"USTRUCT(BlueprintType)\r\nstruct FERPPipelineScoredCandidate\r\n{\r\n    GENERATED_BODY()\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    TObjectPtr<AActor> Actor = nullptr;\r\n\r\n    UPROPERTY(BlueprintReadOnly)\r\n    float Score = 0.f;\r\n};\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Actor"})," - The candidate actor"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Score"})," - The aggregated score (meaning depends on resolver used)"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"usage-patterns",children:"Usage Patterns"}),"\n",(0,l.jsx)(n.h3,{id:"minimal-target-pipeline",children:"Minimal Target Pipeline"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'FERPChannelPipeline Pipeline;\r\nPipeline.ChannelId = "Target";\r\nPipeline.Sampler = NewObject<UERPSphereOverlapSampler>();\r\nPipeline.Filters = { NewObject<UERPTargetableFilter>() };\r\nPipeline.Scorers = { NewObject<UERPDistanceScorer>() };\r\nPipeline.Aggregator = NewObject<UERPIdentityAggregator>();\r\nPipeline.Resolver = NewObject<UERPLowestScoreResolver>();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"minimal-interaction-pipeline",children:"Minimal Interaction Pipeline"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'FERPChannelPipeline Pipeline;\r\nPipeline.ChannelId = "Interaction";\r\nPipeline.Sampler = NewObject<UERPSphereOverlapSampler>();\r\nPipeline.Filters = { NewObject<UERPInteractableFilter>() };\r\nPipeline.Scorers = { NewObject<UERPDistanceScorer>() };\r\nPipeline.Aggregator = NewObject<UERPIdentityAggregator>();\r\nPipeline.Resolver = NewObject<UERPLowestScoreResolver>();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"multi-scorer-pipeline",children:"Multi-Scorer Pipeline"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"Pipeline.Scorers = {\r\n    NewObject<UERPDistanceScorer>(),  // Factor 1: Distance\r\n    NewObject<UERPConeScorer>()       // Factor 2: Angle\r\n};\r\nPipeline.Aggregator = NewObject<UERPAdditiveAggregator>();  // Combine scores\n"})}),"\n",(0,l.jsx)(n.h3,{id:"custom-filter-pipeline",children:"Custom Filter Pipeline"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"Pipeline.Filters = {\r\n    NewObject<UERPTargetableFilter>(),    // Must be targetable\r\n    NewObject<UMyLineOfSightFilter>(),    // Must be visible\r\n    NewObject<UMyTeamFilter>()            // Must be enemy\r\n};\n"})}),"\n",(0,l.jsx)(n.h3,{id:"multi-channel-setup",children:"Multi-Channel Setup"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Set up multiple channels on the perception component\r\nTArray<FERPChannelPipeline> Pipelines;\r\n\r\n// Target channel\r\nFERPChannelPipeline TargetPipeline;\r\nTargetPipeline.ChannelId = "Target";\r\n// ... configure pipeline ...\r\nPipelines.Add(TargetPipeline);\r\n\r\n// Interaction channel\r\nFERPChannelPipeline InteractionPipeline;\r\nInteractionPipeline.ChannelId = "Interaction";\r\n// ... configure pipeline ...\r\nPipelines.Add(InteractionPipeline);\r\n\r\n// Custom channel (e.g., "Threat")\r\nFERPChannelPipeline ThreatPipeline;\r\nThreatPipeline.ChannelId = "Threat";\r\n// ... configure pipeline ...\r\nPipelines.Add(ThreatPipeline);\r\n\r\nPerceptionComponent->ChannelPipelines = Pipelines;\n'})}),"\n",(0,l.jsx)(n.h3,{id:"using-channel-listeners",children:"Using Channel Listeners"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'// Set up listener components for different channels\r\nUERPChannelListenerComponent* TargetListener = CreateDefaultSubobject<UERPChannelListenerComponent>(TEXT("TargetListener"));\r\nTargetListener->ChannelId = "Target";\r\nTargetListener->OnCandidateAcquired.AddDynamic(this, &AMyController::OnTargetAcquired);\r\nTargetListener->OnCandidateLost.AddDynamic(this, &AMyController::OnTargetLost);\r\n\r\nUERPChannelListenerComponent* InteractionListener = CreateDefaultSubobject<UERPChannelListenerComponent>(TEXT("InteractionListener"));\r\nInteractionListener->ChannelId = "Interaction";\r\nInteractionListener->OnCandidateAcquired.AddDynamic(this, &AMyController::OnInteractableFound);\r\nInteractionListener->OnCandidateLost.AddDynamic(this, &AMyController::OnInteractableLost);\n'})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsxs)(n.p,{children:["For architecture details, see ",(0,l.jsx)(n.a,{href:"/ElysPerceptionPlugin/ArchitectureDeepDive",children:"Architecture Deep Dive"}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"/ElysPerceptionPlugin/",children:"Documentation Home"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453(e,n,r){r.d(n,{R:()=>s,x:()=>c});var i=r(6540);const l={},t=i.createContext(l);function s(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);