"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[607],{1616(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"API-Reference","title":"API Reference","description":"Complete C++ class documentation for ElysImpact. All public symbols use the ERP / UERP / FERP_ prefix.","source":"@site/../Documentation/API-Reference.md","sourceDirName":".","slug":"/API-Reference","permalink":"/ElysImpact/API-Reference","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysImpact/tree/main/Documentation/../Documentation/API-Reference.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"id":"API-Reference","title":"API Reference","sidebar_position":8},"sidebar":"docsSidebar","previous":{"title":"Beat Quantization","permalink":"/ElysImpact/BeatQuantization"},"next":{"title":"Quick Reference","permalink":"/ElysImpact/Quick-Reference"}}');var l=t(4848),s=t(8453);const i={id:"API-Reference",title:"API Reference",sidebar_position:8},c="API Reference",a={},d=[{value:"UERP_ImpactStatics",id:"uerp_impactstatics",level:2},{value:"Playback",id:"playback",level:3},{value:"Context Helpers",id:"context-helpers",level:3},{value:"Feel Profile",id:"feel-profile",level:3},{value:"Channels",id:"channels",level:3},{value:"Global Intensity",id:"global-intensity",level:3},{value:"Dramatic Intensity",id:"dramatic-intensity",level:3},{value:"UERP_ImpactSubsystem",id:"uerp_impactsubsystem",level:2},{value:"Static Accessor",id:"static-accessor",level:3},{value:"Session Management",id:"session-management",level:3},{value:"Dramatic Intensity",id:"dramatic-intensity-1",level:3},{value:"Feel Profile",id:"feel-profile-1",level:3},{value:"Channels",id:"channels-1",level:3},{value:"Global Settings",id:"global-settings",level:3},{value:"Handler Ticking",id:"handler-ticking",level:3},{value:"UERP_ImpactResponseAsset",id:"uerp_impactresponseasset",level:2},{value:"Properties",id:"properties",level:3},{value:"Creation",id:"creation",level:3},{value:"FERP_ImpactContext",id:"ferp_impactcontext",level:2},{value:"Fields",id:"fields",level:3},{value:"Constructors",id:"constructors",level:3},{value:"UERP_ImpactSession",id:"uerp_impactsession",level:2},{value:"Queries",id:"queries",level:3},{value:"Event",id:"event",level:3},{value:"UERP_ImpactHandler",id:"uerp_impacthandler",level:2},{value:"Lifecycle (for custom handler authors)",id:"lifecycle-for-custom-handler-authors",level:3},{value:"Writing a Custom Handler",id:"writing-a-custom-handler",level:3},{value:"UERP_ImpactComponent",id:"uerp_impactcomponent",level:2},{value:"Blueprint API",id:"blueprint-api",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Enums",id:"enums",level:2},{value:"ERP_EImpactReplicationMode",id:"erp_eimpactreplicationmode",level:3},{value:"ERP_EChoreographyRole",id:"erp_echoreographyrole",level:3},{value:"ERP_EBeatDivision",id:"erp_ebeatdivision",level:3},{value:"Intensity Pipeline",id:"intensity-pipeline",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,l.jsxs)(n.p,{children:["Complete C++ class documentation for ElysImpact. All public symbols use the ",(0,l.jsx)(n.code,{children:"ERP_"})," / ",(0,l.jsx)(n.code,{children:"UERP_"})," / ",(0,l.jsx)(n.code,{children:"FERP_"})," prefix."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impactstatics",children:"UERP_ImpactStatics"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactStatics.h"})}),"\n",(0,l.jsx)(n.p,{children:"Blueprint function library \u2014 the primary entry point for playing responses and managing global state."}),"\n",(0,l.jsx)(n.h3,{id:"playback",children:"Playback"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static UERP_ImpactSession* PlayResponse(\r\n    const UObject* WorldContextObject,\r\n    AActor* Target,\r\n    UERP_ImpactResponseAsset* Asset,\r\n    float IntensityOverride = 1.f);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Plays a Response Asset on ",(0,l.jsx)(n.code,{children:"Target"}),". Returns the created session, or ",(0,l.jsx)(n.code,{children:"nullptr"})," if culled (muted channel, zero budget, etc.)."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static UERP_ImpactSession* PlayResponseWithContext(\r\n    const UObject* WorldContextObject,\r\n    UERP_ImpactResponseAsset* Asset,\r\n    FERP_ImpactContext Context);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Plays with a full impact context. Use when you need Source, Magnitude, ImpactPoint, or EventTag."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static UERP_ImpactSession* PlayResponseExpanded(\r\n    const UObject* WorldContextObject,\r\n    UERP_ImpactResponseAsset* Asset,\r\n    AActor* Target,\r\n    AActor* Source,\r\n    float Magnitude,\r\n    FVector ImpactPoint,\r\n    FVector ImpactNormal,\r\n    FGameplayTag EventTag,\r\n    float IntensityOverride);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Expanded variant with all context fields as individual parameters. Used internally by the ",(0,l.jsx)(n.strong,{children:"Play Impact Response"})," Blueprint node; direct Blueprint use is possible but the dedicated node is preferred."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void StopSession(const UObject* WorldContextObject, UERP_ImpactSession* Session);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Stops a specific playback session immediately."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void StopAllOnActor(const UObject* WorldContextObject, AActor* Target);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Stops all active sessions targeting a given actor."}),"\n",(0,l.jsx)(n.h3,{id:"context-helpers",children:"Context Helpers"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static FERP_ImpactContext MakeImpactContext(AActor* Target, float Magnitude = 1.f);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Builds a minimal context from a target and optional magnitude."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static FERP_ImpactContext MakeImpactContextFromHit(const FHitResult& Hit, float Magnitude = 1.f);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Builds a context from a hit result (sets Target, ImpactPoint, ImpactNormal, Magnitude automatically)."}),"\n",(0,l.jsx)(n.h3,{id:"feel-profile",children:"Feel Profile"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void SetFeelProfile(const UObject* WorldContextObject, UERP_FeelProfile* Profile);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Sets the active Feel Profile. All responses are immediately affected. Pass ",(0,l.jsx)(n.code,{children:"nullptr"})," to clear."]}),"\n",(0,l.jsx)(n.h3,{id:"channels",children:"Channels"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void MuteChannel(const UObject* WorldContextObject, FGameplayTag Channel);\r\nstatic void UnmuteChannel(const UObject* WorldContextObject, FGameplayTag Channel);\r\nstatic void SetChannelIntensity(const UObject* WorldContextObject, FGameplayTag Channel, float Intensity);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Control channel muting and per-channel intensity multipliers."}),"\n",(0,l.jsx)(n.h3,{id:"global-intensity",children:"Global Intensity"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void SetGlobalIntensity(const UObject* WorldContextObject, float Intensity);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Sets the global multiplier applied to all responses. 0 = silent, 1 = normal, > 1 = amplified."}),"\n",(0,l.jsx)(n.h3,{id:"dramatic-intensity",children:"Dramatic Intensity"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static float GetDramaticIntensity(const UObject* WorldContextObject, const AActor* Actor);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Returns the current Dramatic Intensity for an actor, normalized to [0, 1]."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static void ResetDramaticIntensity(const UObject* WorldContextObject, AActor* Actor);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Resets the Dramatic Intensity of an actor to zero."}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impactsubsystem",children:"UERP_ImpactSubsystem"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactSubsystem.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"UGameInstanceSubsystem"})," + ",(0,l.jsx)(n.code,{children:"FTickableGameObject"}),". Global runtime state manager."]}),"\n",(0,l.jsx)(n.h3,{id:"static-accessor",children:"Static Accessor"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"static UERP_ImpactSubsystem* Get(const UObject* WorldContextObject);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Returns the subsystem instance. Returns ",(0,l.jsx)(n.code,{children:"nullptr"})," if the GameInstance is not available."]}),"\n",(0,l.jsx)(n.h3,{id:"session-management",children:"Session Management"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UERP_ImpactSession* CreateSession(\r\n    UERP_ImpactResponseAsset* Asset,\r\n    const FERP_ImpactContext& Context);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Creates and immediately starts a session. Applies channel filtering, Feel Profile, Dramatic Intensity, and Choreography. Returns ",(0,l.jsx)(n.code,{children:"nullptr"})," if culled."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"void StopSession(UERP_ImpactSession* Session);\r\nvoid StopAllOnActor(AActor* Target);\n"})}),"\n",(0,l.jsx)(n.p,{children:"Force-stop sessions."}),"\n",(0,l.jsx)(n.h3,{id:"dramatic-intensity-1",children:"Dramatic Intensity"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UFUNCTION(BlueprintPure) float GetDramaticIntensity(const AActor* Actor) const;\r\nUFUNCTION(BlueprintPure) float GetNormalizedDramaticIntensity(const AActor* Actor) const;\r\nUFUNCTION(BlueprintCallable) void ResetDramaticIntensity(AActor* Actor);\r\nvoid AccumulateDramaticIntensity(AActor* Actor, float Magnitude, float Contribution);\n"})}),"\n",(0,l.jsx)(n.h3,{id:"feel-profile-1",children:"Feel Profile"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UFUNCTION(BlueprintCallable) void SetFeelProfile(UERP_FeelProfile* Profile);\r\nUFUNCTION(BlueprintPure)     UERP_FeelProfile* GetFeelProfile() const;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"channels-1",children:"Channels"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UFUNCTION(BlueprintCallable) void MuteChannel(FGameplayTag Channel);\r\nUFUNCTION(BlueprintCallable) void UnmuteChannel(FGameplayTag Channel);\r\nUFUNCTION(BlueprintPure)     bool IsChannelMuted(FGameplayTag Channel) const;\r\nUFUNCTION(BlueprintCallable) void SetChannelIntensity(FGameplayTag Channel, float Intensity);\r\nUFUNCTION(BlueprintPure)     float GetChannelIntensity(FGameplayTag Channel) const;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"global-settings",children:"Global Settings"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UFUNCTION(BlueprintCallable) void SetGlobalIntensity(float Intensity);\r\nUFUNCTION(BlueprintPure)     float GetGlobalIntensity() const;\r\nUFUNCTION(BlueprintCallable) void SetHandlerBudget(int32 MaxConcurrent);\r\nUFUNCTION(BlueprintPure)     int32 GetActiveHandlerCount() const;\r\nUFUNCTION(BlueprintPure)     int32 GetActiveSessionCount() const;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"handler-ticking",children:"Handler Ticking"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"void RegisterTickingHandler(UERP_ImpactHandler* Handler);\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Called by animated handlers from ",(0,l.jsx)(n.code,{children:"Play_Internal"}),". Adds the handler to the per-frame tick list."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impactresponseasset",children:"UERP_ImpactResponseAsset"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactResponseAsset.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"UDataAsset"}),". The primary authoring unit \u2014 groups handlers into a reusable game-feel preset."]}),"\n",(0,l.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Handlers"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"TArray<UERP_ImpactHandler*>"})," (Instanced)"]}),(0,l.jsx)(n.td,{children:"empty"}),(0,l.jsx)(n.td,{children:"Handler instances that fire together. Edit inline in the Details panel."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"IntensityMultiplier"})}),(0,l.jsx)(n.td,{children:"float (\u22650)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsx)(n.td,{children:"Asset-level intensity scale."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Channels"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FGameplayTagContainer"})}),(0,l.jsx)(n.td,{children:"empty"}),(0,l.jsx)(n.td,{children:"Channel tags for group muting/amplification."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ChoreographyGroup"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FERP_ChoreographyGroup"})}),(0,l.jsx)(n.td,{children:"\u2014"}),(0,l.jsx)(n.td,{children:"Choreography group configuration."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DramaticContribution"})}),(0,l.jsx)(n.td,{children:"float (0\u20135)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"0.5"})}),(0,l.jsxs)(n.td,{children:["DI gained per play = ",(0,l.jsx)(n.code,{children:"DramaticContribution \xd7 Magnitude"}),". Set to 0 to exclude from DI."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ReplicationMode"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ERP_EImpactReplicationMode"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"LocalOnly"})}),(0,l.jsx)(n.td,{children:"Network replication behavior."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"AssetColor"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FLinearColor"})}),(0,l.jsx)(n.td,{children:"orange"}),(0,l.jsx)(n.td,{children:"Editor content browser tint."})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"creation",children:"Creation"}),"\n",(0,l.jsxs)(n.p,{children:["In the Content Browser: ",(0,l.jsxs)(n.strong,{children:["Right-click \u2192 Miscellaneous \u2192 Data Asset \u2192 ",(0,l.jsx)(n.code,{children:"UERP_ImpactResponseAsset"})]}),"."]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"ferp_impactcontext",children:"FERP_ImpactContext"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/ERP_ImpactTypes.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"USTRUCT(BlueprintType)"}),". Context passed to every ",(0,l.jsx)(n.code,{children:"PlayResponse"})," call and available to every handler."]}),"\n",(0,l.jsx)(n.h3,{id:"fields",children:"Fields"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Field"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Target"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"AActor*"})}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsxs)(n.td,{children:["Actor receiving the response. ",(0,l.jsx)(n.strong,{children:"Required."})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Source"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"AActor*"})}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"Actor that caused the event (attacker, projectile)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Instigator"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"AController*"})}),(0,l.jsx)(n.td,{children:"null"}),(0,l.jsx)(n.td,{children:"Instigating controller."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"EventTag"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FGameplayTag"})}),(0,l.jsx)(n.td,{children:"none"}),(0,l.jsxs)(n.td,{children:["Semantic event tag (e.g., ",(0,l.jsx)(n.code,{children:"ImpactEvent.Hit.Critical"}),")."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Magnitude"})}),(0,l.jsx)(n.td,{children:"float (\u22650)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsx)(n.td,{children:"Raw event magnitude (damage dealt, force, etc.). Scales DI accumulation."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ImpactPoint"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FVector"})}),(0,l.jsx)(n.td,{children:"zero"}),(0,l.jsx)(n.td,{children:"World-space impact location."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ImpactNormal"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FVector"})}),(0,l.jsx)(n.td,{children:"up"}),(0,l.jsx)(n.td,{children:"World-space impact surface normal."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"IntensityOverride"})}),(0,l.jsx)(n.td,{children:"float (\u22650)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsx)(n.td,{children:"Per-call intensity multiplier stacked on asset and global intensity."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"bSkipReplication"})}),(0,l.jsx)(n.td,{children:"bool"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"false"})}),(0,l.jsxs)(n.td,{children:["When true, this session is not replicated regardless of asset ",(0,l.jsx)(n.code,{children:"ReplicationMode"}),"."]})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"constructors",children:"Constructors"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"// Default\r\nFERP_ImpactContext() = default;\r\n\r\n// Convenience: target + magnitude\r\nexplicit FERP_ImpactContext(AActor* InTarget, float InMagnitude = 1.f);\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impactsession",children:"UERP_ImpactSession"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactSession.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"UObject"}),". Isolated runtime state for a single ",(0,l.jsx)(n.code,{children:"PlayResponse"})," call. ",(0,l.jsx)(n.strong,{children:"Do not create manually"})," \u2014 always go through ",(0,l.jsx)(n.code,{children:"UERP_ImpactStatics::PlayResponse"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"queries",children:"Queries"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"bool IsComplete() const;\r\nbool HasStarted() const;\r\nconst FERP_ImpactContext& GetContext() const;\r\nfloat GetCombinedIntensity() const;\r\nERP_EChoreographyRole GetChoreographyRole() const;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"event",children:"Event"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"FERP_OnSessionComplete OnComplete;\n"})}),"\n",(0,l.jsx)(n.p,{children:"Non-dynamic multicast delegate fired when all handlers have completed. Bound internally by the subsystem. You may also bind from C++:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"Session->OnComplete.AddUObject(this, &UMyClass::OnResponseDone);\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impacthandler",children:"UERP_ImpactHandler"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactHandler.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"UObject (Abstract, EditInlineNew)"}),". Base class for all handlers."]}),"\n",(0,l.jsx)(n.h3,{id:"lifecycle-for-custom-handler-authors",children:"Lifecycle (for custom handler authors)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"// Entry point called by the session. Runs pre-checks, then calls Play_Internal.\r\nvoid Play(UERP_ImpactSession* InOwningSession, const FERP_ImpactContext& Context, float CombinedIntensity);\r\n\r\n// Override to implement handler logic. Called after all checks pass.\r\nvirtual void Play_Internal(UERP_ImpactSession* InOwningSession, const FERP_ImpactContext& Context, float FinalIntensity) {}\r\n\r\n// Per-frame update for animated handlers.\r\nvirtual void TickHandler(float DeltaTime) {}\r\n\r\n// Return the expected duration. 0 = instant. -1 = indefinite.\r\nvirtual float GetDuration() const { return 0.f; }\r\n\r\n// Return true to receive TickHandler calls.\r\nvirtual bool NeedsTick() const { return false; }\r\n\r\n// Call from Play_Internal when animation completes.\r\nvoid MarkComplete();\r\n\r\n// Register for ticking. Call from Play_Internal if NeedsTick() returns true.\r\nvoid RegisterForTick();\r\n\r\n// Cancel this handler immediately.\r\nvirtual void Stop();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"writing-a-custom-handler",children:"Writing a Custom Handler"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:'UCLASS(EditInlineNew, BlueprintType)\r\nclass MYPLUGIN_API UMyCustomHandler : public UERP_ImpactHandler\r\n{\r\n    GENERATED_BODY()\r\n\r\npublic:\r\n    UPROPERTY(EditAnywhere, BlueprintReadOnly, Category = "My Handler")\r\n    float MyProperty = 1.f;\r\n\r\n    virtual float GetDuration() const override { return Duration; }\r\n    virtual bool NeedsTick() const override { return true; }\r\n    virtual void TickHandler(float DeltaTime) override;\r\n    virtual void Stop() override;\r\n\r\nprotected:\r\n    virtual void Play_Internal(UERP_ImpactSession* InOwningSession,\r\n                               const FERP_ImpactContext& Context,\r\n                               float FinalIntensity) override;\r\n\r\nprivate:\r\n    UPROPERTY(EditAnywhere, Category = "My Handler", meta = (ClampMin = "0.01"))\r\n    float Duration = 0.5f;\r\n\r\n    float Elapsed = 0.f;\r\n};\n'})}),"\n",(0,l.jsxs)(n.p,{children:["In ",(0,l.jsx)(n.code,{children:"Play_Internal"}),":"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Cache what you need from ",(0,l.jsx)(n.code,{children:"Context"})," and ",(0,l.jsx)(n.code,{children:"FinalIntensity"}),"."]}),"\n",(0,l.jsxs)(n.li,{children:["Call ",(0,l.jsx)(n.code,{children:"RegisterForTick()"})," if ",(0,l.jsx)(n.code,{children:"NeedsTick()"})," is true."]}),"\n",(0,l.jsxs)(n.li,{children:["For instant handlers, call ",(0,l.jsx)(n.code,{children:"MarkComplete()"})," at the end."]}),"\n",(0,l.jsxs)(n.li,{children:["For timed handlers, call ",(0,l.jsx)(n.code,{children:"MarkComplete()"})," in ",(0,l.jsx)(n.code,{children:"TickHandler"})," when ",(0,l.jsx)(n.code,{children:"Elapsed >= Duration"}),"."]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"uerp_impactcomponent",children:"UERP_ImpactComponent"}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.code,{children:"Source/ElysImpact/Public/Core/UERP_ImpactComponent.h"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"UActorComponent"}),". Optional per-actor convenience component."]}),"\n",(0,l.jsx)(n.h3,{id:"blueprint-api",children:"Blueprint API"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-cpp",children:"UFUNCTION(BlueprintCallable)\r\nUERP_ImpactSession* PlayResponse(UERP_ImpactResponseAsset* Asset, float IntensityOverride = 1.f);\r\n\r\nUFUNCTION(BlueprintCallable)\r\nUERP_ImpactSession* PlayResponseWithContext(UERP_ImpactResponseAsset* Asset, FERP_ImpactContext Context);\r\n\r\nUFUNCTION(BlueprintCallable) void StopAll();\r\n\r\nUFUNCTION(BlueprintPure)     float GetDramaticIntensity() const;\r\nUFUNCTION(BlueprintCallable) void ResetDramaticIntensity();\n"})}),"\n",(0,l.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Property"}),(0,l.jsx)(n.th,{children:"Type"}),(0,l.jsx)(n.th,{children:"Default"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"DefaultIntensity"})}),(0,l.jsx)(n.td,{children:"float (\u22650)"}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"1.0"})}),(0,l.jsxs)(n.td,{children:["Per-actor intensity applied on top of each call's ",(0,l.jsx)(n.code,{children:"IntensityOverride"}),"."]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"MutedChannels"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"FGameplayTagContainer"})}),(0,l.jsx)(n.td,{children:"empty"}),(0,l.jsx)(n.td,{children:"Per-actor channel muting (only affects responses on this actor)."})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"enums",children:"Enums"}),"\n",(0,l.jsx)(n.h3,{id:"erp_eimpactreplicationmode",children:"ERP_EImpactReplicationMode"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"LocalOnly"})}),(0,l.jsx)(n.td,{children:"Play only on the calling machine. No replication."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"ServerToClients"})}),(0,l.jsx)(n.td,{children:"Server plays and multicasts to all clients."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"LocalThenServer"})}),(0,l.jsx)(n.td,{children:"Play locally immediately; server reconciles."})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"erp_echoreographyrole",children:"ERP_EChoreographyRole"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Primary"})}),(0,l.jsx)(n.td,{children:"Actor is the main responder (plays full response)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Secondary"})}),(0,l.jsx)(n.td,{children:"Actor plays a reduced secondary response."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Suppressed"})}),(0,l.jsx)(n.td,{children:"Actor is suppressed and plays nothing."})]})]})]}),"\n",(0,l.jsx)(n.h3,{id:"erp_ebeatdivision",children:"ERP_EBeatDivision"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Value"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Whole"})}),(0,l.jsx)(n.td,{children:"Quantize to whole note."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Half"})}),(0,l.jsx)(n.td,{children:"Quantize to half note."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Quarter"})}),(0,l.jsx)(n.td,{children:"Quantize to quarter note (beat)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Eighth"})}),(0,l.jsx)(n.td,{children:"Quantize to eighth note."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"Sixteenth"})}),(0,l.jsx)(n.td,{children:"Quantize to sixteenth note."})]})]})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"intensity-pipeline",children:"Intensity Pipeline"}),"\n",(0,l.jsx)(n.p,{children:"The final intensity applied to each handler is:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"FinalIntensity =\r\n    Context.IntensityOverride        (per-call)\r\n  \xd7 Asset.IntensityMultiplier        (asset-level)\r\n  \xd7 ChannelIntensity(Channel)        (channel)\r\n  \xd7 GlobalIntensity                  (global)\r\n  \xd7 DramaticIntensityModifier        (DI curve from FeelProfile)\r\n  \xd7 Handler.IntensityScale           (per-handler)\r\n  \xb1 Handler.IntensityRandomRange     (random variance)\r\n  \xd7 DistanceFade(Camera)             (LOD)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>c});var r=t(6540);const l={},s=r.createContext(l);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);