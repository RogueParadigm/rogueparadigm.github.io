"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[898],{2615(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"BeatQuantization","title":"Beat Quantization","description":"Beat Quantization requires ElysMusicEngine v1.2+ to be enabled in the project. Without it, handlers with bQuantizeToBeat set fire immediately (no quantization, no errors).","source":"@site/../Documentation/BeatQuantization.md","sourceDirName":".","slug":"/BeatQuantization","permalink":"/ElysImpact/BeatQuantization","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysImpact/tree/main/Documentation/../Documentation/BeatQuantization.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"id":"BeatQuantization","title":"Beat Quantization","sidebar_position":7},"sidebar":"docsSidebar","previous":{"title":"Channel System","permalink":"/ElysImpact/Channels"},"next":{"title":"API Reference","permalink":"/ElysImpact/API-Reference"}}');var s=t(4848),r=t(8453);const a={id:"BeatQuantization",title:"Beat Quantization",sidebar_position:7},l=void 0,d={},o=[{value:"Overview",id:"overview",level:2},{value:"Setup",id:"setup",level:2},{value:"1. Enable ElysMusicEngine",id:"1-enable-elysmusicengine",level:3},{value:"2. Configure a Handler",id:"2-configure-a-handler",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"Beat Division Reference",id:"beat-division-reference",level:2},{value:"Practical Notes",id:"practical-notes",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["Beat Quantization requires ",(0,s.jsx)(n.strong,{children:"ElysMusicEngine v1.2+"})," to be enabled in the project. Without it, handlers with ",(0,s.jsx)(n.code,{children:"bQuantizeToBeat"})," set fire immediately (no quantization, no errors)."]})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(n.p,{children:["Handlers with ",(0,s.jsx)(n.code,{children:"bQuantizeToBeat = true"})," defer their ",(0,s.jsx)(n.code,{children:"Play_Internal"})," call until the next tick of the chosen beat division from ElysMusicEngine. This keeps game-feel effects rhythmically locked to the soundtrack."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Example use case:"})," A heavy attack hit-stop + camera shake that always lands on the nearest quarter-note, making combat feel musically satisfying."]}),"\n",(0,s.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.h3,{id:"1-enable-elysmusicengine",children:"1. Enable ElysMusicEngine"}),"\n",(0,s.jsxs)(n.p,{children:["In ",(0,s.jsx)(n.code,{children:"ElysImpact.uplugin"}),", the ElysMusicEngine dependency is listed as optional and disabled by default:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\r\n  "Name": "ElysMusicEngine",\r\n  "Enabled": false,\r\n  "Optional": true\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Change ",(0,s.jsx)(n.code,{children:'"Enabled": true'})," in your project\u2019s plugin override, or enable via ",(0,s.jsx)(n.strong,{children:"Edit \u2192 Plugins"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"2-configure-a-handler",children:"2. Configure a Handler"}),"\n",(0,s.jsx)(n.p,{children:"On any handler in a Response Asset:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Property"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bQuantizeToBeat"})}),(0,s.jsx)(n.td,{children:"Enable beat quantization for this handler"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"BeatDivision"})}),(0,s.jsx)(n.td,{children:"Beat subdivision to snap to (Quarter, Eighth, Sixteenth, ThirtySecond)"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["The handler\u2019s ",(0,s.jsx)(n.code,{children:"StartDelay"})," is still applied ",(0,s.jsx)(n.strong,{children:"after"})," the beat snap \u2014 so you can use both simultaneously."]}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsxs)(n.p,{children:["When a handler with ",(0,s.jsx)(n.code,{children:"bQuantizeToBeat = true"})," is played:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["The handler checks if ",(0,s.jsx)(n.code,{children:"UERP_MusicSubsystem"})," is available"]}),"\n",(0,s.jsxs)(n.li,{children:["If available: subscribes to the next tick of the chosen ",(0,s.jsx)(n.code,{children:"ERP_EBeatDivision"})]}),"\n",(0,s.jsxs)(n.li,{children:["On the beat tick: ",(0,s.jsx)(n.code,{children:"Play_Internal"})," executes normally"]}),"\n",(0,s.jsxs)(n.li,{children:["If unavailable (ElysMusicEngine not present): ",(0,s.jsx)(n.code,{children:"Play_Internal"})," executes immediately"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"beat-division-reference",children:"Beat Division Reference"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.code,{children:"ERP_EBeatDivision"})}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Quarter"})}),(0,s.jsx)(n.td,{children:"Quarter note (1 beat)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Eighth"})}),(0,s.jsx)(n.td,{children:"Eighth note (half beat)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Sixteenth"})}),(0,s.jsx)(n.td,{children:"Sixteenth note (quarter beat)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ThirtySecond"})}),(0,s.jsx)(n.td,{children:"Thirty-second note (eighth beat)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"practical-notes",children:"Practical Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Beat quantization introduces latency (up to one beat division). Use quarter notes for heavy impacts, sixteenth notes for rapid-fire effects."}),"\n",(0,s.jsx)(n.li,{children:"The ElysMusicEngine integration is a soft dependency \u2014 removing the plugin does not break ElysImpact."}),"\n",(0,s.jsxs)(n.li,{children:["All other handlers in the same session play immediately (or after their ",(0,s.jsx)(n.code,{children:"StartDelay"}),"). Only handlers with ",(0,s.jsx)(n.code,{children:"bQuantizeToBeat = true"})," are deferred."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://rogueparadigm.com/ElysMusicEngine/",children:"ElysMusicEngine documentation"})," \u2014 Quartz beat clock, layer system, MetaSound integration."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>l});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);