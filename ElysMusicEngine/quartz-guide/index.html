<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-quartz-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Quartz Beat Synchronization Guide | Elys Music Engine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rogueparadigm.com/ElysMusicEngine/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rogueparadigm.com/ElysMusicEngine/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rogueparadigm.com/ElysMusicEngine/quartz-guide"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quartz Beat Synchronization Guide | Elys Music Engine"><meta data-rh="true" name="description" content="Learn how to create professional beat-synchronized music transitions and rhythm-based gameplay using Unreal&#x27;s Quartz timing system."><meta data-rh="true" property="og:description" content="Learn how to create professional beat-synchronized music transitions and rhythm-based gameplay using Unreal&#x27;s Quartz timing system."><link data-rh="true" rel="icon" href="/ElysMusicEngine/img/rogue-paradigm-logo.png"><link data-rh="true" rel="canonical" href="https://rogueparadigm.com/ElysMusicEngine/quartz-guide"><link data-rh="true" rel="alternate" href="https://rogueparadigm.com/ElysMusicEngine/quartz-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://rogueparadigm.com/ElysMusicEngine/quartz-guide" hreflang="x-default"><link rel="stylesheet" href="/ElysMusicEngine/assets/css/styles.1077209b.css">
<script src="/ElysMusicEngine/assets/js/runtime~main.f843e05f.js" defer="defer"></script>
<script src="/ElysMusicEngine/assets/js/main.0851ff88.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ElysMusicEngine/img/rogue-paradigm-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://rogueparadigm.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/ElysMusicEngine/img/rogue-paradigm-logo.png" alt="Elys" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ElysMusicEngine/img/rogue-paradigm-logo.png" alt="Elys" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Elys Music Engine</b></a><a class="navbar__item navbar__link" href="/ElysMusicEngine/intro">Documentation</a><a href="https://rogueparadigm.com/ElysGenAIPlugin/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GenAI Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://rogueparadigm.com/ElysPerceptionPlugin/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Perception Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/RogueParadigm/ElysMusicEngine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://discord.gg/jm3YjRRT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Quartz Beat Synchronization Guide</h1></header>
<p>Learn how to create professional beat-synchronized music transitions and rhythm-based gameplay using Unreal&#x27;s Quartz timing system.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-what-is-quartz">ğŸ¯ What is Quartz?<a href="#-what-is-quartz" class="hash-link" aria-label="Direct link to ğŸ¯ What is Quartz?" title="Direct link to ğŸ¯ What is Quartz?" translate="no">â€‹</a></h2>
<p><strong>Quartz</strong> is Unreal Engine 5&#x27;s sample-accurate audio timing system. Think of it as a <strong>musical metronome</strong> that ensures your music transitions, sound effects, and gameplay events happen exactly on beat.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-problem-quartz-solves">The Problem Quartz Solves<a href="#the-problem-quartz-solves" class="hash-link" aria-label="Direct link to The Problem Quartz Solves" title="Direct link to The Problem Quartz Solves" translate="no">â€‹</a></h3>
<p><strong>Without Quartz (Default Behavior):</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Combat Music: â™ª â™ª â™ª [STOP] â† Cuts mid-measure</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Victory Music: [START] â™ª â™ª   â† Starts immediately</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Awkward, unprofessional transition âŒ</span><br></span></code></pre></div></div>
<p><strong>With Quartz:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Combat Music: â™ª â™ª â™ª â™ª | [End of bar]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Victory Music:         | â™ª â™ª â™ª â™ª [Start on beat]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Seamless, professional transition âœ…</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-core-concepts">ğŸµ Core Concepts<a href="#-core-concepts" class="hash-link" aria-label="Direct link to ğŸµ Core Concepts" title="Direct link to ğŸµ Core Concepts" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="musical-timing-terms">Musical Timing Terms<a href="#musical-timing-terms" class="hash-link" aria-label="Direct link to Musical Timing Terms" title="Direct link to Musical Timing Terms" translate="no">â€‹</a></h3>
<p><strong>BPM (Beats Per Minute)</strong></p>
<ul>
<li class="">Speed of the music</li>
<li class="">60 BPM = 1 beat/second (slow)</li>
<li class="">120 BPM = 2 beats/second (medium)</li>
<li class="">180 BPM = 3 beats/second (fast)</li>
</ul>
<p><strong>Beat</strong></p>
<ul>
<li class="">One &quot;pulse&quot; of the music</li>
<li class="">In 4/4 time: <code>| 1  2  3  4 |</code></li>
</ul>
<p><strong>Bar (Measure)</strong></p>
<ul>
<li class="">A group of beats</li>
<li class="">4/4 time = 4 beats per bar</li>
<li class="">3/4 time = 3 beats per bar (waltz)</li>
</ul>
<p><strong>Time Signature</strong></p>
<ul>
<li class="">Notation: Beats / Beat Type</li>
<li class=""><strong>4/4</strong> = 4 quarter notes per bar (most common)</li>
<li class=""><strong>3/4</strong> = 3 quarter notes per bar</li>
<li class=""><strong>6/8</strong> = 6 eighth notes per bar</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantization">Quantization<a href="#quantization" class="hash-link" aria-label="Direct link to Quantization" title="Direct link to Quantization" translate="no">â€‹</a></h3>
<p><strong>Quantization</strong> = Waiting for a musical boundary before executing an action.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Quantization Options</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> None      â†’ Execute </span><span class="token function" style="color:rgb(80, 250, 123)">immediately</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">no sync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> Beat      â†’ Wait </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> next </span><span class="token function" style="color:rgb(80, 250, 123)">beat</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">4</span><span class="token plain"> note</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> Half Bar  â†’ Wait </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> next half </span><span class="token function" style="color:rgb(80, 250, 123)">bar</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">2</span><span class="token plain"> beats</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> Bar       â†’ Wait </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> next full </span><span class="token function" style="color:rgb(80, 250, 123)">bar</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">4</span><span class="token plain"> beats</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token operator">-</span><span class="token plain"> Two Bars  â†’ Wait </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> full </span><span class="token function" style="color:rgb(80, 250, 123)">bars</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">8</span><span class="token plain"> beats</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-quick-start">ğŸš€ Quick Start<a href="#-quick-start" class="hash-link" aria-label="Direct link to ğŸš€ Quick Start" title="Direct link to ğŸš€ Quick Start" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-understanding-the-clock">1. Understanding the Clock<a href="#1-understanding-the-clock" class="hash-link" aria-label="Direct link to 1. Understanding the Clock" title="Direct link to 1. Understanding the Clock" translate="no">â€‹</a></h3>
<p>ElysMusicEngine <strong>automatically</strong> creates a Quartz clock on startup with:</p>
<ul>
<li class=""><strong>120 BPM</strong> (default tempo)</li>
<li class=""><strong>4/4 time</strong> (default signature)</li>
<li class=""><strong>Auto-started</strong> (no manual setup needed)</li>
</ul>
<p>You don&#x27;t need to do anything! The clock is ready to use.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-your-first-quantized-transition">2. Your First Quantized Transition<a href="#2-your-first-quantized-transition" class="hash-link" aria-label="Direct link to 2. Your First Quantized Transition" title="Direct link to 2. Your First Quantized Transition" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="before-immediate">Before (Immediate):<a href="#before-immediate" class="hash-link" aria-label="Direct link to Before (Immediate):" title="Direct link to Before (Immediate):" translate="no">â€‹</a></h4>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Music: CombatMusic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Priority: 10</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-beat-synced">After (Beat-Synced):<a href="#after-beat-synced" class="hash-link" aria-label="Direct link to After (Beat-Synced):" title="Direct link to After (Beat-Synced):" translate="no">â€‹</a></h4>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized  â† NEW!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Music: CombatMusic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Priority: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: Bar  â† Waits for next bar!</span><br></span></code></pre></div></div>
<p><strong>Result:</strong> Music starts exactly on the next bar boundary. Professional! ğŸµ</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-common-use-cases">ğŸ® Common Use Cases<a href="#-common-use-cases" class="hash-link" aria-label="Direct link to ğŸ® Common Use Cases" title="Direct link to ğŸ® Common Use Cases" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-case-1-combat-music-transitions">Use Case 1: Combat Music Transitions<a href="#use-case-1-combat-music-transitions" class="hash-link" aria-label="Direct link to Use Case 1: Combat Music Transitions" title="Direct link to Use Case 1: Combat Music Transitions" translate="no">â€‹</a></h3>
<p><strong>Scenario:</strong> Player enters combat, music should change smoothly.</p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Priority: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatEnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: Bar</span><br></span></code></pre></div></div>
<p><strong>Why Bar?</strong> Full measure transitions sound most natural for music changes.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-case-2-boss-phase-changes">Use Case 2: Boss Phase Changes<a href="#use-case-2-boss-phase-changes" class="hash-link" aria-label="Direct link to Use Case 2: Boss Phase Changes" title="Direct link to Use Case 2: Boss Phase Changes" translate="no">â€‹</a></h3>
<p><strong>Scenario:</strong> Boss enters Phase 2, music should switch dramatically.</p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer: &quot;Phase1Music&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: TwoBars  â† Wait 2 bars for drama</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer: &quot;Phase2Music&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Priority: 20</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: TwoBars</span><br></span></code></pre></div></div>
<p><strong>Why Two Bars?</strong> Gives breathing room, creates anticipation.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-case-3-beat-synced-vfx">Use Case 3: Beat-Synced VFX<a href="#use-case-3-beat-synced-vfx" class="hash-link" aria-label="Direct link to Use Case 3: Beat-Synced VFX" title="Direct link to Use Case 3: Beat-Synced VFX" translate="no">â€‹</a></h3>
<p><strong>Scenario:</strong> Flash the screen on every beat.</p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Music Subsystem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to On Beat  â† NEW EVENT!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Beat (BeatIndex, BarIndex, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (BeatIndex == 1)  â† Only on beat 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ True â†’ Spawn Flash VFX</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ False â†’ Do nothing</span><br></span></code></pre></div></div>
<p><strong>Result:</strong> VFX pulses with the music! Perfect for clubs, boss arenas, etc.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-case-4-rhythm-based-damage-bonus">Use Case 4: Rhythm-Based Damage Bonus<a href="#use-case-4-rhythm-based-damage-bonus" class="hash-link" aria-label="Direct link to Use Case 4: Rhythm-Based Damage Bonus" title="Direct link to Use Case 4: Rhythm-Based Damage Bonus" translate="no">â€‹</a></h3>
<p><strong>Scenario:</strong> Player does more damage if they attack on the beat.</p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnPlayerAttack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Music Subsystem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Time Until Next Beat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (Time &lt; 0.2 seconds)  â† Within timing window</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ True â†’ Damage Ã— 1.5 (bonus!)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ False â†’ Normal damage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Also flash UI to show success</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Beat Event</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Flash &quot;Perfect Timing!&quot; UI</span><br></span></code></pre></div></div>
<p><strong>Result:</strong> Rhythm game mechanics in any genre! ğŸ¸</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-case-5-boss-attack-pattern-synced-to-music">Use Case 5: Boss Attack Pattern Synced to Music<a href="#use-case-5-boss-attack-pattern-synced-to-music" class="hash-link" aria-label="Direct link to Use Case 5: Boss Attack Pattern Synced to Music" title="Direct link to Use Case 5: Boss Attack Pattern Synced to Music" translate="no">â€‹</a></h3>
<p><strong>Scenario:</strong> Boss attacks every 4 bars.</p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to On Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Bar (BarIndex, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (BarIndex % 4 == 0)  â† Every 4th bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ True â†’ Boss Special Attack!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ False â†’ Continue pattern</span><br></span></code></pre></div></div>
<p><strong>Result:</strong> Boss feels choreographed to the music (like <em>Furi</em> or <em>Nier: Automata</em>).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-api-reference">ğŸ“‹ API Reference<a href="#-api-reference" class="hash-link" aria-label="Direct link to ğŸ“‹ API Reference" title="Direct link to ğŸ“‹ API Reference" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="clock-management">Clock Management<a href="#clock-management" class="hash-link" aria-label="Direct link to Clock Management" title="Direct link to Clock Management" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="initialize-quartz-clock">Initialize Quartz Clock<a href="#initialize-quartz-clock" class="hash-link" aria-label="Direct link to Initialize Quartz Clock" title="Direct link to Initialize Quartz Clock" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">InitializeQuartzClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> BPM </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">120.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> int32 BeatsPerBar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>When:</strong> Auto-called on subsystem init. Call manually to change settings.<br>
<strong>Example:</strong> <code>InitializeQuartzClock(140.0f, 4)</code> for 140 BPM.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="startstop-clock">Start/Stop Clock<a href="#startstop-clock" class="hash-link" aria-label="Direct link to Start/Stop Clock" title="Direct link to Start/Stop Clock" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">StartMusicClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">StopMusicClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>When:</strong> Rarely needed (clock auto-starts). Use to pause timing.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="change-bpm">Change BPM<a href="#change-bpm" class="hash-link" aria-label="Direct link to Change BPM" title="Direct link to Change BPM" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">SetClockBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> NewBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> TransitionTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0f</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Example:</strong> <code>SetClockBPM(180.0f, 2.0f)</code> â†’ Ramp to 180 BPM over 2 seconds.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="check-clock-status">Check Clock Status<a href="#check-clock-status" class="hash-link" aria-label="Direct link to Check Clock Status" title="Direct link to Check Clock Status" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">bool</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">IsClockRunning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantized-layers">Quantized Layers<a href="#quantized-layers" class="hash-link" aria-label="Direct link to Quantized Layers" title="Direct link to Quantized Layers" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-layer-quantized">Push Layer Quantized<a href="#push-layer-quantized" class="hash-link" aria-label="Direct link to Push Layer Quantized" title="Direct link to Push Layer Quantized" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">PushMusicLayerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FERP_MusicLayer Layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ERP_EQuantization Quantization </span><span class="token operator">=</span><span class="token plain"> Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Layer</code> - The music layer to push</li>
<li class=""><code>Quantization</code> - When to start (Beat, HalfBar, Bar, TwoBars)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Layer: MyLayer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Quantization: Bar</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pop-layer-quantized">Pop Layer Quantized<a href="#pop-layer-quantized" class="hash-link" aria-label="Direct link to Pop Layer Quantized" title="Direct link to Pop Layer Quantized" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">PopMusicLayerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FName LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ERP_EQuantization Quantization </span><span class="token operator">=</span><span class="token plain"> Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="timing-queries">Timing Queries<a href="#timing-queries" class="hash-link" aria-label="Direct link to Timing Queries" title="Direct link to Timing Queries" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-beat">Get Current Beat<a href="#get-current-beat" class="hash-link" aria-label="Direct link to Get Current Beat" title="Direct link to Get Current Beat" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int32 </span><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Returns:</strong> 1, 2, 3, 4 (in 4/4 time)<br>
<strong>Use Case:</strong> Trigger events on specific beats.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-bar">Get Current Bar<a href="#get-current-bar" class="hash-link" aria-label="Direct link to Get Current Bar" title="Direct link to Get Current Bar" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">int32 </span><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Returns:</strong> Current bar number (0, 1, 2, 3...)<br>
<strong>Use Case:</strong> Boss attacks every N bars.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-bpm">Get Current BPM<a href="#get-current-bpm" class="hash-link" aria-label="Direct link to Get Current BPM" title="Direct link to Get Current BPM" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Returns:</strong> Current tempo (e.g., 120.0)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-time-until-next-beat">Get Time Until Next Beat<a href="#get-time-until-next-beat" class="hash-link" aria-label="Direct link to Get Time Until Next Beat" title="Direct link to Get Time Until Next Beat" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">GetTimeUntilNextBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Returns:</strong> Seconds until next beat (e.g., 0.25)<br>
<strong>Use Case:</strong> Animation timing, rhythm game windows.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-time-until-next-bar">Get Time Until Next Bar<a href="#get-time-until-next-bar" class="hash-link" aria-label="Direct link to Get Time Until Next Bar" title="Direct link to Get Time Until Next Bar" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintPure</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">GetTimeUntilNextBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">const</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantized-stingers">Quantized Stingers<a href="#quantized-stingers" class="hash-link" aria-label="Direct link to Quantized Stingers" title="Direct link to Quantized Stingers" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="play-stinger-quantized">Play Stinger Quantized<a href="#play-stinger-quantized" class="hash-link" aria-label="Direct link to Play Stinger Quantized" title="Direct link to Play Stinger Quantized" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UFUNCTION</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintCallable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">PlayStingerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    USoundBase</span><span class="token operator">*</span><span class="token plain"> StingerSound</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ERP_EQuantization Quantization </span><span class="token operator">=</span><span class="token plain"> Beat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">bool</span><span class="token plain"> bDuckMusic </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><span class="token plain"> DuckVolume </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.3f</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Example:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Sound: VictoryFanfare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Quantization: Bar  â† Plays on next bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ Duck Music: True</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ Duck Volume: 0.3</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events" translate="no">â€‹</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="on-beat-event">On Beat Event<a href="#on-beat-event" class="hash-link" aria-label="Direct link to On Beat Event" title="Direct link to On Beat Event" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UPROPERTY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintAssignable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FOnMusicBeat OnBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>BeatIndex</code> (int32) - Current beat (1-4)</li>
<li class=""><code>BarIndex</code> (int32) - Current bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Beat (Beat=1, Bar=5, BPM=120)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Print String: &quot;Beat 1 of Bar 5&quot;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="on-bar-event">On Bar Event<a href="#on-bar-event" class="hash-link" aria-label="Direct link to On Bar Event" title="Direct link to On Bar Event" translate="no">â€‹</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">UPROPERTY</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BlueprintAssignable</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Category </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Music|Quartz&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">FOnMusicBar OnBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre></div></div>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>BarIndex</code> (int32) - Current bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-advanced-patterns">ğŸ¨ Advanced Patterns<a href="#-advanced-patterns" class="hash-link" aria-label="Direct link to ğŸ¨ Advanced Patterns" title="Direct link to ğŸ¨ Advanced Patterns" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-1-dynamic-bpm-based-on-tension">Pattern 1: Dynamic BPM Based on Tension<a href="#pattern-1-dynamic-bpm-based-on-tension" class="hash-link" aria-label="Direct link to Pattern 1: Dynamic BPM Based on Tension" title="Direct link to Pattern 1: Dynamic BPM Based on Tension" translate="no">â€‹</a></h3>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnTensionIncrease</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Music Subsystem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Current BPM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">New BPM = Current BPM + 10  â† Speed up!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Clock BPM (New BPM, 3.0 seconds)</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Music speeds up as danger increases (like <em>Tetris</em>).</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-2-multi-phase-boss-music">Pattern 2: Multi-Phase Boss Music<a href="#pattern-2-multi-phase-boss-music" class="hash-link" aria-label="Direct link to Pattern 2: Multi-Phase Boss Music" title="Direct link to Pattern 2: Multi-Phase Boss Music" translate="no">â€‹</a></h3>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Phase 1: 120 BPM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Clock BPM (120, 0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized (&quot;Phase1&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Phase 2: 140 BPM (faster!)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Clock BPM (140, 2.0)  â† Ramp up tempo</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized (&quot;Phase1&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized (&quot;Phase2&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Phase 3: 160 BPM (intense!)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Clock BPM (160, 1.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized (&quot;Phase2&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized (&quot;Phase3&quot;, Bar)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-3-beat-synced-dialogue-pauses">Pattern 3: Beat-Synced Dialogue Pauses<a href="#pattern-3-beat-synced-dialogue-pauses" class="hash-link" aria-label="Direct link to Pattern 3: Beat-Synced Dialogue Pauses" title="Direct link to Pattern 3: Beat-Synced Dialogue Pauses" translate="no">â€‹</a></h3>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnDialogueStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Time Until Next Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Delay (Time Until Bar)  â† Wait for bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Dialogue</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Enable Dialogue Ducking</span><br></span></code></pre></div></div>
<p><strong>Result:</strong> Dialogue starts on bar, music ducks smoothly.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-4-procedural-music-intensity">Pattern 4: Procedural Music Intensity<a href="#pattern-4-procedural-music-intensity" class="hash-link" aria-label="Direct link to Pattern 4: Procedural Music Intensity" title="Direct link to Pattern 4: Procedural Music Intensity" translate="no">â€‹</a></h3>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Track tension level</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Tension = 0.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event Tick</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Current Beat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (Beat == 1)  â† Every bar start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ True:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">       Branch (Tension &gt; 0.5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         â”œâ”€ True â†’ Push Layer (&quot;IntenseLayer&quot;, Additive)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">         â””â”€ False â†’ Pop Layer (&quot;IntenseLayer&quot;)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-best-practices">ğŸ¯ Best Practices<a href="#-best-practices" class="hash-link" aria-label="Direct link to ğŸ¯ Best Practices" title="Direct link to ğŸ¯ Best Practices" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-do">âœ… DO<a href="#-do" class="hash-link" aria-label="Direct link to âœ… DO" title="Direct link to âœ… DO" translate="no">â€‹</a></h3>
<ol>
<li class="">
<p><strong>Use Bar for Major Transitions</strong></p>
<ul>
<li class="">Combat start/end</li>
<li class="">Level music changes</li>
<li class="">Boss phase shifts</li>
</ul>
</li>
<li class="">
<p><strong>Use Beat for Quick Effects</strong></p>
<ul>
<li class="">Stingers</li>
<li class="">UI feedback</li>
<li class="">Quick VFX</li>
</ul>
</li>
<li class="">
<p><strong>Bind Events Sparingly</strong></p>
<ul>
<li class="">Only bind OnBeat if you need it</li>
<li class="">Unbind when not needed</li>
<li class="">Avoid heavy logic in beat callbacks</li>
</ul>
</li>
<li class="">
<p><strong>Test with Different BPMs</strong></p>
<ul>
<li class="">Some music is 90 BPM (slow)</li>
<li class="">Some is 180 BPM (fast)</li>
<li class="">Make sure transitions work for both</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-dont">âŒ DON&#x27;T<a href="#-dont" class="hash-link" aria-label="Direct link to âŒ DON&#x27;T" title="Direct link to âŒ DON&#x27;T" translate="no">â€‹</a></h3>
<ol>
<li class="">
<p><strong>Don&#x27;t Mix Immediate and Quantized for Same Layer</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer (&quot;Combat&quot;)           â† Immediate</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized (&quot;Combat&quot;)  â† Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Result: Confusing behavior âŒ</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Don&#x27;t Use None Quantization (defeats purpose)</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized (&quot;Combat&quot;, None)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">â†‘ Just use Push Music Layer instead!</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Don&#x27;t Change BPM Mid-Transition</strong></p>
<ul>
<li class="">Let transition finish first</li>
<li class="">Then change BPM</li>
</ul>
</li>
<li class="">
<p><strong>Don&#x27;t Bind OnBeat for Rare Events</strong></p>
<ul>
<li class="">If you only need timing occasionally, use queries</li>
<li class="">OnBeat fires every beat = overhead</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-troubleshooting">ğŸ› Troubleshooting<a href="#-troubleshooting" class="hash-link" aria-label="Direct link to ğŸ› Troubleshooting" title="Direct link to ğŸ› Troubleshooting" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="problem-quantized-layer-never-starts">Problem: Quantized layer never starts<a href="#problem-quantized-layer-never-starts" class="hash-link" aria-label="Direct link to Problem: Quantized layer never starts" title="Direct link to Problem: Quantized layer never starts" translate="no">â€‹</a></h3>
<p><strong>Cause:</strong> Clock not initialized or stopped.</p>
<p><strong>Solution:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Music Subsystem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Is Clock Running?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â”œâ”€ False â†’ Start Music Clock</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â””â”€ True â†’ (Already running)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="problem-beat-events-not-firing">Problem: Beat events not firing<a href="#problem-beat-events-not-firing" class="hash-link" aria-label="Direct link to Problem: Beat events not firing" title="Direct link to Problem: Beat events not firing" translate="no">â€‹</a></h3>
<p><strong>Cause:</strong> Delegate not bound.</p>
<p><strong>Solution:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Music Subsystem</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to On Beat  â† Must bind!</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="problem-transitions-still-sound-off">Problem: Transitions still sound off<a href="#problem-transitions-still-sound-off" class="hash-link" aria-label="Direct link to Problem: Transitions still sound off" title="Direct link to Problem: Transitions still sound off" translate="no">â€‹</a></h3>
<p><strong>Cause:</strong> Music not authored at correct BPM.</p>
<p><strong>Solution:</strong></p>
<ul>
<li class="">Check your music file&#x27;s actual BPM</li>
<li class="">Set layer BPM to match: <code>Layer.BPM = 128</code></li>
<li class="">Or adjust clock: <code>Set Clock BPM (128)</code></li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="problem-beat-timing-drifts-over-time">Problem: Beat timing drifts over time<a href="#problem-beat-timing-drifts-over-time" class="hash-link" aria-label="Direct link to Problem: Beat timing drifts over time" title="Direct link to Problem: Beat timing drifts over time" translate="no">â€‹</a></h3>
<p><strong>Cause:</strong> Quartz is sample-accurate, shouldn&#x27;t drift.</p>
<p><strong>Check:</strong></p>
<ol>
<li class="">Is clock running? (<code>Is Clock Running</code>)</li>
<li class="">Are you stopping/starting clock mid-game?</li>
<li class="">Is your music file looping correctly?</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-performance">ğŸ“Š Performance<a href="#-performance" class="hash-link" aria-label="Direct link to ğŸ“Š Performance" title="Direct link to ğŸ“Š Performance" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overhead">Overhead<a href="#overhead" class="hash-link" aria-label="Direct link to Overhead" title="Direct link to Overhead" translate="no">â€‹</a></h3>
<ul>
<li class=""><strong>Clock:</strong> Less than 0.05ms per frame</li>
<li class=""><strong>Beat event:</strong> ~0.01ms (only when bound)</li>
<li class=""><strong>Quantized action:</strong> Same as immediate (just delayed)</li>
</ul>
<p><strong>Total:</strong> Negligible! Safe for all platforms. âœ…</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="optimization-tips">Optimization Tips<a href="#optimization-tips" class="hash-link" aria-label="Direct link to Optimization Tips" title="Direct link to Optimization Tips" translate="no">â€‹</a></h3>
<ol>
<li class="">
<p><strong>Unbind unused events</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Unbind Event from On Beat  â† When not needed</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Use GetCurrentBeat() instead of OnBeat for polling</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// BAD: Bind OnBeat just to check if beat == 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Beat (Beat, Bar, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Branch (Beat == 1) â†’ Do thing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// GOOD: Poll when needed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event Tick (every 0.1s)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Get Current Beat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Branch (Beat == 1) â†’ Do thing</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Batch quantized actions</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Instead of:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Layer Quantized (&quot;A&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Layer Quantized (&quot;B&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Layer Quantized (&quot;C&quot;, Bar)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// All execute on same bar (good!)</span><br></span></code></pre></div></div>
</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="ï¸-combining-quartz--gameplaytags">ğŸ·ï¸ Combining Quartz + GameplayTags<a href="#ï¸-combining-quartz--gameplaytags" class="hash-link" aria-label="Direct link to ğŸ·ï¸ Combining Quartz + GameplayTags" title="Direct link to ğŸ·ï¸ Combining Quartz + GameplayTags" translate="no">â€‹</a></h2>
<p>For ultimate power, combine beat sync with tag-driven music!</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="example-tag-based-combat-with-beat-sync">Example: Tag-Based Combat with Beat Sync<a href="#example-tag-based-combat-with-beat-sync" class="hash-link" aria-label="Direct link to Example: Tag-Based Combat with Beat Sync" title="Direct link to Example: Tag-Based Combat with Beat Sync" translate="no">â€‹</a></h3>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart(EnemyType)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Switch on EnemyType</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Boss:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Push Music Layer By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â””â”€ Tag: Music.Combat.Boss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Elite:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Push Music Layer By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â””â”€ Tag: Music.Combat.Elite</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Default:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Push Music Layer By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        â””â”€ Tag: Music.Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// All use fallback to parent if specific not found!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// All respect Quartz timing if layer has bUseQuartzTiming = true!</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup-layers-with-quartz--tags">Setup Layers with Quartz + Tags<a href="#setup-layers-with-quartz--tags" class="hash-link" aria-label="Direct link to Setup Layers with Quartz + Tags" title="Direct link to Setup Layers with Quartz + Tags" translate="no">â€‹</a></h3>
<p><strong>Registry Configuration:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Music Tag Registry:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Combat (Generic)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€ BPM: 140</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€ bUseQuartzTiming: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â””â”€ Music: Combat_Generic_Sound</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Combat.Boss (Boss-Specific)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€ BPM: 150</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â”œâ”€ bUseQuartzTiming: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â””â”€ Music: Combat_Boss_Sound</span><br></span></code></pre></div></div>
<p><strong>Blueprint Usage:</strong></p>
<div class="language-blueprint codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-blueprint codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Boss Phase Change</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer By Tag (&quot;Music.Combat.Boss&quot;)  â† Tagged!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Time Until Next Bar  â† Quartz timing!</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Delay (Time)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    â†“</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer By Tag (&quot;Music.Combat.Boss.Phase2&quot;)  â† Falls back if needed!</span><br></span></code></pre></div></div>
<p><strong>Benefits:</strong></p>
<ul>
<li class="">âœ… Tag-driven = designer-friendly</li>
<li class="">âœ… Fallback = graceful degradation</li>
<li class="">âœ… Quartz sync = beat-perfect</li>
<li class="">âœ… No hardcoded layer names!</li>
</ul>
<p><strong>Pro Tip:</strong> Set <code>bUseQuartzTiming = true</code> on layers that need sync, leave it false for instant layers (stingers, ambience).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-examples">ğŸ® Examples<a href="#-examples" class="hash-link" aria-label="Direct link to ğŸ® Examples" title="Direct link to ğŸ® Examples" translate="no">â€‹</a></h2>
<p>See <strong><a class="" href="/ElysMusicEngine/Examples">Examples.md</a></strong> for complete Blueprint examples:</p>
<ul>
<li class="">Combat music transition</li>
<li class="">Boss phase music system</li>
<li class="">Beat-synced VFX spawner</li>
<li class="">Rhythm game damage bonus</li>
<li class="">Procedural intensity layers</li>
<li class=""><strong>NEW:</strong> Tag-based music states (Example 23-29)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-related-documentation">ğŸ”— Related Documentation<a href="#-related-documentation" class="hash-link" aria-label="Direct link to ğŸ”— Related Documentation" title="Direct link to ğŸ”— Related Documentation" translate="no">â€‹</a></h2>
<ul>
<li class=""><strong><a class="" href="/ElysMusicEngine/API-Reference">API Reference</a></strong> - All function signatures</li>
<li class=""><strong><a class="" href="/ElysMusicEngine/API-Reference#gameplaytag-integration">GameplayTag Integration</a></strong> - Tag-driven music <strong>[NEW!]</strong></li>
<li class=""><strong><a class="" href="/ElysMusicEngine/quick-reference">Quick Reference</a></strong> - Cheat sheet</li>
<li class=""><strong><a class="" href="/ElysMusicEngine/how-it-works">How It Works</a></strong> - Architecture deep dive</li>
<li class=""><strong><a class="" href="/ElysMusicEngine/Examples">Examples</a></strong> - Working Blueprint patterns</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-inspiration">ğŸµ Inspiration<a href="#-inspiration" class="hash-link" aria-label="Direct link to ğŸµ Inspiration" title="Direct link to ğŸµ Inspiration" translate="no">â€‹</a></h2>
<p>Games using similar rhythm/beat sync systems:</p>
<ul>
<li class=""><strong>Hi-Fi Rush</strong> - Everything syncs to beat</li>
<li class=""><strong>Metal: Hellsinger</strong> - FPS with rhythm mechanics</li>
<li class=""><strong>BPM: Bullets Per Minute</strong> - Roguelike rhythm shooter</li>
<li class=""><strong>Crypt of the NecroDancer</strong> - Full rhythm gameplay</li>
<li class=""><strong>Hades</strong> - Smooth boss music transitions</li>
<li class=""><strong>Furi</strong> - Boss patterns choreographed to music</li>
</ul>
<p><strong>Now you can build these too!</strong> ğŸš€</p>
<hr>
<p><strong>Ready to sync?</strong> Try the <a class="" href="/ElysMusicEngine/QuickStart">Quick Start Tutorial</a> with Quartz-enabled transitions!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RogueParadigm/ElysMusicEngine/tree/main/Documentation/../Documentation/QuartzGuide.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-what-is-quartz" class="table-of-contents__link toc-highlight">ğŸ¯ What is Quartz?</a><ul><li><a href="#the-problem-quartz-solves" class="table-of-contents__link toc-highlight">The Problem Quartz Solves</a></li></ul></li><li><a href="#-core-concepts" class="table-of-contents__link toc-highlight">ğŸµ Core Concepts</a><ul><li><a href="#musical-timing-terms" class="table-of-contents__link toc-highlight">Musical Timing Terms</a></li><li><a href="#quantization" class="table-of-contents__link toc-highlight">Quantization</a></li></ul></li><li><a href="#-quick-start" class="table-of-contents__link toc-highlight">ğŸš€ Quick Start</a><ul><li><a href="#1-understanding-the-clock" class="table-of-contents__link toc-highlight">1. Understanding the Clock</a></li><li><a href="#2-your-first-quantized-transition" class="table-of-contents__link toc-highlight">2. Your First Quantized Transition</a></li></ul></li><li><a href="#-common-use-cases" class="table-of-contents__link toc-highlight">ğŸ® Common Use Cases</a><ul><li><a href="#use-case-1-combat-music-transitions" class="table-of-contents__link toc-highlight">Use Case 1: Combat Music Transitions</a></li><li><a href="#use-case-2-boss-phase-changes" class="table-of-contents__link toc-highlight">Use Case 2: Boss Phase Changes</a></li><li><a href="#use-case-3-beat-synced-vfx" class="table-of-contents__link toc-highlight">Use Case 3: Beat-Synced VFX</a></li><li><a href="#use-case-4-rhythm-based-damage-bonus" class="table-of-contents__link toc-highlight">Use Case 4: Rhythm-Based Damage Bonus</a></li><li><a href="#use-case-5-boss-attack-pattern-synced-to-music" class="table-of-contents__link toc-highlight">Use Case 5: Boss Attack Pattern Synced to Music</a></li></ul></li><li><a href="#-api-reference" class="table-of-contents__link toc-highlight">ğŸ“‹ API Reference</a><ul><li><a href="#clock-management" class="table-of-contents__link toc-highlight">Clock Management</a></li><li><a href="#quantized-layers" class="table-of-contents__link toc-highlight">Quantized Layers</a></li><li><a href="#timing-queries" class="table-of-contents__link toc-highlight">Timing Queries</a></li><li><a href="#quantized-stingers" class="table-of-contents__link toc-highlight">Quantized Stingers</a></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li></ul></li><li><a href="#-advanced-patterns" class="table-of-contents__link toc-highlight">ğŸ¨ Advanced Patterns</a><ul><li><a href="#pattern-1-dynamic-bpm-based-on-tension" class="table-of-contents__link toc-highlight">Pattern 1: Dynamic BPM Based on Tension</a></li><li><a href="#pattern-2-multi-phase-boss-music" class="table-of-contents__link toc-highlight">Pattern 2: Multi-Phase Boss Music</a></li><li><a href="#pattern-3-beat-synced-dialogue-pauses" class="table-of-contents__link toc-highlight">Pattern 3: Beat-Synced Dialogue Pauses</a></li><li><a href="#pattern-4-procedural-music-intensity" class="table-of-contents__link toc-highlight">Pattern 4: Procedural Music Intensity</a></li></ul></li><li><a href="#-best-practices" class="table-of-contents__link toc-highlight">ğŸ¯ Best Practices</a><ul><li><a href="#-do" class="table-of-contents__link toc-highlight">âœ… DO</a></li><li><a href="#-dont" class="table-of-contents__link toc-highlight">âŒ DON&#39;T</a></li></ul></li><li><a href="#-troubleshooting" class="table-of-contents__link toc-highlight">ğŸ› Troubleshooting</a><ul><li><a href="#problem-quantized-layer-never-starts" class="table-of-contents__link toc-highlight">Problem: Quantized layer never starts</a></li><li><a href="#problem-beat-events-not-firing" class="table-of-contents__link toc-highlight">Problem: Beat events not firing</a></li><li><a href="#problem-transitions-still-sound-off" class="table-of-contents__link toc-highlight">Problem: Transitions still sound off</a></li><li><a href="#problem-beat-timing-drifts-over-time" class="table-of-contents__link toc-highlight">Problem: Beat timing drifts over time</a></li></ul></li><li><a href="#-performance" class="table-of-contents__link toc-highlight">ğŸ“Š Performance</a><ul><li><a href="#overhead" class="table-of-contents__link toc-highlight">Overhead</a></li><li><a href="#optimization-tips" class="table-of-contents__link toc-highlight">Optimization Tips</a></li></ul></li><li><a href="#ï¸-combining-quartz--gameplaytags" class="table-of-contents__link toc-highlight">ğŸ·ï¸ Combining Quartz + GameplayTags</a><ul><li><a href="#example-tag-based-combat-with-beat-sync" class="table-of-contents__link toc-highlight">Example: Tag-Based Combat with Beat Sync</a></li><li><a href="#setup-layers-with-quartz--tags" class="table-of-contents__link toc-highlight">Setup Layers with Quartz + Tags</a></li></ul></li><li><a href="#-examples" class="table-of-contents__link toc-highlight">ğŸ® Examples</a></li><li><a href="#-related-documentation" class="table-of-contents__link toc-highlight">ğŸ”— Related Documentation</a></li><li><a href="#-inspiration" class="table-of-contents__link toc-highlight">ğŸµ Inspiration</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/setup-guide">Setup Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/quick-reference">Quick Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/API-Reference">API Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other Plugins</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rogueparadigm.com/ElysGenAIPlugin/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elys GenAI Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rogueparadigm.com/ElysPerceptionPlugin/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elys Perception Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/jm3YjRRT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/RogueParadigm/ElysMusicEngine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PL_z_boaokQaMepqujehNt2K21F1biMJS9" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.patreon.com/c/ElysGameCreation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Patreon<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rogueparadigm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rogue Paradigm<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2026 Rogue Paradigm by Elys. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>