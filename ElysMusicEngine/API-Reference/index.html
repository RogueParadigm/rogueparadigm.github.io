<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-API-Reference" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">API Reference | Elys Music Engine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rogueparadigm.com/ElysMusicEngine/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://rogueparadigm.com/ElysMusicEngine/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://rogueparadigm.com/ElysMusicEngine/API-Reference"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API Reference | Elys Music Engine"><meta data-rh="true" name="description" content="Version: 1.1.0 | Complete reference for all Blueprint functions."><meta data-rh="true" property="og:description" content="Version: 1.1.0 | Complete reference for all Blueprint functions."><link data-rh="true" rel="icon" href="/ElysMusicEngine/img/rogue-paradigm-logo.png"><link data-rh="true" rel="canonical" href="https://rogueparadigm.com/ElysMusicEngine/API-Reference"><link data-rh="true" rel="alternate" href="https://rogueparadigm.com/ElysMusicEngine/API-Reference" hreflang="en"><link data-rh="true" rel="alternate" href="https://rogueparadigm.com/ElysMusicEngine/API-Reference" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"API Reference","item":"https://rogueparadigm.com/ElysMusicEngine/API-Reference"}]}</script><link rel="stylesheet" href="/ElysMusicEngine/assets/css/styles.1077209b.css">
<script src="/ElysMusicEngine/assets/js/runtime~main.e85f9bae.js" defer="defer"></script>
<script src="/ElysMusicEngine/assets/js/main.6d25f18e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ElysMusicEngine/img/rogue-paradigm-logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://rogueparadigm.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/ElysMusicEngine/img/rogue-paradigm-logo.png" alt="Elys" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ElysMusicEngine/img/rogue-paradigm-logo.png" alt="Elys" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ElysMusicEngine/">Elys Music Engine</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ElysMusicEngine/intro">Documentation</a><a href="https://rogueparadigm.com/ElysGenAIPlugin/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GenAI Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://rogueparadigm.com/ElysPerceptionPlugin/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Perception Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://discord.gg/jm3YjRRT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/intro"><span title="ElysMusicEngine" class="linkLabel_WmDU">ElysMusicEngine</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/setup-guide"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/user-guide"><span title="User Guide" class="linkLabel_WmDU">User Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/advanced"><span title="Advanced Features" class="linkLabel_WmDU">Advanced Features</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/cpp-usage"><span title="Using from C++" class="linkLabel_WmDU">Using from C++</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/multiplayer"><span title="Multiplayer Guide" class="linkLabel_WmDU">Multiplayer Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ElysMusicEngine/API-Reference"><span title="API Reference" class="linkLabel_WmDU">API Reference</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ElysMusicEngine/troubleshooting"><span title="Troubleshooting" class="linkLabel_WmDU">Troubleshooting</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ElysMusicEngine/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">API Reference</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>API Reference</h1></header>
<blockquote>
<p><strong>Version:</strong> 1.1.0 | Complete reference for all Blueprint functions.</p>
</blockquote>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="blueprint-function-library-uerp_musichelper">Blueprint Function Library: UERP_MusicHelper<a href="#blueprint-function-library-uerp_musichelper" class="hash-link" aria-label="Direct link to Blueprint Function Library: UERP_MusicHelper" title="Direct link to Blueprint Function Library: UERP_MusicHelper" translate="no">​</a></h2>
<p>Blueprint-callable functions for controlling the music system. No actor placement needed — functions automatically access the GameInstanceSubsystem.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="layer-control">Layer Control<a href="#layer-control" class="hash-link" aria-label="Direct link to Layer Control" title="Direct link to Layer Control" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-layer">Push Music Layer<a href="#push-music-layer" class="hash-link" aria-label="Direct link to Push Music Layer" title="Direct link to Push Music Layer" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music </span><span class="token function" style="color:rgb(80, 250, 123)">Layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Music</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Priority</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerMode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VolumeMultiplier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> FadeInTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> FadeOutTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bLooping</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bPersistAcrossLevels</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Adds a new music layer to the stack. If a layer with the same name exists, the call is ignored.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Unique identifier for this layer (e.g., &quot;Combat&quot;, &quot;Menu&quot;)</li>
<li class=""><code>Music</code> (Sound Base) - The music asset to play (Sound Wave or Sound Cue)</li>
<li class=""><code>Priority</code> (Integer) - Layer priority, 0-100 (default: 0, higher = more important)</li>
<li class=""><code>Layer Mode</code> (Enum) - Replace or Additive (default: Replace)</li>
<li class=""><code>Volume Multiplier</code> (Float) - Volume 0.0 to 1.0 (default: 1.0)</li>
<li class=""><code>Fade In Time</code> (Float) - Fade in duration in seconds (default: 1.0)</li>
<li class=""><code>Fade Out Time</code> (Float) - Fade out duration in seconds (default: 1.0)</li>
<li class=""><code>bLooping</code> (Boolean) - Loop the music (default: true)</li>
<li class=""><code>bPersist Across Levels</code> (Boolean) - Keep playing across level transitions (default: false)</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Exploration&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Music: Exploration_Music</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Priority: 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Mode: Replace</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Volume Multiplier: 1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Fade In Time: 2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Persist Across Levels: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Quantization: None  ← NEW: Beat-sync option</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pop-music-layer">Pop Music Layer<a href="#pop-music-layer" class="hash-link" aria-label="Direct link to Pop Music Layer" title="Direct link to Pop Music Layer" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music </span><span class="token function" style="color:rgb(80, 250, 123)">Layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Removes a music layer by name. The layer fades out using its FadeOutTime before being removed.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of the layer to remove</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatEnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Quantization: Bar  ← NEW: Wait for next bar</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-layer-advanced">Push Music Layer Advanced<a href="#push-music-layer-advanced" class="hash-link" aria-label="Direct link to Push Music Layer Advanced" title="Direct link to Push Music Layer Advanced" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer </span><span class="token function" style="color:rgb(80, 250, 123)">Advanced</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Push a music layer using a full FERP_MusicLayer struct. Useful when passing layer data from configs or variables.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer</code> (FERP_MusicLayer) - Complete layer struct with all settings</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="clear-all-music-layers">Clear All Music Layers<a href="#clear-all-music-layers" class="hash-link" aria-label="Direct link to Clear All Music Layers" title="Direct link to Clear All Music Layers" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Clear All Music </span><span class="token function" style="color:rgb(80, 250, 123)">Layers</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Immediately stops and removes all active music layers. Use for hard transitions or cleanup.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnReturnToMainMenu</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Clear All Music Layers</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="presets">Presets<a href="#presets" class="hash-link" aria-label="Direct link to Presets" title="Direct link to Presets" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-preset">Push Music Preset<a href="#push-music-preset" class="hash-link" aria-label="Direct link to Push Music Preset" title="Direct link to Push Music Preset" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music </span><span class="token function" style="color:rgb(80, 250, 123)">Preset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Preset</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bClearExisting</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Pushes a reusable music preset asset, which can contain multiple layers.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Preset</code> (UERP_MusicLayerPreset) - The preset asset to push</li>
<li class=""><code>bClear Existing</code> (Boolean) - Clear all layers before pushing preset (default: true)</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnEnterDungeon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Preset</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Preset: MC_DungeonAmbiance</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Clear Existing: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Quantization: Bar  ← NEW: Wait for next bar</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="query-functions">Query Functions<a href="#query-functions" class="hash-link" aria-label="Direct link to Query Functions" title="Direct link to Query Functions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="is-layer-active">Is Layer Active<a href="#is-layer-active" class="hash-link" aria-label="Direct link to Is Layer Active" title="Direct link to Is Layer Active" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Is Layer </span><span class="token function" style="color:rgb(80, 250, 123)">Active</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → Boolean</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Checks if a specific layer is currently active in the stack.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of the layer to check</li>
</ul>
<p><strong>Returns:</strong> True if layer exists in the active stack, false otherwise.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (Is Layer Active &quot;Combat&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    True → Continue Combat Logic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    False → Start Combat Music</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-active-layer-names">Get Active Layer Names<a href="#get-active-layer-names" class="hash-link" aria-label="Direct link to Get Active Layer Names" title="Direct link to Get Active Layer Names" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Active Layer </span><span class="token function" style="color:rgb(80, 250, 123)">Names</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → Array\</span><span class="token operator">&lt;</span><span class="token plain">Name\</span><span class="token operator">&gt;</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Returns the names of all currently active music layers.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
</ul>
<p><strong>Returns:</strong> Array of layer names currently in the stack.</p>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Active Layer Names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">For Each Loop (Array)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Print String (Current Layer Name)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="stingers">Stingers<a href="#stingers" class="hash-link" aria-label="Direct link to Stingers" title="Direct link to Stingers" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="play-stinger">Play Stinger<a href="#play-stinger" class="hash-link" aria-label="Direct link to Play Stinger" title="Direct link to Play Stinger" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play </span><span class="token function" style="color:rgb(80, 250, 123)">Stinger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> StingerSound</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bDuckMusic</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckVolume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckFadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> RestoreFadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Plays a short musical accent (stinger) without interrupting background music. Optionally ducks (lowers) music volume during playback. Supports quantization for beat-synced playback.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Stinger Sound</code> (Sound Base) - The stinger audio to play (usually short, less than 3 seconds)</li>
<li class=""><code>bDuck Music</code> (Boolean) - Lower background music during stinger (default: true)</li>
<li class=""><code>Duck Volume</code> (Float) - Music volume during stinger, 0.0 to 1.0 (default: 0.3)</li>
<li class=""><code>Duck Fade Time</code> (Float) - Time to fade music down (default: 0.2)</li>
<li class=""><code>Restore Fade Time</code> (Float) - Time to restore music after stinger (default: 0.5)</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to play: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnAchievementUnlocked</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Stinger Sound: Achievement_Fanfare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Music: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Volume: 0.3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Fade Time: 0.2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Restore Fade Time: 0.5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Quantization: Beat  // Wait for next beat</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="play-stinger-advanced">Play Stinger Advanced<a href="#play-stinger-advanced" class="hash-link" aria-label="Direct link to Play Stinger Advanced" title="Direct link to Play Stinger Advanced" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger </span><span class="token function" style="color:rgb(80, 250, 123)">Advanced</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Play a stinger using a full FERP_StingerParams struct with optional quantization.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Params</code> (FERP_StingerParams) - Complete stinger parameters struct</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to play: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="play-stinger-at-location">Play Stinger At Location<a href="#play-stinger-at-location" class="hash-link" aria-label="Direct link to Play Stinger At Location" title="Direct link to Play Stinger At Location" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger At </span><span class="token function" style="color:rgb(80, 250, 123)">Location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> StingerSound</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Location</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> VolumeMultiplier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> PitchMultiplier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> AttenuationStartDistance</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bDuckMusic</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckVolume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckFadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> RestoreFadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Plays a stinger at a specific 3D world location with spatial audio attenuation. Perfect for location-based audio accents like explosions, impact sounds, or environmental musical cues. Maintains all ducking and quantization features.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Stinger Sound</code> (Sound Base) - The stinger audio to play</li>
<li class=""><code>Location</code> (Vector) - World position where the stinger should play</li>
<li class=""><code>Volume Multiplier</code> (Float) - Volume multiplier for the stinger (default: 1.0)</li>
<li class=""><code>Pitch Multiplier</code> (Float) - Pitch multiplier for the stinger (default: 1.0)</li>
<li class=""><code>Attenuation Start Distance</code> (Float) - Distance where attenuation starts in units (default: 100.0)</li>
<li class=""><code>bDuck Music</code> (Boolean) - Lower background music during stinger (default: true)</li>
<li class=""><code>Duck Volume</code> (Float) - Music volume during stinger, 0.0 to 1.0 (default: 0.3)</li>
<li class=""><code>Duck Fade Time</code> (Float) - Time to fade music down (default: 0.2)</li>
<li class=""><code>Restore Fade Time</code> (Float) - Time to restore music after stinger (default: 0.5)</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to play: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBombExplode</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Actor Location → ExplosionLocation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger At Location</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Stinger Sound: Explosion_Musical_Stinger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Location: ExplosionLocation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Volume Multiplier: 1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Pitch Multiplier: 1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Attenuation Start Distance: 500.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Music: true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Volume: 0.3</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Quantization: Beat</span><br></span></code></pre></div></div>
<p><strong>Use Cases:</strong></p>
<ul>
<li class="">Explosion stingers at specific locations</li>
<li class="">Environmental musical cues tied to 3D space</li>
<li class="">Combat impact sounds that affect music</li>
<li class="">Localized magical effects with musical accents</li>
<li class="">World events that should be heard spatially</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="stinger-volume-aerp_stingervolume">Stinger Volume (<code>AERP_StingerVolume</code>)<a href="#stinger-volume-aerp_stingervolume" class="hash-link" aria-label="Direct link to stinger-volume-aerp_stingervolume" title="Direct link to stinger-volume-aerp_stingervolume" translate="no">​</a></h3>
<p>A placeable box-collision actor that plays a stinger when the player overlaps it. Yellow wireframe in editor.</p>
<p><strong>Properties:</strong></p>
<table><thead><tr><th>Category</th><th>Property</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>Stinger | Sound</strong></td><td><code>Stinger Sound</code></td><td>Sound Base</td><td>The stinger audio to play</td></tr><tr><td><strong>Stinger | Ducking</strong></td><td><code>bDuck Music</code></td><td>Boolean</td><td>Lower background music during stinger (default: true)</td></tr><tr><td><strong>Stinger | Ducking</strong></td><td><code>Duck Volume</code></td><td>Float</td><td>Music volume during stinger, 0.0–1.0 (default: 0.3)</td></tr><tr><td><strong>Stinger | Ducking</strong></td><td><code>Duck Fade Time</code></td><td>Float</td><td>Time to fade music down (default: 0.2)</td></tr><tr><td><strong>Stinger | Ducking</strong></td><td><code>Restore Fade Time</code></td><td>Float</td><td>Time to restore music after stinger (default: 0.5)</td></tr><tr><td><strong>Stinger | Timing</strong></td><td><code>Quantization</code></td><td>Enum</td><td>Beat sync: <code>None</code>, <code>Beat</code>, or <code>Bar</code></td></tr><tr><td><strong>Stinger | Behavior</strong></td><td><code>Actor Filter Tag</code></td><td>Name</td><td>Only trigger for actors with this tag (empty = any)</td></tr><tr><td><strong>Stinger | Behavior</strong></td><td><code>bTrigger Once</code></td><td>Boolean</td><td>Fire only on first overlap (default: false)</td></tr></tbody></table>
<p><strong>How it works:</strong> On <code>BeginOverlap</code>, calls <code>Play Stinger</code> (or the quantized variant) with the configured parameters. If <code>bTriggerOnce</code> is true, disables collision after the first trigger.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="audio-ducking">Audio Ducking<a href="#audio-ducking" class="hash-link" aria-label="Direct link to Audio Ducking" title="Direct link to Audio Ducking" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="enable-audio-ducking">Enable Audio Ducking<a href="#enable-audio-ducking" class="hash-link" aria-label="Direct link to Enable Audio Ducking" title="Direct link to Enable Audio Ducking" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Enable Audio </span><span class="token function" style="color:rgb(80, 250, 123)">Ducking</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> AudioComponent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckVolume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> FadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Automatically lowers music volume while any audio plays (dialogue, SFX, narration, cutscenes), then restores it when the audio finishes. Binds to the AudioComponent&#x27;s OnAudioFinished event. Perfect for dialogue, voiceovers, or any sound that should be the focus.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Audio Component</code> (Audio Component) - The audio component playing your important audio</li>
<li class=""><code>Duck Volume</code> (Float) - Music volume during audio, 0.0 to 1.0 (default: 0.4)</li>
<li class=""><code>Fade Time</code> (Float) - Fade duration for ducking and restoration (default: 0.3)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnImportantAudio</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Spawn Sound 2D (Your Audio)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓ [Audio Component output]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Enable Audio Ducking</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Audio Component: [from above]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Duck Volume: 0.4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Fade Time: 0.3</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="volume-control">Volume Control<a href="#volume-control" class="hash-link" aria-label="Direct link to Volume Control" title="Direct link to Volume Control" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-master-music-volume">Set Master Music Volume<a href="#set-master-music-volume" class="hash-link" aria-label="Direct link to Set Master Music Volume" title="Direct link to Set Master Music Volume" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Master Music </span><span class="token function" style="color:rgb(80, 250, 123)">Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> FadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Sets the master volume for all music layers. Affects all active and future layers.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Volume</code> (Float) - Master volume 0.0 to 1.0</li>
<li class=""><code>Fade Time</code> (Float) - Fade duration in seconds (default: 0.5)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnSettingsChanged</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Master Music Volume</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Volume: 0.5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Fade Time: 1.0</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-master-music-volume">Get Master Music Volume<a href="#get-master-music-volume" class="hash-link" aria-label="Direct link to Get Master Music Volume" title="Direct link to Get Master Music Volume" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Master Music </span><span class="token function" style="color:rgb(80, 250, 123)">Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Returns the current master music volume.</p>
<p><strong>Returns:</strong> Float (0.0 - 1.0)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-layer-volume">Set Layer Volume<a href="#set-layer-volume" class="hash-link" aria-label="Direct link to Set Layer Volume" title="Direct link to Set Layer Volume" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Layer </span><span class="token function" style="color:rgb(80, 250, 123)">Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> FadeTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Set volume of a specific layer independently. Perfect for stem mixing or dynamic intensity control.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of layer to adjust</li>
<li class=""><code>Volume</code> (Float) - Layer volume 0.0 to 1.0</li>
<li class=""><code>Fade Time</code> (Float) - Fade duration in seconds (default: 0.5)</li>
</ul>
<p><strong>Usage Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnIntensityIncrease</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Layer Volume</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Combat_Drums&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Volume: 1.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Fade Time: 2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Layer Volume</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Combat_Orchestra&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Volume: 0.8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Fade Time: 2.0</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Fade drums in/out without stopping layer!</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-layer-volume">Get Layer Volume<a href="#get-layer-volume" class="hash-link" aria-label="Direct link to Get Layer Volume" title="Direct link to Get Layer Volume" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Layer </span><span class="token function" style="color:rgb(80, 250, 123)">Volume</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Get current volume of a specific layer.</p>
<p><strong>Returns:</strong> Float (0.0 - 1.0), or 0.0 if layer not found</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-structures">Data Structures<a href="#data-structures" class="hash-link" aria-label="Direct link to Data Structures" title="Direct link to Data Structures" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ferp_musiclayer">FERP_MusicLayer<a href="#ferp_musiclayer" class="hash-link" aria-label="Direct link to FERP_MusicLayer" title="Direct link to FERP_MusicLayer" translate="no">​</a></h3>
<p>Defines a single music layer with all its properties.</p>
<p><strong>Fields:</strong></p>
<ul>
<li class=""><code>Layer Name</code> (Name) - Unique identifier for this layer</li>
<li class=""><code>Music</code> (Soft Object Ptr&lt;Sound Base&gt;) - Music asset reference (lazy-loaded)</li>
<li class=""><code>Priority</code> (int32) - Layer priority 0-100 (higher plays first)</li>
<li class=""><code>Layer Mode</code> (ERP_EMusicLayerMode) - Replace or Additive</li>
<li class=""><code>Volume Multiplier</code> (float) - Volume 0.0 to 1.0</li>
<li class=""><code>Fade In Time</code> (float) - Fade in duration in seconds</li>
<li class=""><code>Fade Out Time</code> (float) - Fade out duration in seconds</li>
<li class=""><code>bLooping</code> (bool) - Loop the music</li>
<li class=""><code>bPersist Across Levels</code> (bool) - Keep playing during level transitions</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="ferp_stingerparams">FERP_StingerParams<a href="#ferp_stingerparams" class="hash-link" aria-label="Direct link to FERP_StingerParams" title="Direct link to FERP_StingerParams" translate="no">​</a></h3>
<p>Parameters for playing a stinger.</p>
<p><strong>Fields:</strong></p>
<ul>
<li class=""><code>Stinger Sound</code> (Sound Base*) - The stinger audio asset</li>
<li class=""><code>bDuck Music</code> (bool) - Lower background music during stinger</li>
<li class=""><code>Duck Volume</code> (float) - Music volume during stinger (0.0-1.0)</li>
<li class=""><code>Duck Fade Time</code> (float) - Fade time for ducking</li>
<li class=""><code>Restore Fade Time</code> (float) - Fade time for restoration</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="enums">Enums<a href="#enums" class="hash-link" aria-label="Direct link to Enums" title="Direct link to Enums" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="erp_emusiclayermode">ERP_EMusicLayerMode<a href="#erp_emusiclayermode" class="hash-link" aria-label="Direct link to ERP_EMusicLayerMode" title="Direct link to ERP_EMusicLayerMode" translate="no">​</a></h3>
<p>Defines how a layer interacts with others.</p>
<p><strong>Values:</strong></p>
<ul>
<li class=""><code>Replace</code> - Replaces all lower-priority layers. Only one Replace layer plays at a time.</li>
<li class=""><code>Additive</code> - Adds on top of the current Replace layer if priority is high enough.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="erp_equantization-new---quartz">ERP_EQuantization <strong>[NEW - Quartz]</strong><a href="#erp_equantization-new---quartz" class="hash-link" aria-label="Direct link to erp_equantization-new---quartz" title="Direct link to erp_equantization-new---quartz" translate="no">​</a></h3>
<p>Defines when a quantized action should execute.</p>
<p><strong>Values:</strong></p>
<ul>
<li class=""><code>None</code> - Execute immediately (no synchronization)</li>
<li class=""><code>Beat</code> - Wait for next beat (1/4 note in 4/4 time)</li>
<li class=""><code>Half Bar</code> - Wait for next half bar (2 beats in 4/4 time)</li>
<li class=""><code>Bar</code> - Wait for next full bar (complete measure)</li>
<li class=""><code>Two Bars</code> - Wait for 2 full bars (8 beats in 4/4 time)</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="quartz-beat-synchronization-new">Quartz Beat Synchronization <strong>[NEW]</strong><a href="#quartz-beat-synchronization-new" class="hash-link" aria-label="Direct link to quartz-beat-synchronization-new" title="Direct link to quartz-beat-synchronization-new" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quartz-clock-management">Quartz Clock Management<a href="#quartz-clock-management" class="hash-link" aria-label="Direct link to Quartz Clock Management" title="Direct link to Quartz Clock Management" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="initialize-quartz-clock">Initialize Quartz Clock<a href="#initialize-quartz-clock" class="hash-link" aria-label="Direct link to Initialize Quartz Clock" title="Direct link to Initialize Quartz Clock" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">InitializeQuartzClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BPM </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">120.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> BeatsPerBar </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Initialize or reconfigure the Quartz clock with new tempo and time signature. Auto-called on subsystem init.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>BPM</code> (float) - Beats per minute (30-300, default 120)</li>
<li class=""><code>Beats Per Bar</code> (int32) - Time signature beats (2-16, default 4)</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="start-music-clock">Start Music Clock<a href="#start-music-clock" class="hash-link" aria-label="Direct link to Start Music Clock" title="Direct link to Start Music Clock" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">StartMusicClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Start the Quartz clock. Auto-called on init, rarely needed manually.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="stop-music-clock">Stop Music Clock<a href="#stop-music-clock" class="hash-link" aria-label="Direct link to Stop Music Clock" title="Direct link to Stop Music Clock" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">StopMusicClock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Stop the Quartz clock. Use to pause beat synchronization.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-clock-bpm">Set Clock BPM<a href="#set-clock-bpm" class="hash-link" aria-label="Direct link to Set Clock BPM" title="Direct link to Set Clock BPM" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">SetClockBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">NewBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> TransitionTime </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Change the clock tempo, optionally with smooth transition.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>New BPM</code> (float) - Target tempo (30-300)</li>
<li class=""><code>Transition Time</code> (float) - Seconds to ramp to new tempo (0 = immediate)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set Clock BPM</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ New BPM: 180.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Transition Time: 2.0  ← Ramp over 2 seconds</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="is-clock-running">Is Clock Running<a href="#is-clock-running" class="hash-link" aria-label="Direct link to Is Clock Running" title="Direct link to Is Clock Running" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">IsClockRunning</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">bool</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Check if the Quartz clock is currently running.</p>
<p><strong>Returns:</strong> True if clock is active, false otherwise.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantized-layer-control">Quantized Layer Control<a href="#quantized-layer-control" class="hash-link" aria-label="Direct link to Quantized Layer Control" title="Direct link to Quantized Layer Control" translate="no">​</a></h3>
<blockquote>
<p><strong>Note:</strong> These functions are superseded by the <code>Quantization</code> parameter on standard Push/Pop functions. Use <code>Push Music Layer</code> with the <code>Quantization</code> parameter instead for cleaner code.</p>
</blockquote>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-layer-quantized-legacy">Push Music Layer Quantized (Legacy)<a href="#push-music-layer-quantized-legacy" class="hash-link" aria-label="Direct link to Push Music Layer Quantized (Legacy)" title="Direct link to Push Music Layer Quantized (Legacy)" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PushMusicLayerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Layer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> Bar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Push a music layer that starts on the next musical boundary (beat/bar) for seamless transitions.</p>
<p><strong>⚠️ Deprecated:</strong> Use <code>Push Music Layer</code> with <code>Quantization</code> parameter instead.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Layer</code> (FERP_MusicLayer) - Layer to push</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to start (Beat, HalfBar, Bar, TwoBars)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer: CombatLayer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← Waits for next bar</span><br></span></code></pre></div></div>
<p><strong>Modern Alternative:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Music: CombatMusic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← Same effect, cleaner</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pop-music-layer-quantized-legacy">Pop Music Layer Quantized (Legacy)<a href="#pop-music-layer-quantized-legacy" class="hash-link" aria-label="Direct link to Pop Music Layer Quantized (Legacy)" title="Direct link to Pop Music Layer Quantized (Legacy)" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PopMusicLayerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> Bar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Remove a music layer on the next musical boundary.</p>
<p><strong>⚠️ Deprecated:</strong> Use <code>Pop Music Layer</code> with <code>Quantization</code> parameter instead.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Layer Name</code> (Name) - Name of layer to remove</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to stop (Beat, HalfBar, Bar, TwoBars)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatEnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← Stops on next bar</span><br></span></code></pre></div></div>
<p><strong>Modern Alternative:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatEnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← Same effect, cleaner</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="timing-queries">Timing Queries<a href="#timing-queries" class="hash-link" aria-label="Direct link to Timing Queries" title="Direct link to Timing Queries" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-beat">Get Current Beat<a href="#get-current-beat" class="hash-link" aria-label="Direct link to Get Current Beat" title="Direct link to Get Current Beat" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → int32</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Get the current beat index within the bar.</p>
<p><strong>Returns:</strong> Beat number (1-4 in 4/4 time, 1-3 in 3/4 time, etc.)</p>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Current Beat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (Beat == 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ True → Spawn VFX on beat 1</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-bar">Get Current Bar<a href="#get-current-bar" class="hash-link" aria-label="Direct link to Get Current Bar" title="Direct link to Get Current Bar" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → int32</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Get the current bar (measure) number.</p>
<p><strong>Returns:</strong> Bar index (0, 1, 2, 3...)</p>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Get Current Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch (Bar % 4 == 0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ True → Boss attack every 4 bars</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-current-bpm">Get Current BPM<a href="#get-current-bpm" class="hash-link" aria-label="Direct link to Get Current BPM" title="Direct link to Get Current BPM" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetCurrentBPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Get the current tempo.</p>
<p><strong>Returns:</strong> BPM value (e.g., 120.0)</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-time-until-next-beat">Get Time Until Next Beat<a href="#get-time-until-next-beat" class="hash-link" aria-label="Direct link to Get Time Until Next Beat" title="Direct link to Get Time Until Next Beat" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetTimeUntilNextBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Calculate seconds until the next beat occurs.</p>
<p><strong>Returns:</strong> Time in seconds (e.g., 0.25)</p>
<p><strong>Use Case:</strong> Animation timing, rhythm game windows.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-time-until-next-bar">Get Time Until Next Bar<a href="#get-time-until-next-bar" class="hash-link" aria-label="Direct link to Get Time Until Next Bar" title="Direct link to Get Time Until Next Bar" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetTimeUntilNextBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">float</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Calculate seconds until the next bar starts.</p>
<p><strong>Returns:</strong> Time in seconds (e.g., 1.5)</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quantized-stingers">Quantized Stingers<a href="#quantized-stingers" class="hash-link" aria-label="Direct link to Quantized Stingers" title="Direct link to Quantized Stingers" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="play-stinger-quantized">Play Stinger Quantized<a href="#play-stinger-quantized" class="hash-link" aria-label="Direct link to Play Stinger Quantized" title="Direct link to Play Stinger Quantized" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PlayStingerQuantized</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">StingerSound</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> Beat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bDuckMusic </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DuckVolume </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">0.3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Play a stinger on the next musical boundary.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Stinger Sound</code> (Sound Base) - Audio to play</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - When to play (Beat, Bar, etc.)</li>
<li class=""><code>bDuck Music</code> (bool) - Lower music during stinger</li>
<li class=""><code>Duck Volume</code> (float) - Music volume during stinger (0.0-1.0)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Play Stinger Quantized</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Sound: VictoryFanfare</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Quantization: Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Duck Music: True</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Duck Volume: 0.3</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="quartz-events">Quartz Events<a href="#quartz-events" class="hash-link" aria-label="Direct link to Quartz Events" title="Direct link to Quartz Events" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onbeat">OnBeat<a href="#onbeat" class="hash-link" aria-label="Direct link to OnBeat" title="Direct link to OnBeat" translate="no">​</a></h4>
<p><strong>Description:</strong> Event fired on every musical beat.</p>
<p><strong>Delegates:</strong></p>
<ul>
<li class=""><code>Beat Index</code> (int32) - Current beat (1-4 in 4/4 time)</li>
<li class=""><code>Bar Index</code> (int32) - Current bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to OnBeat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OnBeat(BeatIndex, BarIndex, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">If BeatIndex == 1 (downbeat)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Spawn Flash VFX</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="onbar">OnBar<a href="#onbar" class="hash-link" aria-label="Direct link to OnBar" title="Direct link to OnBar" translate="no">​</a></h4>
<p><strong>Description:</strong> Event fired at the start of each bar.</p>
<p><strong>Delegates:</strong></p>
<ul>
<li class=""><code>Bar Index</code> (int32) - Bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="gameplaytag-integration">GameplayTag Integration<a href="#gameplaytag-integration" class="hash-link" aria-label="Direct link to GameplayTag Integration" title="Direct link to GameplayTag Integration" translate="no">​</a></h2>
<p>Control music using GameplayTags for modern tag-driven architecture.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="setup">Setup<a href="#setup" class="hash-link" aria-label="Direct link to Setup" title="Direct link to Setup" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-music-tag-registry">Create Music Tag Registry<a href="#create-music-tag-registry" class="hash-link" aria-label="Direct link to Create Music Tag Registry" title="Direct link to Create Music Tag Registry" translate="no">​</a></h4>
<ol>
<li class="">Right-click Content Browser → <strong>Miscellaneous → Data Asset</strong></li>
<li class="">Choose <strong>ERP Layer Tag Registry</strong> (<code>UERP_MusicTagRegistry</code>)</li>
<li class="">Open asset, add entries to &quot;Tagged Layers&quot; map:<!-- -->
<ul>
<li class=""><strong>Key:</strong> GameplayTag (e.g., <code>Music.Combat</code>)</li>
<li class=""><strong>Value:</strong> FERP_MusicLayer (configure layer settings)</li>
</ul>
</li>
<li class="">Save asset</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-project-settings">Configure Project Settings<a href="#configure-project-settings" class="hash-link" aria-label="Direct link to Configure Project Settings" title="Direct link to Configure Project Settings" translate="no">​</a></h4>
<ol>
<li class=""><strong>Edit → Project Settings → Game → ERP Music Subsystem</strong></li>
<li class="">Set <strong>Global Layer Tag Registry</strong> to your DataAsset</li>
<li class="">Restart editor</li>
</ol>
<p>(Success) Registry auto-loads on game start, persists entire session.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="tag-based-functions">Tag-Based Functions<a href="#tag-based-functions" class="hash-link" aria-label="Direct link to Tag-Based Functions" title="Direct link to Tag-Based Functions" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="load-tag-registry">Load Tag Registry<a href="#load-tag-registry" class="hash-link" aria-label="Direct link to Load Tag Registry" title="Direct link to Load Tag Registry" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">LoadTagRegistry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Registry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bAppend </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Manually load a music tag registry. Auto-loaded from Project Settings on startup.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Registry</code> (UERP_MusicTagRegistry*) - DataAsset with tag→layer mappings</li>
<li class=""><code>bAppend</code> (bool) - Add to existing registry (true) or replace (false)</li>
</ul>
<p><strong>Use Case:</strong> Per-level music registries, DLC music packs.</p>
<blockquote>
<p><strong>Note:</strong> The class is <code>UERP_MusicTagRegistry</code> in C++. In the editor it appears as <strong>ERP Layer Tag Registry</strong>.</p>
</blockquote>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-layer-by-tag">Push Music Layer By Tag<a href="#push-music-layer-by-tag" class="hash-link" aria-label="Direct link to Push Music Layer By Tag" title="Direct link to Push Music Layer By Tag" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PushMusicLayerByTag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Push a music layer using its GameplayTag. <strong>Fallback to parent tag</strong> if exact match not found.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Tag</code> (FGameplayTag) - Tag to search (e.g., <code>Music.Combat.Boss</code>)</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Fallback Behavior:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Search: Music.Combat.Boss</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  → Not found, try Music.Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  → FOUND! (Success) Uses Music.Combat layer</span><br></span></code></pre></div></div>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatStart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Tag: Music.Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← NEW: Wait for next bar</span><br></span></code></pre></div></div>
<p><strong>Advanced Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Registry:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Combat       → Generic Combat Music</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Combat.Boss  → Boss-Specific Music</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Code:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  PushMusicLayerByTag(&quot;Music.Combat.Elite&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    → Exact match not found</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    → Falls back to &quot;Music.Combat&quot; (Success)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  PushMusicLayerByTag(&quot;Music.Combat.Boss&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    → Exact match found! (Success)</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pop-music-layer-by-tag">Pop Music Layer By Tag<a href="#pop-music-layer-by-tag" class="hash-link" aria-label="Direct link to Pop Music Layer By Tag" title="Direct link to Pop Music Layer By Tag" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PopMusicLayerByTag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Remove active layer by its tag (exact match only).</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Tag</code> (FGameplayTag) - Tag of layer to remove</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>⚠️ Important - Tag Usage:</strong></p>
<ul>
<li class="">The tag is only used to look up the layer in the registry</li>
<li class="">Both <code>Push</code> and <code>Pop</code> use the same tag to find the layer</li>
<li class="">Internally, layers are identified by their <code>LayerName</code> property</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Registry:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Key: &quot;Music.Combat&quot; → Layer { LayerName: &quot;Battle_Theme&quot; }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✅ PushMusicLayerByTag(&quot;Music.Combat&quot;) → Finds layer, pushes by LayerName</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">✅ PopMusicLayerByTag(&quot;Music.Combat&quot;)  → Finds layer, pops by LayerName</span><br></span></code></pre></div></div>
<p>💡 <strong>How it works:</strong> Tags map to layers in the registry, then operations use <code>LayerName</code> internally.</p>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnCombatEnd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Tag: Music.Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← NEW: Wait for next bar</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="is-layer-active-by-tag">Is Layer Active By Tag<a href="#is-layer-active-by-tag" class="hash-link" aria-label="Direct link to Is Layer Active By Tag" title="Direct link to Is Layer Active By Tag" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">IsLayerActiveByTag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">bool</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Check if a layer with this tag is currently playing.</p>
<p><strong>Returns:</strong> True if active, false otherwise.</p>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Branch: Is Layer Active By Tag(&quot;Music.Combat&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ True: Skip combat music trigger</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ False: Push combat music</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="get-active-layer-tags">Get Active Layer Tags<a href="#get-active-layer-tags" class="hash-link" aria-label="Direct link to Get Active Layer Tags" title="Direct link to Get Active Layer Tags" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">GetActiveLayerTags</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> → TArray</span><span class="token operator">&lt;</span><span class="token plain">FGameplayTag</span><span class="token operator">&gt;</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Get all GameplayTags of currently active layers.</p>
<p><strong>Returns:</strong> Array of tags (e.g., <code>[Music.Exploration, Music.Ambience]</code>)</p>
<p><strong>Use Case:</strong> Debug UI, music state visualization.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="preset-registry-system">Preset Registry System<a href="#preset-registry-system" class="hash-link" aria-label="Direct link to Preset Registry System" title="Direct link to Preset Registry System" translate="no">​</a></h3>
<p>Control groups of layers (presets) using GameplayTags.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="create-music-preset-registry">Create Music Preset Registry<a href="#create-music-preset-registry" class="hash-link" aria-label="Direct link to Create Music Preset Registry" title="Direct link to Create Music Preset Registry" translate="no">​</a></h4>
<ol>
<li class="">Right-click Content Browser → <strong>Miscellaneous → Data Asset</strong></li>
<li class="">Choose <strong>ERP_MusicPresetRegistry</strong></li>
<li class="">Open asset, add entries to &quot;Tagged Presets&quot; map:<!-- -->
<ul>
<li class=""><strong>Key:</strong> GameplayTag (e.g., <code>Music.Location.Dungeon</code>)</li>
<li class=""><strong>Value:</strong> ERP_MusicLayerPreset DataAsset</li>
</ul>
</li>
<li class="">Save asset</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="configure-project-settings-1">Configure Project Settings<a href="#configure-project-settings-1" class="hash-link" aria-label="Direct link to Configure Project Settings" title="Direct link to Configure Project Settings" translate="no">​</a></h4>
<ol>
<li class=""><strong>Edit → Project Settings → Game → ERP Music Subsystem</strong></li>
<li class="">Set <strong>Global Preset Tag Registry</strong> to your DataAsset</li>
<li class="">Restart editor</li>
</ol>
<p>(Success) Preset registry auto-loads on game start, persists entire session.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="load-preset-registry">Load Preset Registry<a href="#load-preset-registry" class="hash-link" aria-label="Direct link to Load Preset Registry" title="Direct link to Load Preset Registry" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">LoadPresetRegistry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Registry</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bAppend </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Manually load a preset registry. Auto-loaded from Project Settings on startup.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Registry</code> (ERP_MusicPresetRegistry*) - DataAsset with tag→preset mappings</li>
<li class=""><code>bAppend</code> (bool) - Add to existing registry (true) or replace (false)</li>
</ul>
<p><strong>Use Case:</strong> Per-level preset registries, DLC music packs.</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="push-music-preset-by-tag">Push Music Preset By Tag<a href="#push-music-preset-by-tag" class="hash-link" aria-label="Direct link to Push Music Preset By Tag" title="Direct link to Push Music Preset By Tag" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PushMusicPresetByTag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> bClearExisting </span><span class="token operator">=</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Push all layers from a preset using its GameplayTag. <strong>Fallback to parent tag</strong> if exact match not found.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Tag</code> (FGameplayTag) - Tag to search (e.g., <code>Music.Location.Dungeon</code>)</li>
<li class=""><code>bClearExisting</code> (bool) - Clear all existing music before pushing preset</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnEnterDungeon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Preset By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Tag: Music.Location.Dungeon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Clear Existing: false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← NEW: Beat-sync transition</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> One function call to set up entire music scene (ambient + tension + effects).</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pop-music-preset-by-tag">Pop Music Preset By Tag<a href="#pop-music-preset-by-tag" class="hash-link" aria-label="Direct link to Pop Music Preset By Tag" title="Direct link to Pop Music Preset By Tag" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">PopMusicPresetByTag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Tag</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Quantization </span><span class="token operator">=</span><span class="token plain"> None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Remove all layers from a preset by its tag. <strong>Fallback to parent tag</strong> if exact match not found.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Tag</code> (FGameplayTag) - Tag of preset to remove</li>
<li class=""><code>Quantization</code> (ERP_EQuantization) - Beat sync option: None (immediate), Beat, HalfBar, Bar, TwoBars (default: None)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnExitDungeon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Preset By Tag</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Tag: Music.Location.Dungeon</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Quantization: Bar  ← NEW: Wait for next bar</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="layer-vs-preset-registry-when-to-use-what">Layer vs Preset Registry: When to Use What?<a href="#layer-vs-preset-registry-when-to-use-what" class="hash-link" aria-label="Direct link to Layer vs Preset Registry: When to Use What?" title="Direct link to Layer vs Preset Registry: When to Use What?" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-layer-tag-registry-uerp_musictagregistry-when">Use Layer Tag Registry (<code>UERP_MusicTagRegistry</code>) when:<a href="#use-layer-tag-registry-uerp_musictagregistry-when" class="hash-link" aria-label="Direct link to use-layer-tag-registry-uerp_musictagregistry-when" title="Direct link to use-layer-tag-registry-uerp_musictagregistry-when" translate="no">​</a></h4>
<ul>
<li class="">✅ Single layer, used once</li>
<li class="">✅ Simple configuration</li>
<li class="">✅ Rapid prototyping</li>
<li class="">✅ No need to reuse elsewhere</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">TagRegistry:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Cutscene.Intro → { Inline layer config }</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-preset-registry-erp_musicpresetregistry-when">Use Preset Registry (<code>ERP_MusicPresetRegistry</code>) when:<a href="#use-preset-registry-erp_musicpresetregistry-when" class="hash-link" aria-label="Direct link to use-preset-registry-erp_musicpresetregistry-when" title="Direct link to use-preset-registry-erp_musicpresetregistry-when" translate="no">​</a></h4>
<ul>
<li class="">✅ Reusable configuration (even 1 layer!)</li>
<li class="">✅ Multiple layers together (scene setup)</li>
<li class="">✅ Shared across systems (volumes, events, triggers)</li>
<li class="">✅ Need variants (Dungeon_Tense, Dungeon_Calm)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">PresetRegistry:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  Music.Location.Dungeon → DA_DungeonPreset</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer 0: Base Ambience</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer 1: Dripping Water</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Layer 2: Distant Growls</span><br></span></code></pre></div></div>
<p>💡 <strong>Pro Tip:</strong> Presets with 1 layer = Reusable single layer!</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="gameplaytag-best-practices">GameplayTag Best Practices<a href="#gameplaytag-best-practices" class="hash-link" aria-label="Direct link to GameplayTag Best Practices" title="Direct link to GameplayTag Best Practices" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="tag-hierarchy-design">Tag Hierarchy Design<a href="#tag-hierarchy-design" class="hash-link" aria-label="Direct link to Tag Hierarchy Design" title="Direct link to Tag Hierarchy Design" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Music                      (Root - never used directly)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├─ Music.Menu              (Menu music)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├─ Music.Exploration       (Exploration music)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├─ Music.Combat            (Generic combat - DEFAULT)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│  ├─ Music.Combat.Boss    (Boss-specific)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│  ├─ Music.Combat.Elite   (Elite enemy)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│  └─ Music.Combat.Stealth (Stealth combat)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">└─ Music.Ambience          (Ambient layers)</span><br></span></code></pre></div></div>
<p><strong>Rule:</strong> Always define parent tags as fallbacks!</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="registry-organization">Registry Organization<a href="#registry-organization" class="hash-link" aria-label="Direct link to Registry Organization" title="Direct link to Registry Organization" translate="no">​</a></h4>
<p><strong>Option 1: Single Global Registry</strong> (Recommended)</p>
<ul>
<li class="">One registry with all music tags</li>
<li class="">Configure in Project Settings → auto-loaded</li>
<li class="">Simple, works for 90% of games</li>
</ul>
<p><strong>Option 2: Per-Level Registries</strong> (Advanced)</p>
<ul>
<li class="">Base registry (Project Settings)</li>
<li class="">Level-specific registries (load manually)</li>
<li class="">Use <code>LoadTagRegistry(LevelMusic, bAppend=true)</code></li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="tag-vs-layer-name">Tag vs. Layer Name<a href="#tag-vs-layer-name" class="hash-link" aria-label="Direct link to Tag vs. Layer Name" title="Direct link to Tag vs. Layer Name" translate="no">​</a></h4>
<p><strong>Use Tags when:</strong></p>
<ul>
<li class="">(Success) GAS integration (Gameplay Ability System)</li>
<li class="">(Success) Event-driven architecture</li>
<li class="">(Success) Dynamic music selection</li>
<li class="">(Success) Designer-friendly workflow</li>
</ul>
<p><strong>Use Layer Names when:</strong></p>
<ul>
<li class="">(Success) Simple projects</li>
<li class="">(Success) Known at compile-time</li>
<li class="">(Success) No tag infrastructure</li>
</ul>
<p><strong>Both work!</strong> Tags = modern, names = classic.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="metasound-control">MetaSound Control<a href="#metasound-control" class="hash-link" aria-label="Direct link to MetaSound Control" title="Direct link to MetaSound Control" translate="no">​</a></h2>
<p>Control MetaSound parameters and triggers on active music layers.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-metasound-parameter">Set MetaSound Parameter<a href="#set-metasound-parameter" class="hash-link" aria-label="Direct link to Set MetaSound Parameter" title="Direct link to Set MetaSound Parameter" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">SetMetaSoundParameter</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ParameterName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Set a float parameter on a MetaSound layer. For volume mixing, effects, or any exposed float.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of active layer with MetaSound</li>
<li class=""><code>Parameter Name</code> (Name) - MetaSound parameter to set (e.g., &quot;Drums_Volume&quot;)</li>
<li class=""><code>Value</code> (Float) - Parameter value</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnIntensityChange</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Parameter</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Parameter Name: &quot;Drums_Volume&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Value: 0.8</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Stem mixing, crossfades, effect intensities</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="trigger-metasound-event">Trigger MetaSound Event<a href="#trigger-metasound-event" class="hash-link" aria-label="Direct link to Trigger MetaSound Event" title="Direct link to Trigger MetaSound Event" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">TriggerMetaSoundEvent</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> TriggerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Trigger an event/trigger parameter on a MetaSound layer. Use for one-shot actions.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of active layer with MetaSound</li>
<li class=""><code>Trigger Name</code> (Name) - MetaSound trigger to fire (e.g., &quot;OnPhase2&quot;, &quot;BeatDrop&quot;)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Trigger MetaSound Event</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Boss&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Trigger Name: &quot;OnPhase2&quot;</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Phase transitions, beat drops, musical events</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-metasound-bool">Set MetaSound Bool<a href="#set-metasound-bool" class="hash-link" aria-label="Direct link to Set MetaSound Bool" title="Direct link to Set MetaSound Bool" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">SetMetaSoundBool</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ParameterName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Set a boolean parameter on a MetaSound layer.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of active layer with MetaSound</li>
<li class=""><code>Parameter Name</code> (Name) - MetaSound bool parameter (e.g., &quot;IsIntense&quot;)</li>
<li class=""><code>Value</code> (Boolean) - True or False</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnLowHealth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Bool</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Parameter Name: &quot;IsIntense&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Value: true</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Toggle effects, enable/disable stems, state switches</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="set-metasound-int">Set MetaSound Int<a href="#set-metasound-int" class="hash-link" aria-label="Direct link to Set MetaSound Int" title="Direct link to Set MetaSound Int" translate="no">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">SetMetaSoundInt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">WorldContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> LayerName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ParameterName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Set an integer parameter on a MetaSound layer.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>World Context Object</code> (Object) - World context (automatic in Blueprint)</li>
<li class=""><code>Layer Name</code> (Name) - Name of active layer with MetaSound</li>
<li class=""><code>Parameter Name</code> (Name) - MetaSound int parameter (e.g., &quot;PhaseIndex&quot;)</li>
<li class=""><code>Value</code> (Integer) - Integer value</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnPhaseChange(PhaseNum)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Int</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Boss&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Parameter Name: &quot;PhaseIndex&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Value: PhaseNum</span><br></span></code></pre></div></div>
<p><strong>Use Case:</strong> Phase indices, difficulty levels, pattern selectors</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metasound-setup-example">MetaSound Setup Example<a href="#metasound-setup-example" class="hash-link" aria-label="Direct link to MetaSound Setup Example" title="Direct link to MetaSound Setup Example" translate="no">​</a></h3>
<p><strong>MetaSound Source: &quot;Combat_Music_Stems&quot;</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Exposed Inputs:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Drums_Volume (Float, 0-1, default: 1.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Bass_Volume (Float, 0-1, default: 1.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - Guitar_Volume (Float, 0-1, default: 0.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - OnPhase2 (Trigger)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - IsIntense (Bool, default: false)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - PhaseIndex (Int32, default: 1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Internal Logic:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [Drums Wave] → [Gain: Drums_Volume] ↘</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [Bass Wave]  → [Gain: Bass_Volume]  → [Mixer] → Output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  [Guitar Wave]→ [Gain: Guitar_Volume]↗</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  OnPhase2 Trigger → Crossfade to Phase2 stems</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  IsIntense == true → Add distortion filter</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  PhaseIndex → Select stem set</span><br></span></code></pre></div></div>
<p><strong>Blueprint Usage:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  └─ Music: Combat_Music_Stems (MetaSound)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnEnemySpawn</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Parameter (&quot;Combat&quot;, &quot;Drums_Volume&quot;, 1.0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Parameter (&quot;Combat&quot;, &quot;Guitar_Volume&quot;, 0.8)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event OnBossPhase2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Trigger MetaSound Event (&quot;Combat&quot;, &quot;OnPhase2&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Bool (&quot;Combat&quot;, &quot;IsIntense&quot;, true)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Set MetaSound Int (&quot;Combat&quot;, &quot;PhaseIndex&quot;, 2)</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metasound-best-practices">MetaSound Best Practices<a href="#metasound-best-practices" class="hash-link" aria-label="Direct link to MetaSound Best Practices" title="Direct link to MetaSound Best Practices" translate="no">​</a></h3>
<p><strong>Parameter Naming:</strong></p>
<ul>
<li class="">(Success) <code>Drums_Volume</code>, <code>Bass_Volume</code> - Clear, descriptive</li>
<li class="">(Avoid) <code>Vol1</code>, <code>Vol2</code> - Ambiguous</li>
</ul>
<p><strong>Trigger Naming:</strong></p>
<ul>
<li class="">(Success) <code>OnPhase2</code>, <code>BeatDrop</code>, <code>ApplyEffect</code> - Action-oriented</li>
<li class="">(Avoid) <code>Trigger1</code>, <code>T</code> - Unclear</li>
</ul>
<p><strong>Parameter Ranges:</strong></p>
<ul>
<li class="">Volumes: 0.0 - 1.0 (or 0.0 - 2.0 for boost)</li>
<li class="">Bools: True/False for toggles</li>
<li class="">Ints: Phase indices (1, 2, 3), pattern IDs</li>
</ul>
<p><strong>Performance:</strong></p>
<ul>
<li class="">(Success) Parameter changes are cheap (~0.01ms)</li>
<li class="">(Success) Triggers are instant</li>
<li class="">(CAUTION) Avoid setting same parameter every frame (cache values)</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="metasound-vs-multiple-layers">MetaSound vs Multiple Layers<a href="#metasound-vs-multiple-layers" class="hash-link" aria-label="Direct link to MetaSound vs Multiple Layers" title="Direct link to MetaSound vs Multiple Layers" translate="no">​</a></h3>
<table><thead><tr><th>Approach</th><th>Setup</th><th>Control</th><th>Sync</th><th>Memory</th></tr></thead><tbody><tr><td><strong>Multiple Layers</strong></td><td>Fast</td><td>Volume only</td><td>Can drift</td><td>4× components</td></tr><tr><td><strong>MetaSound Multi-Input</strong></td><td>10 min</td><td>Full control</td><td>Perfect</td><td>1 component</td></tr></tbody></table>
<p><strong>Recommendation:</strong> Use MetaSound for stems, multiple layers for separate tracks!</p>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="on-beat-event">On Beat Event<a href="#on-beat-event" class="hash-link" aria-label="Direct link to On Beat Event" title="Direct link to On Beat Event" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">OnBeat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BeatIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> BarIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> BPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Delegate that fires on every musical beat.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Beat Index</code> (int32) - Current beat (1-4 in 4/4 time)</li>
<li class=""><code>Bar Index</code> (int32) - Current bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to On Beat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Beat (Beat=1, Bar, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Spawn Flash VFX  ← Every beat 1</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="on-bar-event">On Bar Event<a href="#on-bar-event" class="hash-link" aria-label="Direct link to On Bar Event" title="Direct link to On Bar Event" translate="no">​</a></h4>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">OnBar</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">BarIndex</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> BPM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre></div></div>
<p><strong>Description:</strong> Delegate that fires on every bar (measure) start.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li class=""><code>Bar Index</code> (int32) - Current bar number</li>
<li class=""><code>BPM</code> (float) - Current tempo</li>
</ul>
<p><strong>Example:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Event BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Bind Event to On Bar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Bar (Bar, BPM)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Print String (&quot;Bar {Bar}&quot;)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="data-assets">Data Assets<a href="#data-assets" class="hash-link" aria-label="Direct link to Data Assets" title="Direct link to Data Assets" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="uerp_musiclayerpreset">UERP_MusicLayerPreset<a href="#uerp_musiclayerpreset" class="hash-link" aria-label="Direct link to UERP_MusicLayerPreset" title="Direct link to UERP_MusicLayerPreset" translate="no">​</a></h3>
<p>Reusable configuration containing multiple music layers.</p>
<p><strong>Fields:</strong></p>
<ul>
<li class=""><code>Preset Name</code> (String) - Descriptive name for this configuration</li>
<li class=""><code>Layers</code> (Array&lt;FERP_MusicLayer&gt;) - All layers in this configuration</li>
<li class=""><code>Default Fade Time</code> (float) - Default fade time for layers without explicit values</li>
</ul>
<p><strong>Usage:</strong> Create in Content Browser → Right-click → Miscellaneous → Data Asset → UERP_MusicLayerPreset</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="actors--components">Actors &amp; Components<a href="#actors--components" class="hash-link" aria-label="Direct link to Actors &amp; Components" title="Direct link to Actors &amp; Components" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="aerp_musicvolume">AERP_MusicVolume<a href="#aerp_musicvolume" class="hash-link" aria-label="Direct link to AERP_MusicVolume" title="Direct link to AERP_MusicVolume" translate="no">​</a></h3>
<p>Level-placed music trigger volume with flexible activation modes and content types.</p>
<p><strong>Uses BrushComponent</strong> - Shape volume however you want (box, sphere, custom brush)</p>
<p><strong>Volume Modes:</strong></p>
<ul>
<li class=""><code>Toggle</code> - Activates on enter, deactivates on exit</li>
<li class=""><code>Enable</code> - Activates on enter only</li>
<li class=""><code>Disable</code> - Deactivates on enter only</li>
</ul>
<p><strong>Content Types:</strong></p>
<ul>
<li class=""><code>Single Layer</code> - Push one music layer</li>
<li class=""><code>Single Preset</code> - Push one preset</li>
<li class=""><code>Layer List</code> - Push multiple layers at once</li>
<li class=""><code>Preset List</code> - Push multiple presets at once</li>
<li class=""><code>By Tag (Layer Registry)</code> - Look up layers from Layer Registry by tag(s)</li>
<li class=""><code>By Tag (Preset Registry)</code> - Look up presets from Preset Registry by tag(s)</li>
</ul>
<p><strong>Core Properties:</strong></p>
<ul>
<li class=""><code>Volume Mode</code> (EERP_MusicVolumeMode) - Toggle/Enable/Disable</li>
<li class=""><code>Content Type</code> (EERP_MusicContentType) - What to activate</li>
<li class=""><code>Disable Mode</code> (EERP_MusicDisableMode) - How to deactivate (ByContent/ByTag/ClearAll)</li>
</ul>
<p><strong>Single Layer Properties:</strong></p>
<ul>
<li class=""><code>Layer Name</code> (Name) - Layer identifier</li>
<li class=""><code>Music</code> (Sound Base) - Music to play</li>
<li class=""><code>Priority</code> (int32) - Layer priority</li>
<li class=""><code>Layer Mode</code> (ERP_EMusicLayerMode) - Replace or Additive</li>
<li class=""><code>Volume Multiplier</code> (float) - Volume 0.0 to 1.0</li>
<li class=""><code>Fade In Time</code> (float) - Fade in duration</li>
<li class=""><code>Fade Out Time</code> (float) - Fade out duration</li>
</ul>
<p><strong>Single Preset Properties:</strong></p>
<ul>
<li class=""><code>Music Preset</code> (UERP_MusicLayerPreset*) - Preset to apply</li>
</ul>
<p><strong>List Properties:</strong></p>
<ul>
<li class=""><code>Music Layers</code> (TArray&lt;FERP_MusicLayer&gt;) - List of layers</li>
<li class=""><code>Music Presets</code> (TArray&lt;UERP_MusicLayerPreset*&gt;) - List of presets</li>
</ul>
<p><strong>Tag Properties:</strong></p>
<ul>
<li class=""><code>Layer Tags</code> (TArray&lt;FGameplayTag&gt;) - Tags to look up in Layer Registry (ByTagLayers mode)</li>
<li class=""><code>Preset Tags</code> (TArray&lt;FGameplayTag&gt;) - Tags to look up in Preset Registry (ByTagPresets mode)</li>
</ul>
<p><strong>Advanced Properties:</strong></p>
<ul>
<li class=""><code>Actor Filter Tag</code> (FGameplayTag) - Only trigger for actors with this tag (via IGameplayTagAssetInterface)</li>
<li class=""><code>bTrigger Once</code> (bool) - Only trigger the first time</li>
<li class=""><code>bClear Existing Music</code> (bool) - Stop all music before activating</li>
<li class=""><code>bPersist Across Levels</code> (bool) - Keep music active when changing levels (only for Enable/Toggle modes)</li>
</ul>
<p><strong>Usage Examples:</strong></p>
<ul>
<li class=""><strong>Toggle mode:</strong> Place box volume around area - music plays inside, stops outside</li>
<li class=""><strong>Enable mode:</strong> Place sphere at dungeon entrance - activates combat music</li>
<li class=""><strong>Disable mode:</strong> Place sphere at dungeon exit - stops combat music</li>
<li class=""><strong>Multiple tags:</strong> Use ByTagLayers with <code>[Music.Combat, Music.Tension]</code> to activate multiple layers at once</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="subsystem">Subsystem<a href="#subsystem" class="hash-link" aria-label="Direct link to Subsystem" title="Direct link to Subsystem" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="uerp_musicsubsystem">UERP_MusicSubsystem<a href="#uerp_musicsubsystem" class="hash-link" aria-label="Direct link to UERP_MusicSubsystem" title="Direct link to UERP_MusicSubsystem" translate="no">​</a></h3>
<p>GameInstanceSubsystem that manages all music layers. Automatically created by Unreal Engine - no manual setup needed.</p>
<p><strong>Lifetime:</strong> Created on game start, persists across levels, destroyed on game shutdown.</p>
<p><strong>Access:</strong> All UERP_MusicHelper functions internally use this subsystem. Direct access not needed in Blueprint.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="usage-patterns">Usage Patterns<a href="#usage-patterns" class="hash-link" aria-label="Direct link to Usage Patterns" title="Direct link to Usage Patterns" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-1-basic-music-playback">Pattern 1: Basic Music Playback<a href="#pattern-1-basic-music-playback" class="hash-link" aria-label="Direct link to Pattern 1: Basic Music Playback" title="Direct link to Pattern 1: Basic Music Playback" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Level BeginPlay</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Background&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Music: BackgroundMusic</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Priority: 0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-2-combat-music-system">Pattern 2: Combat Music System<a href="#pattern-2-combat-music-system" class="hash-link" aria-label="Direct link to Pattern 2: Combat Music System" title="Direct link to Pattern 2: Combat Music System" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Enter Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Combat&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Priority: 10</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Layer Mode: Replace</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Exit Combat</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Pop Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Layer Name: &quot;Combat&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="pattern-3-additive-tension-layer">Pattern 3: Additive Tension Layer<a href="#pattern-3-additive-tension-layer" class="hash-link" aria-label="Direct link to Pattern 3: Additive Tension Layer" title="Direct link to Pattern 3: Additive Tension Layer" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Base exploration playing at Priority 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">On Enemy Nearby</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ↓</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Push Music Layer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Name: &quot;Tension&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Priority: 5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ├─ Layer Mode: Additive</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    └─ Volume: 0.7</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<ol>
<li class=""><strong>Use descriptive layer names</strong> - &quot;Combat&quot;, &quot;BossFight&quot;, &quot;TensionLayer&quot; are clear</li>
<li class=""><strong>Reserve priority 15+</strong> for special events (bosses, cutscenes)</li>
<li class=""><strong>Always Pop layers</strong> - Prevents memory leaks and layer stack bloat</li>
<li class=""><strong>Use Replace for main music</strong> - Combat, exploration, menu themes</li>
<li class=""><strong>Use Additive for atmospheres</strong> - Tension layers, weather, environmental sounds</li>
<li class=""><strong>Enable persistence sparingly</strong> - Only for music that should span level loads</li>
<li class=""><strong>Set appropriate fade times</strong> - 1-2 seconds for smooth transitions, avoid &gt;5 seconds</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-considerations">Performance Considerations<a href="#performance-considerations" class="hash-link" aria-label="Direct link to Performance Considerations" title="Direct link to Performance Considerations" translate="no">​</a></h2>
<ul>
<li class="">System is lightweight: ~10-50 KB memory overhead</li>
<li class="">Audio component pooling: automatic, no management needed</li>
<li class="">Typical usage: 2-5 active layers (optimal)</li>
<li class="">10+ layers: still fine, consider consolidation if more</li>
<li class="">Music assets loaded on-demand via soft references</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/RogueParadigm/ElysMusicEngine/tree/main/Documentation/../Documentation/API-Reference.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ElysMusicEngine/multiplayer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Multiplayer Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ElysMusicEngine/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#blueprint-function-library-uerp_musichelper" class="table-of-contents__link toc-highlight">Blueprint Function Library: UERP_MusicHelper</a></li><li><a href="#layer-control" class="table-of-contents__link toc-highlight">Layer Control</a><ul><li><a href="#push-music-layer" class="table-of-contents__link toc-highlight">Push Music Layer</a></li><li><a href="#pop-music-layer" class="table-of-contents__link toc-highlight">Pop Music Layer</a></li><li><a href="#push-music-layer-advanced" class="table-of-contents__link toc-highlight">Push Music Layer Advanced</a></li><li><a href="#clear-all-music-layers" class="table-of-contents__link toc-highlight">Clear All Music Layers</a></li></ul></li><li><a href="#presets" class="table-of-contents__link toc-highlight">Presets</a><ul><li><a href="#push-music-preset" class="table-of-contents__link toc-highlight">Push Music Preset</a></li></ul></li><li><a href="#query-functions" class="table-of-contents__link toc-highlight">Query Functions</a><ul><li><a href="#is-layer-active" class="table-of-contents__link toc-highlight">Is Layer Active</a></li><li><a href="#get-active-layer-names" class="table-of-contents__link toc-highlight">Get Active Layer Names</a></li></ul></li><li><a href="#stingers" class="table-of-contents__link toc-highlight">Stingers</a><ul><li><a href="#play-stinger" class="table-of-contents__link toc-highlight">Play Stinger</a></li><li><a href="#play-stinger-advanced" class="table-of-contents__link toc-highlight">Play Stinger Advanced</a></li><li><a href="#play-stinger-at-location" class="table-of-contents__link toc-highlight">Play Stinger At Location</a></li><li><a href="#stinger-volume-aerp_stingervolume" class="table-of-contents__link toc-highlight">Stinger Volume (<code>AERP_StingerVolume</code>)</a></li></ul></li><li><a href="#audio-ducking" class="table-of-contents__link toc-highlight">Audio Ducking</a><ul><li><a href="#enable-audio-ducking" class="table-of-contents__link toc-highlight">Enable Audio Ducking</a></li></ul></li><li><a href="#volume-control" class="table-of-contents__link toc-highlight">Volume Control</a><ul><li><a href="#set-master-music-volume" class="table-of-contents__link toc-highlight">Set Master Music Volume</a></li><li><a href="#get-master-music-volume" class="table-of-contents__link toc-highlight">Get Master Music Volume</a></li><li><a href="#set-layer-volume" class="table-of-contents__link toc-highlight">Set Layer Volume</a></li><li><a href="#get-layer-volume" class="table-of-contents__link toc-highlight">Get Layer Volume</a></li></ul></li><li><a href="#data-structures" class="table-of-contents__link toc-highlight">Data Structures</a><ul><li><a href="#ferp_musiclayer" class="table-of-contents__link toc-highlight">FERP_MusicLayer</a></li><li><a href="#ferp_stingerparams" class="table-of-contents__link toc-highlight">FERP_StingerParams</a></li></ul></li><li><a href="#enums" class="table-of-contents__link toc-highlight">Enums</a><ul><li><a href="#erp_emusiclayermode" class="table-of-contents__link toc-highlight">ERP_EMusicLayerMode</a></li><li><a href="#erp_equantization-new---quartz" class="table-of-contents__link toc-highlight">ERP_EQuantization <strong>[NEW - Quartz]</strong></a></li></ul></li><li><a href="#quartz-beat-synchronization-new" class="table-of-contents__link toc-highlight">Quartz Beat Synchronization <strong>[NEW]</strong></a><ul><li><a href="#quartz-clock-management" class="table-of-contents__link toc-highlight">Quartz Clock Management</a></li><li><a href="#quantized-layer-control" class="table-of-contents__link toc-highlight">Quantized Layer Control</a></li><li><a href="#timing-queries" class="table-of-contents__link toc-highlight">Timing Queries</a></li><li><a href="#quantized-stingers" class="table-of-contents__link toc-highlight">Quantized Stingers</a></li><li><a href="#quartz-events" class="table-of-contents__link toc-highlight">Quartz Events</a></li></ul></li><li><a href="#gameplaytag-integration" class="table-of-contents__link toc-highlight">GameplayTag Integration</a><ul><li><a href="#setup" class="table-of-contents__link toc-highlight">Setup</a></li><li><a href="#tag-based-functions" class="table-of-contents__link toc-highlight">Tag-Based Functions</a></li><li><a href="#preset-registry-system" class="table-of-contents__link toc-highlight">Preset Registry System</a></li><li><a href="#layer-vs-preset-registry-when-to-use-what" class="table-of-contents__link toc-highlight">Layer vs Preset Registry: When to Use What?</a></li><li><a href="#gameplaytag-best-practices" class="table-of-contents__link toc-highlight">GameplayTag Best Practices</a></li></ul></li><li><a href="#metasound-control" class="table-of-contents__link toc-highlight">MetaSound Control</a><ul><li><a href="#set-metasound-parameter" class="table-of-contents__link toc-highlight">Set MetaSound Parameter</a></li><li><a href="#trigger-metasound-event" class="table-of-contents__link toc-highlight">Trigger MetaSound Event</a></li><li><a href="#set-metasound-bool" class="table-of-contents__link toc-highlight">Set MetaSound Bool</a></li><li><a href="#set-metasound-int" class="table-of-contents__link toc-highlight">Set MetaSound Int</a></li><li><a href="#metasound-setup-example" class="table-of-contents__link toc-highlight">MetaSound Setup Example</a></li><li><a href="#metasound-best-practices" class="table-of-contents__link toc-highlight">MetaSound Best Practices</a></li><li><a href="#metasound-vs-multiple-layers" class="table-of-contents__link toc-highlight">MetaSound vs Multiple Layers</a></li></ul></li><li><a href="#data-assets" class="table-of-contents__link toc-highlight">Data Assets</a><ul><li><a href="#uerp_musiclayerpreset" class="table-of-contents__link toc-highlight">UERP_MusicLayerPreset</a></li></ul></li><li><a href="#actors--components" class="table-of-contents__link toc-highlight">Actors &amp; Components</a><ul><li><a href="#aerp_musicvolume" class="table-of-contents__link toc-highlight">AERP_MusicVolume</a></li></ul></li><li><a href="#subsystem" class="table-of-contents__link toc-highlight">Subsystem</a><ul><li><a href="#uerp_musicsubsystem" class="table-of-contents__link toc-highlight">UERP_MusicSubsystem</a></li></ul></li><li><a href="#usage-patterns" class="table-of-contents__link toc-highlight">Usage Patterns</a><ul><li><a href="#pattern-1-basic-music-playback" class="table-of-contents__link toc-highlight">Pattern 1: Basic Music Playback</a></li><li><a href="#pattern-2-combat-music-system" class="table-of-contents__link toc-highlight">Pattern 2: Combat Music System</a></li><li><a href="#pattern-3-additive-tension-layer" class="table-of-contents__link toc-highlight">Pattern 3: Additive Tension Layer</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#performance-considerations" class="table-of-contents__link toc-highlight">Performance Considerations</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/setup-guide">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/user-guide">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/ElysMusicEngine/API-Reference">API Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other Plugins</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rogueparadigm.com/ElysGenAIPlugin/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elys GenAI Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rogueparadigm.com/ElysPerceptionPlugin/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elys Perception Plugin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/jm3YjRRT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/RogueParadigm/ElysMusicEngine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/playlist?list=PL_z_boaokQaMepqujehNt2K21F1biMJS9" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.patreon.com/c/ElysGameCreation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Patreon<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://rogueparadigm.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rogue Paradigm<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Rogue Paradigm by Elys. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>