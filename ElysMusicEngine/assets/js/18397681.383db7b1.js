"use strict";(globalThis.webpackChunkelysmusicengine_docs=globalThis.webpackChunkelysmusicengine_docs||[]).push([[638],{6625(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"MetaSoundGuide","title":"MetaSound Guide - Advanced Music Features","description":"This guide shows how to use MetaSounds with ElysMusicEngine for advanced features like intro\u2192loop transitions, dynamic parameters, and more.","source":"@site/../Documentation/MetaSoundGuide.md","sourceDirName":".","slug":"/MetaSoundGuide","permalink":"/ElysMusicEngine/MetaSoundGuide","draft":false,"unlisted":false,"editUrl":"https://github.com/RogueParadigm/ElysMusicEngine/tree/main/Documentation/../Documentation/MetaSoundGuide.md","tags":[],"version":"current","frontMatter":{}}');var t=r(4848),a=r(8453);const i={},o="MetaSound Guide - Advanced Music Features",l={},d=[{value:"\ud83c\udfb5 Why MetaSounds?",id:"-why-metasounds",level:2},{value:"\ud83d\udce6 Setup: Using MetaSound with a Layer",id:"-setup-using-metasound-with-a-layer",level:2},{value:"1. Create Your MetaSound Source",id:"1-create-your-metasound-source",level:3},{value:"2. Push the Layer (Same as Before!)",id:"2-push-the-layer-same-as-before",level:3},{value:"\ud83c\udf9b\ufe0f Controlling MetaSound Parameters",id:"\ufe0f-controlling-metasound-parameters",level:2},{value:"Get the Audio Component",id:"get-the-audio-component",level:3},{value:"Example: Dynamic Intensity",id:"example-dynamic-intensity",level:3},{value:"\ud83d\udd04 Intro \u2192 Loop Pattern",id:"-intro--loop-pattern",level:2},{value:"MetaSound Setup",id:"metasound-setup",level:3},{value:"Blueprint Usage",id:"blueprint-usage",level:3},{value:"\ud83c\udf9a\ufe0f Common MetaSound Parameters",id:"\ufe0f-common-metasound-parameters",level:2},{value:"Float Parameters",id:"float-parameters",level:3},{value:"Bool Parameters",id:"bool-parameters",level:3},{value:"Trigger Parameters",id:"trigger-parameters",level:3},{value:"\ud83d\udccb Complete Example: Boss Fight Music",id:"-complete-example-boss-fight-music",level:2},{value:"MetaSound: <code>MSS_BossFight</code>",id:"metasound-mss_bossfight",level:3},{value:"Blueprint: Boss Actor",id:"blueprint-boss-actor",level:3},{value:"\ud83d\udd0d Debugging MetaSound Layers",id:"-debugging-metasound-layers",level:2},{value:"Check if Layer is Playing",id:"check-if-layer-is-playing",level:3},{value:"List All Active Layers",id:"list-all-active-layers",level:3},{value:"\ud83d\udca1 Best Practices",id:"-best-practices",level:2},{value:"1. <strong>Parameter Names</strong>",id:"1-parameter-names",level:3},{value:"2. <strong>Intro\u2192Loop</strong>",id:"2-introloop",level:3},{value:"3. <strong>Performance</strong>",id:"3-performance",level:3},{value:"4. <strong>Organization</strong>",id:"4-organization",level:3},{value:"\ud83c\udfaf Quick Reference",id:"-quick-reference",level:2},{value:"Blueprint Functions",id:"blueprint-functions",level:3},{value:"Audio Component Functions (Standard Unreal)",id:"audio-component-functions-standard-unreal",level:3},{value:"\ud83d\ude80 Next Steps",id:"-next-steps",level:2}];function c(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"metasound-guide---advanced-music-features",children:"MetaSound Guide - Advanced Music Features"})}),"\n",(0,t.jsxs)(n.p,{children:["This guide shows how to use ",(0,t.jsx)(n.strong,{children:"MetaSounds"})," with ElysMusicEngine for advanced features like intro\u2192loop transitions, dynamic parameters, and more."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-why-metasounds",children:"\ud83c\udfb5 Why MetaSounds?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"USoundBase"})," (Sound Cues, Sound Waves) = Simple playback",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"MetaSound Source"})," = Advanced features:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Intro \u2192 Loop \u2192 Outro transitions"}),"\n",(0,t.jsx)(n.li,{children:"Dynamic parameters (intensity, filter, pitch)"}),"\n",(0,t.jsx)(n.li,{children:"Crossfade between sections"}),"\n",(0,t.jsx)(n.li,{children:"Beat-synced transitions"}),"\n",(0,t.jsx)(n.li,{children:"Complex audio graphs"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Good news:"})," ElysMusicEngine already supports MetaSounds! (UMetaSoundSource inherits from USoundBase)"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-setup-using-metasound-with-a-layer",children:"\ud83d\udce6 Setup: Using MetaSound with a Layer"}),"\n",(0,t.jsx)(n.h3,{id:"1-create-your-metasound-source",children:"1. Create Your MetaSound Source"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Content Browser"})," \u2192 Right-click \u2192 ",(0,t.jsx)(n.strong,{children:"Sounds \u2192 MetaSound Source"})]}),"\n",(0,t.jsxs)(n.li,{children:["Name it (e.g., ",(0,t.jsx)(n.code,{children:"MSS_CombatMusic"}),")"]}),"\n",(0,t.jsx)(n.li,{children:"Open it and build your graph"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-push-the-layer-same-as-before",children:"2. Push the Layer (Same as Before!)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Event BeginPlay\r\n  \u2193\r\nPush Music Layer\r\n  \u251c\u2500 Layer Name: "Combat"\r\n  \u251c\u2500 Music: MSS_CombatMusic \u2705 (MetaSound Source works!)\r\n  \u251c\u2500 Priority: 10\r\n  \u2514\u2500 ...other settings\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"That's it!"})," MetaSound Sources work exactly like Sound Cues."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-controlling-metasound-parameters",children:"\ud83c\udf9b\ufe0f Controlling MetaSound Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"get-the-audio-component",children:"Get the Audio Component"}),"\n",(0,t.jsxs)(n.p,{children:["To change parameters at runtime, you need the ",(0,t.jsx)(n.strong,{children:"AudioComponent"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Event (e.g., Player Low Health)\r\n  \u2193\r\nGet Layer Audio Component\r\n  \u2514\u2500 Layer Name: "Combat"\r\n  \u2193\r\nIs Valid?\r\n  \u2514\u2500 YES:\r\n      Set Float Parameter\r\n        \u251c\u2500 Target: (Audio Component from above)\r\n        \u251c\u2500 Name: "Intensity"  \u2190 Parameter name from MetaSound\r\n        \u2514\u2500 Float: 0.8\n'})}),"\n",(0,t.jsx)(n.h3,{id:"example-dynamic-intensity",children:"Example: Dynamic Intensity"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"MetaSound Graph:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[Float Parameter: "Intensity" (0.0-1.0)]\r\n  \u2193\r\n[Select between Low/Med/High intensity stems]\r\n  \u2193\r\n[Output]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Blueprint:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Event Tick\r\n  \u2193\r\nGet Player Health Percentage\r\n  \u2193\r\nNormalize to 0.0-1.0\r\n  \u2193\r\nGet Layer Audio Component ("Combat")\r\n  \u2193\r\nSet Float Parameter\r\n  \u251c\u2500 Name: "Intensity"\r\n  \u2514\u2500 Value: (Health percentage)\n'})}),"\n",(0,t.jsx)(n.p,{children:"Result: Music intensity changes smoothly with player health!"}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-intro--loop-pattern",children:"\ud83d\udd04 Intro \u2192 Loop Pattern"}),"\n",(0,t.jsx)(n.h3,{id:"metasound-setup",children:"MetaSound Setup"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Classic pattern for seamless looping:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'MetaSound Graph:\r\n\r\n[Wave Player: "Intro" (Play Once)]\r\n  \u2193\r\n[On Finished] \u2192 Trigger\r\n  \u2193\r\n[Wave Player: "Loop" (Loop Forever)]\r\n  \u2193\r\n[Output]\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Or with parameters:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'[Bool Parameter: "HasPlayed Intro" = false]\r\n  \u2193\r\n[Branch]\r\n  \u251c\u2500 FALSE: Play Intro \u2192 Set "HasPlayedIntro" = true\r\n  \u2514\u2500 TRUE: Play Loop (looping)\r\n  \u2193\r\n[Output]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"blueprint-usage",children:"Blueprint Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Push Music Layer\r\n  \u251c\u2500 Music: MSS_IntroLoopMusic\r\n  \u251c\u2500 FadeIn: 0.0  \u2190 No fade, intro handles it\r\n  \u2514\u2500 Looping: TRUE \u2190 MetaSound handles internal loop\r\n\r\n// Later, to restart from intro:\r\nPop Music Layer ("Combat")\r\nPush Music Layer ("Combat") \u2190 Restarts, plays intro again\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-common-metasound-parameters",children:"\ud83c\udf9a\ufe0f Common MetaSound Parameters"}),"\n",(0,t.jsx)(n.h3,{id:"float-parameters",children:"Float Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'"Intensity" (0.0-1.0) - Mix between calm/intense stems\r\n"FilterCutoff" (20-20000) - Dynamic EQ\r\n"ReverbAmount" (0.0-1.0) - Add space dynamically\r\n"Pitch" (0.5-2.0) - Speed up/slow down\n'})}),"\n",(0,t.jsx)(n.h3,{id:"bool-parameters",children:"Bool Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'"IsInCombat" (true/false) - Toggle combat stems\r\n"IsBossPhase" (true/false) - Enable boss layer\r\n"PlayerLowHealth" (true/false) - Trigger danger music\n'})}),"\n",(0,t.jsx)(n.h3,{id:"trigger-parameters",children:"Trigger Parameters"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:'"TransitionNow" - Force transition to next section\r\n"Hit" - Play hit stinger\r\n"Victory" - Trigger victory flourish\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-complete-example-boss-fight-music",children:"\ud83d\udccb Complete Example: Boss Fight Music"}),"\n",(0,t.jsxs)(n.h3,{id:"metasound-mss_bossfight",children:["MetaSound: ",(0,t.jsx)(n.code,{children:"MSS_BossFight"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'Inputs:\r\n  - Float "Intensity" (0.0-1.0)\r\n  - Bool "IsPhase2"\r\n  - Trigger "Hit"\r\n\r\nGraph:\r\n[Wave: "BossIntro"] \u2192 [Play Once]\r\n  \u2193\r\n[Wave: "BossLoop_Phase1"]\r\n  \u2193\r\n[Branch on "IsPhase2"]\r\n  \u251c\u2500 TRUE: [Wave: "BossLoop_Phase2"]\r\n  \u2514\u2500 FALSE: Continue Phase1\r\n  \u2193\r\n[Mix with intensity parameter]\r\n  \u2193\r\n[On "Hit" trigger: Add drum hit]\r\n  \u2193\r\n[Output]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"blueprint-boss-actor",children:"Blueprint: Boss Actor"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'// Start boss music\r\nEvent BeginPlay\r\n  \u2193\r\nPush Music Layer\r\n  \u251c\u2500 Layer Name: "BossFight"\r\n  \u251c\u2500 Music: MSS_BossFight\r\n  \u251c\u2500 Priority: 15\r\n  \u2514\u2500 FadeIn: 0.0  \u2190 Intro handles fade\r\n\r\n// Update intensity based on boss health\r\nEvent Tick\r\n  \u2193\r\nGet Boss Health (%)\r\n  \u2193\r\nInverse (1.0 - Health%) \u2192 More intense as health decreases\r\n  \u2193\r\nGet Layer Audio Component ("BossFight")\r\n  \u2193\r\nSet Float Parameter\r\n  \u251c\u2500 Name: "Intensity"\r\n  \u2514\u2500 Value: (Inverted health)\r\n\r\n// Phase 2 transition\r\nEvent OnHealthBelow50%\r\n  \u2193\r\nGet Layer Audio Component ("BossFight")\r\n  \u2193\r\nSet Bool Parameter\r\n  \u251c\u2500 Name: "IsPhase2"\r\n  \u2514\u2500 Value: TRUE\r\n\r\n// Hit reaction\r\nEvent OnPlayerHitBoss\r\n  \u2193\r\nGet Layer Audio Component ("BossFight")\r\n  \u2193\r\nSet Trigger Parameter\r\n  \u2514\u2500 Name: "Hit"\r\n\r\n// Boss defeated\r\nEvent OnBossDeath\r\n  \u2193\r\nPop Music Layer ("BossFight")\r\n  \u2193\r\nPush Music Layer\r\n  \u251c\u2500 Layer Name: "Victory"\r\n  \u251c\u2500 Music: MSS_VictoryStinger\r\n  \u2514\u2500 Priority: 20\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-debugging-metasound-layers",children:"\ud83d\udd0d Debugging MetaSound Layers"}),"\n",(0,t.jsx)(n.h3,{id:"check-if-layer-is-playing",children:"Check if Layer is Playing"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Get Layer Info\r\n  \u2514\u2500 Layer Name: "Combat"\r\n  \u2193\r\nBreak Active Music Layer\r\n  \u251c\u2500 Is Valid?\r\n  \u251c\u2500 Audio Component \u2192 Is Playing?\r\n  \u251c\u2500 Priority\r\n  \u2514\u2500 Is Fading Out?\n'})}),"\n",(0,t.jsx)(n.h3,{id:"list-all-active-layers",children:"List All Active Layers"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-blueprint",children:'Get Active Layers\r\n  \u2193\r\nForEach Loop\r\n  \u2193\r\nPrint String\r\n  \u2514\u2500 "Layer: {Name}, Priority: {Priority}, Playing: {IsPlaying}"\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-best-practices",children:"\ud83d\udca1 Best Practices"}),"\n",(0,t.jsxs)(n.h3,{id:"1-parameter-names",children:["1. ",(0,t.jsx)(n.strong,{children:"Parameter Names"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use clear names: ",(0,t.jsx)(n.code,{children:'"Intensity"'})," not ",(0,t.jsx)(n.code,{children:'"Val1"'})]}),"\n",(0,t.jsx)(n.li,{children:"Document your parameters in MetaSound comments"}),"\n",(0,t.jsx)(n.li,{children:"Keep names consistent across MetaSounds"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"2-introloop",children:["2. ",(0,t.jsx)(n.strong,{children:"Intro\u2192Loop"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Use MetaSound's internal logic (cleaner than Blueprint)"}),"\n",(0,t.jsx)(n.li,{children:"Don't rely on Blueprint timers for music transitions"}),"\n",(0,t.jsx)(n.li,{children:"Test loop points carefully (avoid pops/clicks)"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"3-performance",children:["3. ",(0,t.jsx)(n.strong,{children:"Performance"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Don't call ",(0,t.jsx)(n.code,{children:"Set Parameter"})," every tick unless necessary"]}),"\n",(0,t.jsx)(n.li,{children:"Cache Audio Component reference if setting multiple parameters"}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"Set Trigger Parameter"})," for one-shot events"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"4-organization",children:["4. ",(0,t.jsx)(n.strong,{children:"Organization"})]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Prefix MetaSounds: ",(0,t.jsx)(n.code,{children:"MSS_"})," (MetaSound Source)"]}),"\n",(0,t.jsxs)(n.li,{children:["Group by category: ",(0,t.jsx)(n.code,{children:"MSS_Combat_"}),", ",(0,t.jsx)(n.code,{children:"MSS_Ambient_"}),", ",(0,t.jsx)(n.code,{children:"MSS_Boss_"})]}),"\n",(0,t.jsx)(n.li,{children:"Create templates for common patterns (intro\u2192loop, dynamic intensity)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-quick-reference",children:"\ud83c\udfaf Quick Reference"}),"\n",(0,t.jsx)(n.h3,{id:"blueprint-functions",children:"Blueprint Functions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"// Get audio component for parameter control\r\nUAudioComponent* = Get Layer Audio Component(Layer Name)\r\n\r\n// Get layer data\r\nFERP_ActiveMusicLayer = Get Layer Info(Layer Name)\r\n\r\n// Get all active layers\r\nTArray<FERP_ActiveMusicLayer> = Get Active Layers()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"audio-component-functions-standard-unreal",children:"Audio Component Functions (Standard Unreal)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"// Float parameter\r\nSet Float Parameter(Name, Value)\r\n\r\n// Bool parameter\r\nSet Bool Parameter(Name, Value)\r\n\r\n// Trigger parameter\r\nSet Trigger Parameter(Name)\r\n\r\n// Check if playing\r\nbool = Is Playing()\r\n\r\n// Get playback time\r\nfloat = Get Playback Position()\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\ude80 Next Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Create your first MetaSound"})," with intro\u2192loop"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test with Get Layer Audio Component"})," in Blueprint"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Add dynamic parameters"})," (intensity, filter, etc.)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Check Examples.md"})," for more combat/boss music patterns"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"MetaSounds + ElysMusicEngine = Extremely powerful!"})," \ud83c\udfb5"]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>i,x:()=>o});var s=r(6540);const t={},a=s.createContext(t);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);